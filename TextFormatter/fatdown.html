<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](http://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.4 KB (14.9 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[0,0],ba={d:0},n=["","id"],ca={d:514},p={d:3089},da={d:3201},ea=[64499,32576],ia=[65527,32576],q=[49360,16384],ja=[65521,32576],ka=[53191,32576],la=[65352,32576],ma={n:!0},u={n:!1},na=[65344,32580],oa=[65344,32576],pa=[49344,16448],qa={"class":u},ra=["url",/^(\d+)$/,n],v={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1};function sa(a,b){return ta(a,b)}
function ua(a,b){a:{var c=xa;if(b.j){var d,g=ya(a);for(d in g){var e=g[d];if(b.j[d]){var f=b.j[d];if(f.b){c.p(d);for(var h=0;h<f.b.length;++h)if(e=f.b[h](e,d),!1===e){delete a.j[d];break}!1!==e&&a.p(d,e)}}else delete a.j[d]}for(d in b.j)if(f=b.j[d],!(d in a.j)&&f.n){c=!1;break a}}else za(a,{});c=!0}return c}
var Aa=[function(a){return z(a,/^\d+$/)}],A=[ua],Ba=[function(a){return z(a,/^[-\w]+$/)}],Ja=[function(a){var b=Ca.urlConfig,c=xa,d=Da(a.replace(/^\s+/,"").replace(/\s+$/,""));Ea(b,d)?(c&&(d.attrValue=a),a=!1):a=Fa(d);return a}],Ka={b:Aa,n:!0},B={b:Aa,n:!1},La={b:[function(a){return z(a,/^\w+$/)}],n:!1},Ma={b:Ba,n:!1},Na={b:[function(a){return z(a,/^[- +,.0-9A-Za-z_]+$/)}],n:!1},Oa={b:Ja,n:!0},C={b:Ja,n:!1},Pa={c:aa,f:0,b:A,g:10,e:{d:66},i:5E3},Qa={c:ja,f:0,b:A,g:10,e:{d:2},i:5E3},Ra={c:ja,f:0,b:A,
g:10,e:ba,i:5E3},Wa={c:ia,f:0,b:A,g:10,e:{d:512},i:5E3},Xa={q:v,d:256,u:v},Ya={q:v,d:268,u:v},Za={q:v,d:3460,u:v},$a={q:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},d:256,u:v},ab={c:pa,j:{"char":ma},f:7,b:A,g:10,e:p,i:5E3},bb=[sa,ua],cb={q:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},d:256,u:v},eb=[sa,db,ua],fb={align:{b:[function(a){return a.toLowerCase()},
function(a){return z(a,/^(?:center|justify|left|right)$/)}],n:!1}};function gb(a){a:{for(var b in ya(a))if("url"!==b){a=!0;break a}a=!1}return a}
var hb={c:ja,f:2,b:A,g:10,e:{q:v,d:260,u:v},i:5E3},ib={c:na,f:8,b:A,g:10,e:{q:v,d:3456,u:v},i:5E3},jb={c:[65344,32581],f:1,b:A,g:10,e:Za,i:5E3},kb={c:la,f:1,b:A,g:10,e:Za,i:5E3},lb={c:ia,f:3,b:A,g:10,e:{q:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},d:264,u:v},i:5E3},mb={c:ja,f:13,b:A,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},d:256,u:v},i:5E3},
nb={c:[65344,32578],f:10,b:A,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},d:3456,u:v},i:5E3},ob={c:na,f:8,b:A,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,u:v},i:5E3},pb=[sa,ua,gb],qb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$s$ibandcamp"$k$g400px"><$s$k$c100%">$h$k$e><$n$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$p><$m$l@album_id">album=$b@album_id"/><$r$l@track_num">/t=$b@track_num"/></$r></$m><$o>track=$b@track_id"/></$o></$p></$n></iframe></$s></$s>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$l@lang"><$n$qclass">language-$b@lang"/></$n></$r>$f</code></pre>$d$aDAILYMOTION"><$s$idailymotion"$k$g640px"><$s$k$c56.25%">$h$t//www.dailymotion.com/embed/video/{@id}"$k$e/></$s></$s>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUB|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$thttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$b@char"/>$d$aHC"><xsl:comment>$b@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img$t{@src}">$jalt|@title"/></img>$d$aLIST"><$p><$m$lnot(@type)"><ul>$f</ul></$m><$o><ol>$jstart"/>$f</ol></$o></$p>$d$aLIVELEAK"><$s$iliveleak"$k$g640px"><$s$k$c56.25%">$h$t//www.liveleak.com/ll_embed?i={@id}"$k$e/></$s></$s>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$n$qsrc">https://w.soundcloud.com/player/?url=<$p><$m$l$u">https%3A//api.soundcloud.com/playlists/$b$u"/></$m><$m$l@track_id">https%3A//api.soundcloud.com/tracks/$b@track_id"/>&amp;secret_token=$b@secret_token"/></$m><$o><$r$lnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$b@id"/></$o></$p></$n><$n$qstyle">border:0;height:<$p><$m$l$u or contains(@id,\'/sets/\')">450</$m><$o>166</$o></$p>px;max-width:900px;width:100%</$n></iframe>$d$aSPOTIFY"><$s$ispotify"$k$g400px"><$s$k$c120%">$h$k$e><$n$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$p><$m$l@uri">$b@uri"/></$m><$o>spotify:$btranslate(@path,\'/\',\':\')"/></$o></$p></$n></iframe></$s></$s>$d$aTD"><td><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</td>$d$aTH"><th><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</th>$d$aTWITCH"><$s$itwitch"$k$g640px"><$s$k$c56.25%">$h$k$e><$n$qsrc">//<$p><$m$l@clip_id">clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$l@channel">$b@channel"/>/</$r>$b@clip_id"/></$m><$o>player.twitch.tv/?autoplay=false&amp;<$p><$m$l@video_id">video=v$b@video_id"/></$m><$o>channel=$b@channel"/></$o></$p><$r$l@t">&amp;time=$b@t"/></$r></$o></$p></$n></iframe></$s></$s>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$s$ivimeo"$k$g640px"><$s$k$c56.25%">$h$t//player.vimeo.com/video/{@id}"$k$e/></$s></$s>$d$aVINE"><$s$ivine"$k$g480px"><$s$k$c100%">$h$thttps://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$s></$s>$d$aYOUTUBE"><$s$iyoutube"$k$g640px"><$s$k$c56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$n$qsrc">https://www.youtube.com/embed/$b@id"/><$r$l@list">?list=$b@list"/></$r><$r$l@t or@h or@m"><$p><$m$l@list">&amp;</$m><$o>?</$o></$p>start=<$p><$m$l@t">$b@t"/></$m><$m$l@h and@m and@s">$b@h*3600+@m*60+@s"/></$m><$m$l@h and@m">$b@h*3600+@m*60"/></$m><$m$l@h and@s">$b@h*3600+@s"/></$m><$m$l@h">$b@h*3600"/></$m><$m$l@m and@s">$b@m*60+@s"/></$m><$m$l@m">$b@m*60"/></$m></$p></$r></$n></iframe></$s></$s>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$s"><$s>$jclass"/>$f</$s>$d$ahtml:td"><td>$jcol$s|@row$s"/>$f</td>$d$ahtml:th"><th>$jcol$s|@row$s|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-u]/g,
function(a){return{$a:'<xsl:template match="',$b:'<xsl:value-of select="',$c:"display:block;overflow:hidden;position:relative;padding-bottom:",$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:' test="',$m:"xsl:when",$n:"xsl:attribute",$o:"xsl:otherwise",$p:"xsl:choose",
$q:' name="',$r:"xsl:if",$s:"span",$t:' src="',$u:"@playlist_id"}[a]});function rb(a){var b=document.createElement("b");rb=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return rb(a)}function sb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function tb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function db(){return!0}
function ub(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function z(a,b){return b.test(a)?a:!1}
function Da(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,g){c[a]=""<b[g+1]?b[g+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Fa(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=ub(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+ub(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,
"$1%3A",b));return b}
function Ea(a,b){if(""!==b.scheme&&!a.U.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,g=c.split(".");0<=--d;){if("0"===g[d][0]||255<g[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.W&&a.W.test(b.host)||a.$&&!a.$.test(b.host))return"URL host is not allowed"}}function vb(){}vb.prototype={p:function(){}};function wb(a,b,c,d,g){this.r=+a;this.l=b;this.k=+c;this.o=+d;"undefined"!==typeof g&&(this.E=+g);this.j={};this.M=[];isNaN(a+c+d)&&D(this)}wb.prototype.D=!1;function xb(a,b){a.M.push(b);a.D&&D(b)}function D(a){a.D||(a.D=!0,a.M.forEach(function(a){D(a)}))}
function H(a,b){a.l===b.l&&(1===a.r&&2===b.r&&b.k>=a.k?(a.A=b,b.H=a,xb(a,b)):2===a.r&&1===b.r&&b.k<=a.k&&(a.H=b,b.A=a))}function ya(a){var b={},c;for(c in a.j)b[c]=a.j[c];return b}function yb(a,b){return a.D||a.l!==b.l||1!==b.r||2!==a.r||a.k<b.k||a.H&&a.H!==b||b.A&&b.A!==a?!1:!0}wb.prototype.p=function(a,b){this.j[a]=b};function za(a,b){a.j={};for(var c in b)a.j[c]=b[c]}
var zb,Ab,J,Bb,K,Cb,xa=new vb,Db,L,M,Fb={Autoemail:{x:function(a,b){b.forEach(function(a){var b=O(1,"EMAIL",a[0][1],0,0);b.p("email",a[0][0]);a=P("EMAIL",a[0][1]+a[0][0].length,0);H(b,a)})},y:"@",z:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,B:5E4},Autolink:{x:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=P("URL",b+a.length,0);"."===a[3]&&(a="http://"+a);b=O(1,"URL",b,0,1);b.p("url",a);H(b,c)}})},y:"://",z:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
B:5E4},Escaper:{x:function(a,b){b.forEach(function(a){Q("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},y:"\\",z:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,B:5E4},FancyPants:{x:function(a){function b(a,b,c,d){a=O(3,w,a,b,d||0);a.p(t,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,l;l=d.exec(a);)b(+l.index,l[0].length,c[l[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,l=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=l.exec(a);)b(+d.index,d[0].length,c[d[0]])}function g(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var l=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,
2,"\u00bb");xb(l,c)}}function e(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function f(c,d,l,f){for(var g;g=d.exec(a);){var t=b(+g.index+g[0].indexOf(c),1,l);g=b(+g.index+g[0].length-1,1,f);xb(t,g)}}function h(){if(x)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)}function k(){if(x||r||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,l=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=l.exec(a);){"x"===d[0][d[0].length-1]&&b(+d.index+d[0].length-1,1,"\u00d7");var f=d[0].substr(1,2);c[f]&&b(+d.index+1,1,c[f])}}function m(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,l;l=d.exec(a);)b(+l.index,l[0].length,c[l[0].toLowerCase()])}var l={V:"char",L:"FP"},t=l.V,x=0<=a.indexOf("'"),r=0<=a.indexOf('"'),w=l.L;l.ea||(h(),x&&f("'",
/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),r&&f('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));l.ba||g();l.ca||(e(),k(),d());l.da||c();l.fa||m()}},HTMLComments:{x:function(a,b){b.forEach(function(a){var b=rb(a[0][0].substr(4,a[0][0].length-7));b=b.replace(/[<>]/g,"");b=b.replace(/--/g,"");O(3,"HC",a[0][1],a[0][0].length,0).p("content",b)})},y:"\x3c!--",z:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,B:5E4},HTMLElements:{x:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},
sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a[b[0][1]+1],e=b[0][1],f=b[0][0].length,h=b[2-d][0].toLowerCase(),k=c&&c[h]&&c[h][""]?c[h][""]:"html:"+h;if(d)P(k,e,f);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?Q(k,e,f,e+f,0):O(1,k,e,f,0);b=b[3][0];e=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;for(var m;k=e.exec(b);)m=k[0].indexOf("="),0>m&&(m=k[0].length,k[0]+="="+k[0].toLowerCase()),f=k[0].substr(0,m).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),k=k[0].substr(1+m).replace(/^\s+/,
"").replace("/s+$/",""),c&&c[h]&&c[h][f]&&(f=c[h][f]),/^["']/.test(k)&&(k=k.substr(1,k.length-2)),d.p(f,rb(k))}})},y:"<",z:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
B:5E4},HTMLEntities:{x:function(a,b){b.forEach(function(a){var b=a[0][0],c=rb(b);c===b||32>c.charCodeAt(0)||O(3,"HE",a[0][1],b.length,0).p("char",c)})},y:"&",z:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,B:5E4},Litedown:{x:function(a){function b(a){-1<a.indexOf("&")&&(a=rb(a));a=a.replace(/\x1A/g,"");h&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`",
"\u001bC":"~"}[a]}));return a}function c(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function d(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function g(b,c){0<c&&(a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c))}function e(b,c,d,f){function l(d){d=a.indexOf(c+"(",d);if(-1!==d){var t;for(f.lastIndex=d;t=f.exec(a);){var w=t[0];t=+t.index;var e=w.length;Q(b,t,2,t+e-1,1);g(t,e)}w&&l(d)}}var t=a.indexOf(c);-1!==t&&(function(f){var l;for(d.lastIndex=f;l=
d.exec(a);){f=l[0];l=+l.index;var t=f.substr(-1)===c?1:0;Q(b,l,1,l+f.length-t,t)}}(t),l(t))}function f(a,c,d){c=c.replace(/^\s*/,"").replace(/\s*$/,"");var f="",l=c.indexOf(" ");-1!==l&&(f=c.substr(l).replace(/^\s*\S/,"").replace(/\S\s*$/,""),c=c.substr(0,l));a.p(d,b(c));""<f&&a.p("title",b(f))}var h=!1,k=!1,m={};0<=a.indexOf("\\")&&(h=!0,a=a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6",
"\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]}));a+="\n\n\u0017";(function(){function b(a,b){H(P("LIST",b,0),a.X);H(P("LI",b,0),a.J);a.S&&a.K.forEach(function(a){a.d&=-9})}function c(a,b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function f(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function e(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var b,c=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=c.exec(a);){var d=
b[0];b=b.index;for(var f=b-1;0<f&&" "===a[f-1];)--f;w[b-1]={O:b+d.length-f,P:f,Z:d.length-d.replace(/>/g,"").length,L:"="===d[0]?"H1":"H2"}}}var w={};(function(){e();for(var l,t=4,h,x=!0,k=[],r=0,m=!1,Nb=[],va=0,R=0,wa,fa,Ga,N,Ta,Ob,I,E,Ua,Ha,W,X,ha,Pb=[],Va,Ia=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Va=Ia.exec(a);)Pb.push(Va),Va.index===Ia.lastIndex&&++Ia.lastIndex;
Pb.forEach(function(e){var y=e.index,F=e[0].length,G;W=N=0;fa=!x;I=a.indexOf("\n",y);x=I===y+F&&!e[3]&&!e[4]&&!e[5];F||++Ia.lastIndex;wa=x&&fa;e[1]&&(W=e[1].length-e[1].replace(/>/g,"").length,N=e[1].length,h&&"quoteDepth"in h.j&&(W=Math.min(W,h.j.quoteDepth),N=c(e[1],W)),g(y,N));if(W<va&&!fa){m=!0;do H(P("QUOTE",R,0),Nb.pop());while(W<--va)}if(W>va&&!x){m=!0;do{var V=O(1,"QUOTE",y,0,va-999||0);Nb.push(V)}while(W>++va)}var S=G=0;if(e[2]&&!l){Ta=e[2];Ob=Ta.length;do" "===Ta[S]?++G:G=G+4&-4;while(++S<
Ob&&G<t)}h&&!l&&G<t&&!x&&(m=!0);m&&(m=!1,h&&(R>h.k?(g(h.k,R-h.k),Ga=P("CODE",R,0,-1),H(Ga,h)):D(h),l=h=null),k.forEach(function(a){b(a,R)}),k=[],r=0,y&&d(y-1));if(G>=t){if(h||!fa)N=(e[1]||"").length+S,h||(h=O(1,"CODE",y+N,0,-999)),e={}}else{V=!!e[4];if(G||fa||V)if(fa&&!V)E=r-1;else if(r)for(E=0;E<r&&G>k[E].Q;)++E;else E=V?0:-1;else E=-1;for(;E<r-1;)b(k.pop(),R),--r;E!==r||V||--E;if(V&&0<=E)if(wa=!0,X=y+N+S,ha=e[4].length,S=O(1,"LI",X,ha,0),g(X,ha),E<r)H(P("LI",R,0),k[E].J),k[E].J=S,k[E].K.push(S);
else{++r;E?(Ha=k[E-1].Q+1,Ua=Math.max(Ha,4*E)):(Ha=0,Ua=G);G=O(1,"LIST",X,0,0);if(-1<e[4].indexOf(".")){G.p("type","decimal");var Mb=+e[4];1!==Mb&&G.p("start",Mb)}k.push({X:G,J:S,K:[S],ga:Ha,Q:Ua,S:!0})}!r||fa||x||(1<k[0].K.length||!V)&&k.forEach(function(a){a.S=!1});t=4*(r+1)}if(e[5])if("#"===e[5][0])S=e[5].length,V=y+F-S,G=f(y+F,I),F=I-G,Q("H"+/#{1,6}/.exec(e[5])[0].length,V,S,F,G),d(V),d(I),fa&&(wa=!0);else{if("`"===e[5][0]||"~"===e[5][0])X=y+N,ha=I-X,h&&e[5]===l?(Ga=P("CODE",X,ha,-1),H(Ga,h),
Eb(R,X-R),g(h.k,X+ha-h.k),l=h=null):h||(h=O(1,"CODE",X,ha,0),l=e[5].replace(/[^`~]+/,""),h.p("quoteDepth",W),Eb(X+ha,1),e=e[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==e&&h.p("lang",e))}else e[3]&&!r&&"\u0017"!==a[y+F]?(O(3,"HR",y+N,F-N,0),wa=!0,d(I)):!w[I]||w[I].Z!==W||x||r||h||(Q(w[I].L,y+N,0,w[I].P,w[I].O),d(w[I].P+w[I].O));wa&&(O(3,"pb",R,0,0),d(R));x||(R=I);N&&Eb(y,N,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=
c.exec(a);){Eb(b.index,b[0].length,-2);var d=b[1].toLowerCase();m[d]||(k=!0,m[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,f=[],e=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(e);)f.push({k:b.index,o:b[1].length,T:d,aa:b[2].length,R:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=f}e=-1;for(d=c.length;++e<d-1;)for(b=c[e].R,f=e,"`"!==a[c[e].k]&&(++c[e].k,--c[e].o);++f<d&&c[f].k===b;){if(c[f].o===c[e].o){e=c[e];var h=
c[f];b=e.k;var k=h.k-h.T;h=h.o+h.T;Q("C",b,e.o+e.aa,k,h);g(b,k+h-b);e=f;break}b=c[f].R}})();(function(){function c(a,c,d,e,l){var h=Q("IMG",a,2,c,d);f(h,e,"src");h.p("alt",b(l));g(a,c+d-a)}(function(){var b=a.indexOf("![");if(-1!==b){if(0<a.indexOf("](",b))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=d.exec(a);){var f=b[1],e=b.index,g=3+f.length;c(e,e+b[0].length-g,g,f,b[0].substr(2,b[0].length-g-
2))}if(k)for(d=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;b=d.exec(a);){f=+b.index;e=f+2+b[1].length;g=1;var l=b[1],h=l;if(""<b[2]&&m[b[2]])g=b[0].length-l.length-2,h=b[2];else if(!m[h])continue;c(f,e,g,m[h],l)}}})()})();(function(){function b(a,b,c,d){var e=Q("URL",a,1,b,c,1===c?1:-1);f(e,d,"url");g(a,1);g(b,c)}function c(){for(var c,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=d.exec(a);){var f=
c[1],e=c.index,g=3+f.length;b(e,e+c[0].length-g,g,f)}}function d(){for(var c={},d,f=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=f.exec(a);)c[d.index]=d[1].toLowerCase();for(var e in c){d=c[e];f=+e+2+d.length;var g=f-1,l=1;" "===a[f]&&++f;""<c[f]&&m[c[f]]&&(d=c[f],l=f+2+d.length-g);m[d]&&b(+e,g,l,m[d])}}-1!==a.indexOf("](")&&c();k&&d()})();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~(?!~)/g;b=c.exec(a);){var d=b.index;b=d+b[0].length-2;Q("DEL",d,2,b,2);g(d,2);g(b,2)}})();e("SUB","~",
/~(?!\()[^\x17\s~()]+~?/g,/~\([^\x17()]+\)/g);e("SUP","^",/\^(?!\()[^\x17\s^()]+\^?/g,/\^\([^\x17()]+\)/g);(function(){function b(b,f){var e=a.indexOf(b);if(-1!==e){var g=[],h=[],l=a.indexOf("\u0017",e),k;for(f.lastIndex=e;k=f.exec(a);)e=k.index,k=k[0].length,e>l&&(h.push(g),g=[],l=a.indexOf("\u0017",e)),"_"===a.charAt(e)&&1===k&&0<e&&c(a[e-1])&&c(a[e+k])||g.push([e,k]);h.push(g);h.forEach(d)}}function d(b){m=g=null;b.forEach(function(b){var c=b[0];b=b[1];var d=!(-1<" \n\t".indexOf(a[c+b-1+1])),l=
0<c&&-1<" \n\t".indexOf(a.charAt(c-1))?0:Math.min(b,3);f=l&1&&null!==g;e=l&2&&null!==m;Sa=h=c;k=b;null!==g&&g===m&&(f?g+=2:++m);f&&e&&(g<m?h+=2:++Sa);f&&(--k,Q("EM",g,1,h,1),g=null);e&&(k-=2,Q("STRONG",m,2,Sa,2),m=null);k=d?Math.min(k,3):0;c+=b;k&1&&(g=c-k);k&2&&(m=c-k)})}var f,e,g,h,k,m,Sa;b("*",/\*+/g);b("_",/_+/g)})();(function(){for(var b=a.indexOf("  \n");0<b;)O(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{x:function(a,b){b.forEach(function(a){var b=a[0][0];O(3,"MEDIA",a[0][1],b.length,
-10).p("url",b)})},y:":",z:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,B:5E4},PipeTables:{x:function(a){function b(a,b){e=b.k;b.G.split("|").forEach(function(b,c){0<c&&(xb(h,Eb(e,1,1E3)),++e);var d=f.N[c]?f.N[c]:"",g=e,l=g+b.length;e=l;var k=/^( *).*?( *)$/.exec(b);if(k[1]){var m=k[1].length;xb(h,Eb(g,m,1E3));g+=m}k[2]&&(m=k[2].length,xb(h,Eb(l-m,m,1E3)),l-=m);l=g===l?O(3,a,g,0,-101):Q(a,g,0,l,0,-101);d&&l.p("align",d)});Q("TR",b.k,0,e,0,-102)}function c(){if(f&&2<f.v.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(f.v[1].G)){for(var a=
f,b=f.v[1].G,c=["","right","left","center"],d=[],e=/(:?)-+(:?)/g,g;g=e.exec(b);)d.push(c[(g[1]?2:0)+(g[2]?1:0)]);a.N=d;k.push(f)}f=null}function d(a){return a.replace(/>/g," ")}function g(a){return a.replace(/\|/g,".")}var e,f=null,h,k;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,g));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){f=null;k=[];e=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;f||(f={v:[]},
d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");f.v.push({G:b,k:e+d})}e+=1+a.length});c()})();(function(){for(var a=-1,c=k.length;++a<c;){f=k[a];var d=f.v[f.v.length-1];h=Q("TABLE",f.v[0].k,0,d.k+d.G.length,0,-104);b("TH",f.v[0]);Q("THEAD",f.v[0].k,0,e,0,-103);d=f.v[1];xb(h,Eb(d.k-1,1+d.G.length,1E3));d=1;for(var g=f.v.length;++d<g;)b("TD",f.v[d]);Q("TBODY",f.v[2].k,0,e,0,-103)}})()},y:"|"}},T,Ca={mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion",
"facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{U:/^(?:ftp|https?)$/i}},Gb={c:ia,d:8},U={BANDCAMP:{c:q,j:{album_id:B,track_id:B,track_num:B,url:C},f:5,b:[db,ua,gb],g:10,e:p,i:5E3},C:Pa,CODE:{c:aa,j:{lang:Na},f:1,b:A,g:10,e:{q:v,d:4436,u:v},i:5E3},DAILYMOTION:{c:q,w:[["url",
/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,n],["url",/^([A-Za-z0-9]+)$/,n]],j:{id:{b:[function(a){return z(a,/^[A-Za-z0-9]+$/)}],n:!0},url:C},f:5,b:bb,g:10,e:p,i:5E3},DEL:Wa,EM:Qa,EMAIL:{c:ka,j:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],n:!0}},f:5,b:A,g:10,e:ca,i:5E3},ESC:{c:aa,f:6,b:A,g:10,e:{d:1616},i:5E3},FACEBOOK:{c:q,w:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,
n],["url",/\/(video)s?\//,["","type"]],ra],j:{id:Ka,type:{b:[function(a){return z(a,/^video$/)}],n:!1},url:C},f:5,b:bb,g:10,e:p,i:5E3},FP:ab,H1:hb,H2:hb,H3:hb,H4:hb,H5:hb,H6:hb,HC:{c:aa,j:{content:ma},f:6,b:A,g:10,e:{d:3153},i:5E3},HE:ab,HR:{c:pa,f:1,b:A,g:10,e:{q:v,d:3349},i:5E3},IMG:{c:pa,j:{alt:u,src:Oa,title:u},f:0,b:A,g:10,e:p,i:5E3},LI:lb,LIST:{c:la,j:{start:{b:[function(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}],n:!1},type:Na},f:1,b:A,g:10,e:Za,i:5E3},LIVELEAK:{c:q,w:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,
n],["url",/^([a-f_0-9]+)$/,n]],j:{id:{b:[function(a){return z(a,/^[a-f_0-9]+$/)}],n:!0},url:C},f:5,b:bb,g:10,e:p,i:5E3},MEDIA:{c:[65527,32512],f:14,b:[function(a){return function(a,c){function b(a,b){var c=a.A;if(c){var d=a.k,e=a.o,g=c.k;c=c.o}else d=a.k,e=0,g=a.k+a.o,c=0;za(Q(b.toUpperCase(),d,e,g,c,a.E),ya(a))}return function(a,c){if("site"in a.j){var d=a.j.site.toLowerCase();a:{for(e in c)if(c[e]===d){var e=!0;break a}e=!1}e&&b(a,d)}else if("url"in a.j){e=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.j.url);
if(e[1]&&c[e[1]+":"])d=c[e[1]+":"];else if(e[2])a:{d=e[2];do{if(c[d]){d=c[d];break a}e=d.indexOf(".");if(0>e)break;d=d.substr(1+e)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Ca.mediasites)}],g:10,e:{d:513},i:5E3},QUOTE:{c:ia,f:1,b:A,g:10,e:Ya,i:5E3},SOUNDCLOUD:{c:q,w:[["url",/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,n],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,
["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/i,n]],j:{id:{b:[function(a){return z(a,/^(?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/i)}],n:!0},playlist_id:B,secret_token:Ma,track_id:B,url:C},f:5,b:eb,g:10,e:p,i:5E3},SPOTIFY:{c:q,w:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,
["","path"]]],j:{path:{b:[function(a){return z(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],n:!1},uri:{b:[function(a){return z(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],n:!1},url:C},f:5,b:pb,g:10,e:p,i:5E3},STRONG:Qa,SUB:Ra,SUP:Ra,TABLE:jb,TBODY:ob,TD:{c:ia,j:fb,f:9,b:A,g:10,e:cb,i:5E3},TH:{c:ea,j:fb,f:9,b:A,g:10,e:cb,i:5E3},THEAD:ib,TR:nb,TWITCH:{c:q,w:[["url",/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],["url",/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],
["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,["","t"]],["url",/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],j:{channel:La,clip_id:La,t:{b:[function(a){return z(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],n:!1},url:C,video_id:B},f:5,b:pb,g:10,e:p,i:5E3},URL:{c:ka,j:{title:u,url:Oa},f:4,b:A,g:10,e:ca,i:5E3},VIMEO:{c:q,w:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,n],ra],j:{id:Ka,url:C},f:5,b:bb,g:10,e:p,i:5E3},VINE:{c:q,w:[["url",/vine\.co\/v\/([^\/]+)/,n],["url",/^([^\/]+)$/,n]],j:{id:{b:[function(a){return z(a,
/^[^\/]+$/)}],n:!0},url:C},f:5,b:bb,g:10,e:p,i:5E3},YOUTUBE:{c:q,w:[["url",/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,n],["url",/youtu\.be\/([-\w]+)/,n],["url",/[#&?]t=(?:(\d+)(?![\dhm])|(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?)/,["","t","h","m","s"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,n]],j:{h:B,id:{b:Ba,n:!0},list:Ma,m:B,s:B,t:B,url:C},f:5,b:eb,g:10,e:p,i:5E3},"html:abbr":{c:ja,j:{title:u},f:0,b:A,g:10,e:ba,i:5E3},"html:b":Qa,"html:br":{c:oa,f:0,b:A,g:10,e:da,
i:5E3},"html:code":Pa,"html:dd":{c:ia,f:11,b:A,g:10,e:$a,i:5E3},"html:del":Wa,"html:div":{c:ia,j:qa,f:1,b:A,g:10,e:Ya,i:5E3},"html:dl":{c:[65344,32584],f:1,b:A,g:10,e:Za,i:5E3},"html:dt":{c:ea,f:11,b:A,g:10,e:$a,i:5E3},"html:i":Qa,"html:img":{c:oa,j:{alt:u,height:u,src:C,title:u,width:u},f:0,b:A,g:10,e:da,i:5E3},"html:ins":Wa,"html:li":lb,"html:ol":kb,"html:pre":{c:ja,f:1,b:A,g:10,e:{q:v,d:276,u:v},i:5E3},"html:rb":{c:ja,f:12,b:A,g:10,e:Xa,i:5E3},"html:rp":mb,"html:rt":mb,"html:rtc":{c:[65521,32608],
f:12,b:A,g:10,e:Xa,i:5E3},"html:ruby":{c:[65521,32624],f:0,b:A,g:10,e:ba,i:5E3},"html:span":{c:ja,j:qa,f:0,b:A,g:10,e:ba,i:5E3},"html:strong":Qa,"html:sub":Ra,"html:sup":Ra,"html:table":jb,"html:tbody":ob,"html:td":{c:ia,j:{colspan:u,rowspan:u},f:9,b:A,g:10,e:cb,i:5E3},"html:tfoot":{c:na,f:8,b:A,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},
d:3456,u:v},i:5E3},"html:th":{c:ea,j:{colspan:u,rowspan:u,scope:u},f:9,b:A,g:10,e:cb,i:5E3},"html:thead":ib,"html:tr":nb,"html:u":Qa,"html:ul":kb},Y,Hb,Z,Ib,Jb=0,Kb;
function Lb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");zb={};Ab={};Bb=0;K=null;Cb=!1;Db={};L=[];M="";T=0;Y=[];Hb=!1;Z=a;Ib=Z.length;Kb=0;J=Gb;J.F=!1;++Jb;a=Jb;for(var b in Fb)if(!Fb[b].I)a:{var c=b,d=Fb[c];if(!(d.y&&0>Z.indexOf(d.y))){var g=[];if(d.z){g=void 0;var e=d.z;d=d.B;e.lastIndex=0;for(var f=[],h=0;++h<=d&&(g=e.exec(Z));){for(var k=+g.index,m=[[g[0],k]],l=0;++l<g.length;){var t=g[l];void 0===t?m.push(["",-1]):(m.push([t,Z.indexOf(t,k)]),k+=t.length)}f.push(m)}g=
f;if(!g.length)break a}(0,Fb[c].x)(Z,g)}}Qb();Rb(Ib,0,!0);do b=M,M=M.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(M!==b);M=M.replace(/<\/i><i>/g,"",M);M=M.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sb);c=Cb?"r":"t";b="<"+c;for(var x in Db)b+=" xmlns:"+x+'="urn:s9e:TextFormatter:'+x+'"';M=b+">"+M+"</"+c+">";if(Jb!==a)throw"The parser has been reset during execution";return M}
function ta(a,b){b.w&&b.w.forEach(function(b){var c=b[0];if(c in a.j){b=Tb(a.j[c],b[1],b[2]);for(var g in b)g!==c&&g in a.j||a.p(g,b[g])}});return!0}function Tb(a,b,c){var d=b.exec(a);if(!d)return[];var g={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(g[a]=d[b])});return g}function Sb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Ub(a){Cb=!0;var b=a.l,c=a.k,d=a.o,g=a.d,e=0,f=0;g&256&&(e=1,f=a.r&2?2:1);var h=!1;a.r&1?g&4&&(h=!0):h=!0;Rb(c,e,h);e=d?tb(Z.substr(c,d)):"";if(a.r&1){g&4||Vb(c);g=b.indexOf(":");0<g&&(Db[b.substr(0,g)]=0);M+="<"+b;var k=ya(a);g=[];for(var m in k)g.push(m);g.sort(function(a,b){return a>b?1:-1});g.forEach(function(a){M+=" "+a+'="'+sb(k[a].toString()).replace(/\n/g,"&#10;")+'"'});M=3===a.r?d?M+(">"+e+"</"+b+">"):M+"/>":d?M+("><s>"+e+"</s>"):M+">"}else d&&(M+="<e>"+e+"</e>"),M+="</"+b+">";for(Kb=
T=c+d;f&&Kb<Ib&&"\n"===Z[Kb];)--f,++Kb}
function Rb(a,b,c){c&&(J.d&8?b=-1:c=!1);T>=a&&c&&Wb();if(Kb>T){var d=Math.min(a,Kb);M+=Z.substr(T,d-T);T=d;T>=a&&c&&Wb()}if(J.d&128)d=a-T,b=Z.substr(T,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),M+=b,T=a,c&&Wb();else{var g=a;for(d=0;b&&--g>=T;){var e=Z[g];if(" "!==e&&"\n"!==e&&"\t"!==e)break;"\n"===e&&--b;++d}a-=d;if(J.d&8)for(J.F||(Xb(a),a>T&&Vb(a)),b=Z.indexOf("\n\n",T);-1<b&&b<a;)Rb(b,0,!0),Vb(a),b=Z.indexOf("\n\n",T);a>T&&(b=tb(Z.substr(T,a-T)),M+=b);c&&Wb();d&&(M+=Z.substr(a,d));T=a+d}}
function Yb(a){var b=a.k;a=a.o;var c=Z.substr(b,a);Rb(b,0,!1);M+="<i>"+tb(c)+"</i>";Cb=!0;T=b+a}function Vb(a){!J.F&&J.d&8&&(Xb(a),T<Ib&&(M+="<p>",J.F=!0))}function Wb(){J.F&&(M+="</p>",J.F=!1)}function Xb(a){for(;T<a&&-1<" \n\t".indexOf(Z[T]);)M+=Z[T],++T}function Zb(a,b){var c=a.l;(K.d|a.d)&256&&(b=$b(b));c=P(c,b,0);H(c,a)}function $b(a){for(;a>T&&-1<" \n\t".indexOf(Z[a-1]);)--a;return a}
function Qb(){if(Y.length){for(var a in U)zb[a]=0,Ab[a]=0;do{for(;Y.length;)Hb||(Y.sort(ac),Hb=!0),K=Y.pop(),bc();L.forEach(function(a){Zb(a,Ib)})}while(Y.length)}}
function bc(){J.d&64&&!yb(K,L[L.length-1])&&!(-1<"br i pb v".indexOf(K.l))&&D(K);var a=K.k,b=K.o;if(T>a&&!K.D){var c;if((c=K.H)&&0<=L.indexOf(c)){H(P(c.l,T,Math.max(0,a+b-T)),c);return}if("i"===K.l&&(a=a+b-T,0<a)){Eb(T,a);return}D(K)}if(!K.D)if("i"===K.l)Yb(K);else if("br"===K.l)J.d&1024||(Rb(K.k,0,!1),M+="<br/>");else if("pb"===K.l)Rb(K.k,0,!0);else if("v"===K.l)a=J.d,J.d=K.d,Rb(K.k+K.o,0,!1),J.d=a;else if(K.r&1)if(a=K,b=a.l,c=U[b],Ab[b]>=c.i)D(a);else{var d=a,g=U[d.l],e=!0;if(g.b)for(var f=0;f<
g.b.length;++f)if(!g.b[f](d,g)){e=!1;break}if(e){if(d=1E4>Bb){a:{d=a;if(L.length&&(e=d.l,f=U[e],f.e.u)){g=L[L.length-1];var h=g.l;if(f.e.u[h]){if(h!==e&&1E4>Bb){e=d.k+d.o;Y.length?(f=Y[Y.length-1],f=f.k):f=Ib+1;for(;e<f&&-1<" \n\t".indexOf(Z[e]);)++e;e=cc(g,e);xb(d,e)}Y.push(d);Zb(g,d.k);Bb+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(L.length&&(g=U[d.l],g.e.q&&(e=L[L.length-1],g.e.q[e.l]))){++Bb;Y.push(d);Zb(e,d.k);d=!0;break a}d=!1}d=d||!1}d||(zb[b]>=c.g?D(a):(c=U[b].f,J.c[c>>3]&1<<(c&7)?(!(a.d&1)||a.A||
Y.length&&yb(Y[Y.length-1],a)||(b=new wb(3,b,a.k,a.o),za(b,ya(a)),b.d=a.d,a=b),a.d&4096&&!a.A&&"\n"===Z[a.k+a.o]&&Eb(a.k+a.o,1),Ub(a),dc(a)):D(a)))}else D(a)}else ec()}
function ec(){var a=K;if(zb[a.l]){for(var b=[],c=L.length;0<=--c;){var d=L[c];if(yb(a,d))break;b.push(d);++Bb}if(!(0>c)){var g=a.d;b.forEach(function(a){g|=a.d});var e=g&256,f=1E4>Bb,h=[];b.forEach(function(b){var c=b.l;f&&(b.d&2?h.push(b):f=!1);var d=a.k;e&&(d=$b(d));c=new wb(2,c,d,0);c.d=b.d;Ub(c);fc()});Ub(a);fc();if(b.length&&1E4>Bb){d=T;for(c=Y.length;0<=--c&&1E4>++Bb;){var k=Y[c];if(k.k>d||k.r&1)break;for(var m=b.length;0<=--m&&1E4>++Bb;)if(yb(k,b[m])){b.splice(m,1);h[m]&&h.splice(m,1);d=Math.max(d,
k.k+k.o);break}}d>T&&Yb(new wb(3,"i",T,d-T))}h.forEach(function(a){var b=cc(a,T);(a=a.A)&&H(b,a)})}}}function fc(){var a=L.pop();--zb[a.l];J=J.Y}function dc(a){var b=a.l,c=a.d,d=U[b];++Ab[b];if(3!==a.r){var g=[];c&512?J.c.forEach(function(a,b){g.push(d.c[b]&a)}):J.c.forEach(function(a,b){g.push(d.c[b]&(a&65280|a>>8))});c|=J.d&32;c&16&&(c&=-33);++zb[b];L.push(a);J={c:g,d:c,Y:J}}}function P(a,b,c,d){return O(2,a,b,c,d||0)}function Eb(a,b,c){return O(3,"i",a,Math.min(b,Ib-a),c||0)}
function cc(a,b){var c=O(a.r,a.l,b,0,a.E);za(c,ya(a));return c}function O(a,b,c,d,g){a=new wb(a,b,c,d,g||0);U[b]&&(a.d=U[b].e.d);if(U[b]||-1<"br i pb v".indexOf(a.l))if(U[b]&&U[b].I)D(a);else if(0>d||0>c||c+d>Ib)D(a);else if(Hb){for(b=Y.length;0<b&&0<ac(Y[b-1],a);)Y[b]=Y[b-1],--b;Y[b]=a}else Y.push(a);else D(a);return a}function Q(a,b,c,d,g,e){d=P(a,d,g,-e||0);a=O(1,a,b,c,e||0);H(a,d);return a}
function ac(a,b){var c=a.k,d=b.k;if(c!==d)return d-c;if(a.E!==b.E)return b.E-a.E;c=a.o;d=b.o;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.r]-c[a.r])}var gc="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function hc(a,b){if(gc){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function ic(a,b){if(gc){var c=b.createElement("div"),d=b.createDocumentFragment();jc.input=hc(a,"MSXML2.DOMDocument.6.0");jc.transform();for(c.innerHTML=jc.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(jc.transformToFragment(hc(a),b),!0)}var jc,kc=hc(qb,"MSXML2.FreeThreadedDOMDocument.6.0");if(gc){var lc=new ActiveXObject("MSXML2.XSLTemplate.6.0");lc.stylesheet=kc;jc=lc.createProcessor()}else jc=new XSLTProcessor,jc.importStylesheet(kc);
window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Fb[a]&&(Fb[a].I=!0)},enablePlugin:function(a){Fb[a]&&(Fb[a].I=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,f=c.length,h=e.length,x,r,w=0,y=0;w<f&&w<h;){x=c[w];r=e[w];if(!d(x,r))break;++w}for(var F=Math.min(f-w,h-w);y<F;){x=c[f-(y+1)];r=e[h-(y+1)];if(!d(x,r))break;++y}x=g.createDocumentFragment();for(F=w;F<h-y;)r=e[F].cloneNode(!0),x.appendChild(r),++F;for(F=f-y;--F>=w;)a.removeChild(c[F]);y?a.insertBefore(x,a.childNodes[w]):
a.appendChild(x)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,g=e.length,f=d.length;0<=--f;){var h=d[f],r=h.namespaceURI;h=h.name;b.hasAttributeNS(r,h)||a.removeAttributeNS(r,h)}for(f=g;0<=--f;)d=e[f],r=d.namespaceURI,h=d.name,d=d.value,d!==a.getAttributeNS(r,h)&&a.setAttributeNS(r,h,d);c(a,
b);return!0}var g=b.ownerDocument,e=ic(Lb(a),g);c(b,e)}};})();

		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>