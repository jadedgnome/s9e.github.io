<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](http://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.8 KB (15.0 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[0,0],ba=["","t"],ca={d:0},p=["","id"],da={d:514},r={d:3089},ea={d:3201},ia=[65521,32576],t=[49360,16384],ja=[49344,16448],ka=[65527,32576],la=[64499,32576],ma=[53191,32576],na=[65344,32576],v={l:!1},oa=[65352,32576],pa={l:!0},qa=[65344,32580],ra={"class":v},sa=["url",/^(\d+)$/,p],w={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1};function ta(a,b){return ua(a,b)}var xa=[function(a){return x(a,/^\d+$/)}],ya=[function(a){return x(a,/^[-\w]+$/)}];
function za(a,b){a:{var c=Aa;if(b.j){var d,g=Ba(a);for(d in g){var e=g[d];if(b.j[d]){var f=b.j[d];if(f.b){c.n(d);for(var h=0;h<f.b.length;++h)if(e=f.b[h](e,d),!1===e){delete a.j[d];break}!1!==e&&a.n(d,e)}}else delete a.j[d]}for(d in b.j)if(f=b.j[d],!a.hasAttribute(d)&&f.l){c=!1;break a}}else Ca(a,{});c=!0}return c}
var y=[za],Ka=[function(a){var b=Da.urlConfig,c=Aa,d=Ea(a.replace(/^\s+/,"").replace(/\s+$/,""));Fa(b,d)?(c&&(d.attrValue=a),a=!1):a=Ja(d);return a}],La={b:[function(a){return x(a,/^\w+$/)}],l:!1},Ma={b:xa,l:!1},Na={b:xa,l:!0},Oa={b:ya,l:!1},Pa={b:[function(a){return x(a,/^[- +,.0-9A-Za-z_]+$/)}],l:!1},A={b:Ka,l:!1},Qa={b:Ka,l:!0},Ra={c:aa,f:0,b:y,g:10,e:{d:66},h:5E3},Wa={c:ia,f:0,b:y,g:10,e:ca,h:5E3},Xa={c:ia,f:0,b:y,g:10,e:{d:2},h:5E3},Ya={c:ka,f:0,b:y,g:10,e:{d:512},h:5E3},Za={o:w,d:268,q:w},$a=
{o:w,d:256,q:w},ab={o:w,d:3460,q:w},bb={o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},d:256,q:w},cb={c:ja,j:{"char":pa},f:7,b:y,g:10,e:r,h:5E3},db=[ta,za],eb={o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},d:256,q:w},gb=[ta,fb,za],hb={align:{b:[function(a){return a.toLowerCase()},function(a){return x(a,/^(?:center|justify|left|right)$/)}],
l:!1}};function ib(a){a:{for(var b in Ba(a))if("url"!==b){a=!0;break a}a=!1}return a}
var jb={c:ia,f:2,b:y,g:10,e:{o:w,d:260,q:w},h:5E3},kb={c:[65344,32581],f:1,b:y,g:10,e:ab,h:5E3},lb={c:oa,f:1,b:y,g:10,e:ab,h:5E3},mb={c:qa,f:8,b:y,g:10,e:{o:w,d:3456,q:w},h:5E3},nb={c:ka,f:3,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},d:264,q:w},h:5E3},ob={c:ia,f:13,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},d:256,q:w},h:5E3},
pb={c:[65344,32578],f:10,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},qb={c:qa,f:8,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},rb=[ta,za,ib],sb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$s$ibandcamp"$k$g400px"><$s$k$b100%">$h$k$e><$l$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$o><$p$m@album_id">album=$c@album_id"/><$r$m@track_num">/t=$c@track_num"/></$r></$p><$n>track=$c@track_id"/></$n></$o></$l></iframe></$s></$s>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$m@lang"><$l$qclass">language-$c@lang"/></$l></$r>$f</code></pre>$d$aDAILYMOTION"><$s$idailymotion"$k$g640px"><$s$k$b56.25%">$h$t//www.dailymotion.com/embed/video/{@id}"$k$e/></$s></$s>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUB|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" data-s9e-livepreview-ignore-attrs="style" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$thttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$c@char"/>$d$aHC"><xsl:comment>$c@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img$t{@src}">$jalt|@title"/></img>$d$aLIST"><$o><$p$mnot(@type)"><ul>$f</ul></$p><$n><ol>$jstart"/>$f</ol></$n></$o>$d$aLIVELEAK"><$s$iliveleak"$k$g640px"><$s$k$b56.25%">$h$t//www.liveleak.com/ll_embed?i={@id}"$k$e/></$s></$s>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$l$qsrc">https://w.soundcloud.com/player/?url=<$o><$p$m$u">https%3A//api.soundcloud.com/playlists/$c$u"/></$p><$p$m@track_id">https%3A//api.soundcloud.com/tracks/$c@track_id"/>&amp;secret_token=$c@secret_token"/></$p><$n><$r$mnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$c@id"/></$n></$o></$l><$l$qstyle">border:0;height:<$o><$p$m$u or contains(@id,\'/sets/\')">450</$p><$n>166</$n></$o>px;max-width:900px;width:100%</$l></iframe>$d$aSPOTIFY"><$s$ispotify"$k$g400px"><$s$k$b120%">$h$k$e><$l$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$o><$p$m@uri">$c@uri"/></$p><$n>spotify:$ctranslate(@path,\'/\',\':\')"/></$n></$o></$l></iframe></$s></$s>$d$aTD"><td><$r$m@align"><$l$qstyle">text-align:$c@align"/></$l></$r>$f</td>$d$aTH"><th><$r$m@align"><$l$qstyle">text-align:$c@align"/></$l></$r>$f</th>$d$aTWITCH"><$s$itwitch"$k$g640px"><$s$k$b56.25%">$h$k$e><$l$qsrc">//<$o><$p$m@clip_id">clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$m@channel">$c@channel"/>/</$r>$c@clip_id"/></$p><$n>player.twitch.tv/?autoplay=false&amp;<$o><$p$m@video_id">video=v$c@video_id"/></$p><$n>channel=$c@channel"/></$n></$o><$r$m@t">&amp;time=$c@t"/></$r></$n></$o></$l></iframe></$s></$s>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$s$ivimeo"$k$g640px"><$s$k$b56.25%">$h$t//player.vimeo.com/video/{@id}"$k$e/></$s></$s>$d$aVINE"><$s$ivine"$k$g480px"><$s$k$b100%">$h$thttps://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$s></$s>$d$aYOUTUBE"><$s$iyoutube"$k$g640px"><$s$k$b56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$l$qsrc">https://www.youtube.com/embed/$c@id"/><$r$m@list">?list=$c@list"/></$r><$r$m@t"><$o><$p$m@list">&amp;</$p><$n>?</$n></$o>start=$c@t"/></$r></$l></iframe></$s></$s>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$s"><$s>$jclass"/>$f</$s>$d$ahtml:td"><td>$jcol$s|@row$s"/>$f</td>$d$ahtml:th"><th>$jcol$s|@row$s|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-u]/g,
function(a){return{$a:'<xsl:template match="',$b:"display:block;overflow:hidden;position:relative;padding-bottom:",$c:'<xsl:value-of select="',$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:"xsl:attribute",$m:' test="',$n:"xsl:otherwise",$o:"xsl:choose",$p:"xsl:when",
$q:' name="',$r:"xsl:if",$s:"span",$t:' src="',$u:"@playlist_id"}[a]});function tb(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}function x(a,b){return b.test(a)?a:!1}
function Ea(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,g){c[a]=""<b[g+1]?b[g+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Ja(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=ub(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+ub(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/g,function(a){return a.toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A",
b));return b}
function Fa(a,b){if(""!==b.scheme&&!a.S.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,g=c.split(".");0<=--d;){if("0"===g[d][0]||255<g[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^([\da-f]{0,4}:){2,7}(?:[\da-f]{0,4}|\d+\.\d+\.\d+\.\d+)$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.U&&a.U.test(b.host)||a.Y&&!a.Y.test(b.host))return"URL host is not allowed"}}function vb(a){var b=document.createElement("b");vb=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return vb(a)}function wb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function xb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}
function ub(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function fb(){return!0}function yb(){}yb.prototype={n:function(){}};function zb(a,b,c,d,g){this.p=+a;this.k=b;this.i=+c;this.m=+d;"undefined"!==typeof g&&(this.B=+g);this.j={};this.K=[];isNaN(a+c+d)&&B(this)}zb.prototype.A=!1;function Ab(a,b){a.K.push(b);a.A&&B(b)}function B(a){a.A||(a.A=!0,a.K.forEach(function(a){B(a)}))}
function D(a,b){a.k===b.k&&(1===a.p&&2===b.p&&b.i>=a.i?(a.y=b,b.F=a,Ab(a,b)):2===a.p&&1===b.p&&b.i<=a.i&&(a.F=b,b.y=a))}function Ba(a){var b={},c;for(c in a.j)b[c]=a.j[c];return b}function Bb(a,b){return a.A||a.k!==b.k||1!==b.p||2!==a.p||a.i<b.i||a.F&&a.F!==b||b.y&&b.y!==a?!1:!0}zb.prototype.getAttribute=function(a){return this.j[a]};zb.prototype.hasAttribute=function(a){return a in this.j};zb.prototype.n=function(a,b){this.j[a]=b};function Ca(a,b){a.j={};for(var c in b)a.j[c]=b[c]}
var Cb,Db,H,J,K,Eb,Aa=new yb,Fb,L,M,Hb={Autoemail:{v:function(a,b){b.forEach(function(a){var b=O(1,"EMAIL",a[0][1],0,0);b.n("email",a[0][0]);a=P("EMAIL",a[0][1]+a[0][0].length,0);D(b,a)})},w:"@",x:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,z:5E4},Autolink:{v:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=P("URL",b+a.length,0);"."===a[3]&&(a="http://"+a);b=O(1,"URL",b,0,1);b.n("url",a);D(b,c)}})},w:"://",x:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
z:5E4},Escaper:{v:function(a,b){b.forEach(function(a){Q("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},w:"\\",x:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,z:5E4},FancyPants:{v:function(a){function b(a,b,c,d){a=O(3,u,a,b,d||0);a.n(n,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,k;k=d.exec(a);)b(+k.index,k[0].length,c[k[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,k=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=k.exec(a);)b(+d.index,d[0].length,c[d[0]])}function g(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var k=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,
2,"\u00bb");Ab(k,c)}}function e(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function f(c,d,k,g){for(var n;n=d.exec(a);){var f=b(+n.index+n[0].indexOf(c),1,k);n=b(+n.index+n[0].length-1,1,g);Ab(f,n)}}function h(){if(E)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)}function l(){if(E||z||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,k=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=k.exec(a);){"x"===d[0][d[0].length-1]&&b(+d.index+d[0].length-1,1,"\u00d7");var n=d[0].substr(1,2);c[n]&&b(+d.index+1,1,c[n])}}function m(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,k;k=d.exec(a);)b(+k.index,k[0].length,c[k[0].toLowerCase()])}var k={T:"char",J:"FP"},n=k.T,E=0<=a.indexOf("'"),z=0<=a.indexOf('"'),u=k.J;k.ca||(h(),E&&f("'",
/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),z&&f('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));k.$||g();k.aa||(e(),l(),d());k.ba||c();k.da||m()}},HTMLComments:{v:function(a,b){b.forEach(function(a){var b=vb(a[0][0].substr(4,a[0][0].length-7));b=b.replace(/[<>]/g,"");b=b.replace(/--/g,"");O(3,"HC",a[0][1],a[0][0].length,0).n("content",b)})},w:"\x3c!--",x:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,z:5E4},HTMLElements:{v:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},
sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a[b[0][1]+1],e=b[0][1],f=b[0][0].length,h=b[2-d][0].toLowerCase(),l=c&&c[h]&&c[h][""]?c[h][""]:"html:"+h;if(d)P(l,e,f);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?Q(l,e,f,e+f,0):O(1,l,e,f,0);b=b[3][0];e=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;for(var m;l=e.exec(b);)m=l[0].indexOf("="),0>m&&(m=l[0].length,l[0]+="="+l[0].toLowerCase()),f=l[0].substr(0,m).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),l=l[0].substr(1+m).replace(/^\s+/,
"").replace("/s+$/",""),c&&c[h]&&c[h][f]&&(f=c[h][f]),/^["']/.test(l)&&(l=l.substr(1,l.length-2)),d.n(f,vb(l))}})},w:"<",x:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
z:5E4},HTMLEntities:{v:function(a,b){b.forEach(function(a){var b=a[0][0],c=vb(b);c===b||32>c.charCodeAt(0)||O(3,"HE",a[0][1],b.length,0).n("char",c)})},w:"&",x:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,z:5E4},Litedown:{v:function(a){function b(a){-1<a.indexOf("&")&&(a=vb(a));a=a.replace(/\x1A/g,"");h&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`",
"\u001bC":"~"}[a]}));return a}function c(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function d(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function g(b,c){0<c&&(a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c))}function e(b,c,d,f){function k(d){d=a.indexOf(c+"(",d);if(-1!==d){var n;for(f.lastIndex=d;n=f.exec(a);){var q=n[0];n=+n.index;var u=q.length;Q(b,n,2,n+u-1,1);g(n,u)}q&&k(d)}}var n=a.indexOf(c);-1!==n&&(function(k){var n;for(d.lastIndex=k;n=
d.exec(a);){k=n[0];n=+n.index;var f=k.substr(-1)===c?1:0;Q(b,n,1,n+k.length-f,f)}}(n),k(n))}function f(a,c,d){c=c.replace(/^\s*/,"").replace(/\s*$/,"");var k="",n=c.indexOf(" ");-1!==n&&(k=c.substr(n).replace(/^\s*\S/,"").replace(/\S\s*$/,""),c=c.substr(0,n));a.n(d,b(c));""<k&&a.n("title",b(k))}var h=!1,l=!1,m={};0<=a.indexOf("\\")&&(h=!0,a=a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6",
"\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]}));a+="\n\n\u0017";(function(){function b(a,b){D(P("LIST",b,0),a.V);D(P("LI",b,0),a.H);a.Q&&a.I.forEach(function(a){a.d&=-9})}function c(a,b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function f(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function e(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var b,c=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=c.exec(a);){var d=
b[0];b=b.index;for(var k=b-1;0<k&&" "===a[k-1];)--k;u[b-1]={M:b+d.length-k,N:k,X:d.length-d.replace(/>/g,"").length,J:"="===d[0]?"H1":"H2"}}}var u={};(function(){e();for(var k,n=4,h,m=!0,E=[],z=0,l=!1,Pb=[],va=0,R=0,wa,fa,Ga,N,Ta,Qb,I,F,Ua,Ha,W,X,ha,Rb=[],Va,Ia=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Va=Ia.exec(a);)Rb.push(Va),Va.index===Ia.lastIndex&&++Ia.lastIndex;
Rb.forEach(function(e){var q=e.index,G=e[0].length,C;W=N=0;fa=!m;I=a.indexOf("\n",q);m=I===q+G&&!e[3]&&!e[4]&&!e[5];G||++Ia.lastIndex;wa=m&&fa;e[1]&&(W=e[1].length-e[1].replace(/>/g,"").length,N=e[1].length,h&&h.hasAttribute("quoteDepth")&&(W=Math.min(W,h.getAttribute("quoteDepth")),N=c(e[1],W)),g(q,N));if(W<va&&!fa){l=!0;do D(P("QUOTE",R,0),Pb.pop());while(W<--va)}if(W>va&&!m){l=!0;do{var V=O(1,"QUOTE",q,0,va-999||0);Pb.push(V)}while(W>++va)}var S=C=0;if(e[2]&&!k){Ta=e[2];Qb=Ta.length;do" "===Ta[S]?
++C:C=C+4&-4;while(++S<Qb&&C<n)}h&&!k&&C<n&&!m&&(l=!0);l&&(l=!1,h&&(R>h.i?(g(h.i,R-h.i),Ga=P("CODE",R,0,-1),D(Ga,h)):B(h),k=h=null),E.forEach(function(a){b(a,R)}),E=[],z=0,q&&d(q-1));if(C>=n){if(h||!fa)N=(e[1]||"").length+S,h||(h=O(1,"CODE",q+N,0,-999)),e={}}else{V=!!e[4];if(C||fa||V)if(fa&&!V)F=z-1;else if(z)for(F=0;F<z&&C>E[F].O;)++F;else F=V?0:-1;else F=-1;for(;F<z-1;)b(E.pop(),R),--z;F!==z||V||--F;if(V&&0<=F)if(wa=!0,X=q+N+S,ha=e[4].length,S=O(1,"LI",X,ha,0),g(X,ha),F<z)D(P("LI",R,0),E[F].H),
E[F].H=S,E[F].I.push(S);else{++z;F?(Ha=E[F-1].O+1,Ua=Math.max(Ha,4*F)):(Ha=0,Ua=C);C=O(1,"LIST",X,0,0);if(-1<e[4].indexOf(".")){C.n("type","decimal");var Ob=+e[4];1!==Ob&&C.n("start",Ob)}E.push({V:C,H:S,I:[S],fa:Ha,O:Ua,Q:!0})}!z||fa||m||(1<E[0].I.length||!V)&&E.forEach(function(a){a.Q=!1});n=4*(z+1)}if(e[5])if("#"===e[5][0])S=e[5].length,V=q+G-S,C=f(q+G,I),G=I-C,Q("H"+/#{1,6}/.exec(e[5])[0].length,V,S,G,C),d(V),d(I),fa&&(wa=!0);else{if("`"===e[5][0]||"~"===e[5][0])X=q+N,ha=I-X,h&&e[5]===k?(Ga=P("CODE",
X,ha,-1),D(Ga,h),Gb(R,X-R),g(h.i,X+ha-h.i),k=h=null):h||(h=O(1,"CODE",X,ha,0),k=e[5].replace(/[^`~]+/,""),h.n("quoteDepth",W),Gb(X+ha,1),e=e[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==e&&h.n("lang",e))}else e[3]&&!z&&"\u0017"!==a[q+G]?(O(3,"HR",q+N,G-N,0),wa=!0,d(I)):!u[I]||u[I].X!==W||m||z||h||(Q(u[I].J,q+N,0,u[I].N,u[I].M),d(u[I].N+u[I].M));wa&&(O(3,"pb",R,0,0),d(R));m||(R=I);N&&Gb(q,N,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=
c.exec(a);){Gb(b.index,b[0].length,-2);var d=b[1].toLowerCase();m[d]||(l=!0,m[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,e=[],f=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(f);)e.push({i:b.index,m:b[1].length,R:d,Z:b[2].length,P:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=e}f=-1;for(d=c.length;++f<d-1;)for(b=c[f].P,e=f,"`"!==a[c[f].i]&&(++c[f].i,--c[f].m);++e<d&&c[e].i===b;){if(c[e].m===c[f].m){f=c[f];var h=
c[e];b=f.i;var m=h.i-h.R;h=h.m+h.R;Q("C",b,f.m+f.Z,m,h);g(b,m+h-b);f=e;break}b=c[e].P}})();(function(){function c(a,c,d,e,k){var h=Q("IMG",a,2,c,d);f(h,e,"src");h.n("alt",b(k));g(a,c+d-a)}(function(){var b=a.indexOf("![");if(-1!==b){if(0<a.indexOf("](",b))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=d.exec(a);){var f=b[1],e=b.index,h=3+f.length;c(e,e+b[0].length-h,h,f,b[0].substr(2,b[0].length-h-
2))}if(l)for(d=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;b=d.exec(a);){f=+b.index;e=f+2+b[1].length;h=1;var k=b[1],g=k;if(""<b[2]&&m[b[2]])h=b[0].length-k.length-2,g=b[2];else if(!m[g])continue;c(f,e,h,m[g],k)}}})()})();(function(){function b(a,b,c,d){var e=Q("URL",a,1,b,c,1===c?1:-1);f(e,d,"url");g(a,1);g(b,c)}function c(){for(var c,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=d.exec(a);){var f=
c[1],e=c.index,h=3+f.length;b(e,e+c[0].length-h,h,f)}}function d(){for(var c={},d,f=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=f.exec(a);)c[d.index]=d[1].toLowerCase();for(var e in c){d=c[e];f=+e+2+d.length;var h=f-1,k=1;" "===a[f]&&++f;""<c[f]&&m[c[f]]&&(d=c[f],k=f+2+d.length-h);m[d]&&b(+e,h,k,m[d])}}-1!==a.indexOf("](")&&c();l&&d()})();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~(?!~)/g;b=c.exec(a);){var d=b.index;b=d+b[0].length-2;Q("DEL",d,2,b,2);g(d,2);g(b,2)}})();e("SUB","~",
/~(?!\()[^\x17\s~()]+~?/g,/~\([^\x17()]+\)/g);e("SUP","^",/\^(?!\()[^\x17\s^()]+\^?/g,/\^\([^\x17()]+\)/g);(function(){function b(b,f){var e=a.indexOf(b);if(-1!==e){var h=[],g=[],k=a.indexOf("\u0017",e),m;for(f.lastIndex=e;m=f.exec(a);)e=m.index,m=m[0].length,e>k&&(g.push(h),h=[],k=a.indexOf("\u0017",e)),"_"===a.charAt(e)&&1===m&&0<e&&c(a[e-1])&&c(a[e+m])||h.push([e,m]);g.push(h);g.forEach(d)}}function d(b){l=h=null;b.forEach(function(b){var c=b[0];b=b[1];var d=!(-1<" \n\t".indexOf(a[c+b-1+1])),k=
0<c&&-1<" \n\t".indexOf(a.charAt(c-1))?0:Math.min(b,3);f=k&1&&null!==h;e=k&2&&null!==l;Sa=g=c;m=b;null!==h&&h===l&&(f?h+=2:++l);f&&e&&(h<l?g+=2:++Sa);f&&(--m,Q("EM",h,1,g,1),h=null);e&&(m-=2,Q("STRONG",l,2,Sa,2),l=null);m=d?Math.min(m,3):0;c+=b;m&1&&(h=c-m);m&2&&(l=c-m)})}var f,e,h,g,m,l,Sa;b("*",/\*+/g);b("_",/_+/g)})();(function(){for(var b=a.indexOf("  \n");0<b;)O(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{v:function(a,b){b.forEach(function(a){var b=a[0][0];O(3,"MEDIA",a[0][1],b.length,
-10).n("url",b)})},w:":",x:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,z:5E4},PipeTables:{v:function(a){function b(a,b){e=b.i;b.E.split("|").forEach(function(b,c){0<c&&(Ab(h,Gb(e,1,1E3)),++e);var d=f.L[c]?f.L[c]:"",g=e,k=g+b.length;e=k;var m=/^( *).*?( *)$/.exec(b);if(m[1]){var n=m[1].length;Ab(h,Gb(g,n,1E3));g+=n}m[2]&&(n=m[2].length,Ab(h,Gb(k-n,n,1E3)),k-=n);k=g===k?O(3,a,g,0,-101):Q(a,g,0,k,0,-101);d&&k.n("align",d)});Q("TR",b.i,0,e,0,-102)}function c(){if(f&&2<f.r.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(f.r[1].E)){for(var a=
f,b=f.r[1].E,c=["","right","left","center"],d=[],e=/(:?)-+(:?)/g,h;h=e.exec(b);)d.push(c[(h[1]?2:0)+(h[2]?1:0)]);a.L=d;l.push(f)}f=null}function d(a){return a.replace(/>/g," ")}function g(a){return a.replace(/\|/g,".")}var e,f=null,h,l;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,g));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){f=null;l=[];e=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;f||(f={r:[]},
d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");f.r.push({E:b,i:e+d})}e+=1+a.length});c()})();(function(){for(var a=-1,c=l.length;++a<c;){f=l[a];var d=f.r[f.r.length-1];h=Q("TABLE",f.r[0].i,0,d.i+d.E.length,0,-104);b("TH",f.r[0]);Q("THEAD",f.r[0].i,0,e,0,-103);d=f.r[1];Ab(h,Gb(d.i-1,1+d.E.length,1E3));d=1;for(var g=f.r.length;++d<g;)b("TD",f.r[d]);Q("TBODY",f.r[2].i,0,e,0,-103)}})()},w:"|"}},T,Da={mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion",
"facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{S:/^(?:ftp|https?)$/i}},Ib={c:ka,d:8},U={BANDCAMP:{c:t,j:{album_id:Ma,track_id:Ma,track_num:Ma,url:A},f:5,b:[fb,za,ib],g:10,e:r,h:5E3},C:Ra,CODE:{c:aa,j:{lang:Pa},f:1,b:y,g:10,e:{o:w,d:4436,q:w},h:5E3},DAILYMOTION:{c:t,u:[["url",
/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,p],["url",/^([A-Za-z0-9]+)$/,p]],j:{id:{b:[function(a){return x(a,/^[A-Za-z0-9]+$/)}],l:!0},url:A},f:5,b:db,g:10,e:r,h:5E3},DEL:Ya,EM:Xa,EMAIL:{c:ma,j:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],l:!0}},f:5,b:y,g:10,e:da,h:5E3},ESC:{c:aa,f:6,b:y,g:10,e:{d:1616},h:5E3},FACEBOOK:{c:t,u:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,
p],["url",/\/(video)s?\//,["","type"]],sa],j:{id:Na,type:{b:[function(a){return x(a,/^video$/)}],l:!1},url:A},f:5,b:db,g:10,e:r,h:5E3},FP:cb,H1:jb,H2:jb,H3:jb,H4:jb,H5:jb,H6:jb,HC:{c:aa,j:{content:pa},f:6,b:y,g:10,e:{d:3153},h:5E3},HE:cb,HR:{c:ja,f:1,b:y,g:10,e:{o:w,d:3349},h:5E3},IMG:{c:ja,j:{alt:v,src:Qa,title:v},f:0,b:y,g:10,e:r,h:5E3},LI:nb,LIST:{c:oa,j:{start:{b:[function(a){return tb(a)}],l:!1},type:Pa},f:1,b:y,g:10,e:ab,h:5E3},LIVELEAK:{c:t,u:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,p],
["url",/^([a-f_0-9]+)$/,p]],j:{id:{b:[function(a){return x(a,/^[a-f_0-9]+$/)}],l:!0},url:A},f:5,b:db,g:10,e:r,h:5E3},MEDIA:{c:[65527,32512],f:14,b:[function(a){return function(a,c){function b(a,b){var c=a.y;if(c){var d=a.i,e=a.m,g=c.i;c=c.m}else d=a.i,e=0,g=a.i+a.m,c=0;Ca(Q(b.toUpperCase(),d,e,g,c,a.B),Ba(a))}return function(a,c){if(a.hasAttribute("site")){var d=a.getAttribute("site").toLowerCase();a:{for(e in c)if(c[e]===d){var e=!0;break a}e=!1}e&&b(a,d)}else if(a.hasAttribute("url")){e=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.getAttribute("url"));
if(e[1]&&c[e[1]+":"])d=c[e[1]+":"];else if(e[2])a:{d=e[2];do{if(c[d]){d=c[d];break a}e=d.indexOf(".");if(0>e)break;d=d.substr(1+e)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Da.mediasites)}],g:10,e:{d:513},h:5E3},QUOTE:{c:ka,f:1,b:y,g:10,e:Za,h:5E3},SOUNDCLOUD:{c:t,u:[["url",/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,p],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,
["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/i,p]],j:{id:{b:[function(a){return x(a,/^(?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/i)}],l:!0},playlist_id:Ma,secret_token:Oa,track_id:Ma,url:A},f:5,b:gb,g:10,e:r,h:5E3},SPOTIFY:{c:t,u:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,
["","path"]]],j:{path:{b:[function(a){return x(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],l:!1},uri:{b:[function(a){return x(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],l:!1},url:A},f:5,b:rb,g:10,e:r,h:5E3},STRONG:Xa,SUB:Wa,SUP:Wa,TABLE:kb,TBODY:qb,TD:{c:ka,j:hb,f:9,b:y,g:10,e:eb,h:5E3},TH:{c:la,j:hb,f:9,b:y,g:10,e:eb,h:5E3},THEAD:mb,TR:pb,TWITCH:{c:t,u:[["url",/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],["url",/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],
["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,ba],["url",/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],j:{channel:La,clip_id:La,t:{b:[function(a){return x(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],l:!1},url:A,video_id:Ma},f:5,b:rb,g:10,e:r,h:5E3},URL:{c:ma,j:{title:v,url:Qa},f:4,b:y,g:10,e:da,h:5E3},VIMEO:{c:t,u:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,p],sa],j:{id:Na,url:A},f:5,b:db,g:10,e:r,h:5E3},VINE:{c:t,u:[["url",/vine\.co\/v\/([^\/]+)/,p],["url",/^([^\/]+)$/,p]],j:{id:{b:[function(a){return x(a,
/^[^\/]+$/)}],l:!0},url:A},f:5,b:db,g:10,e:r,h:5E3},YOUTUBE:{c:t,u:[["url",/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,p],["url",/youtu\.be\/([-\w]+)/,p],["url",/[#&?]t=(\d[\dhms]*)/,ba],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,p]],j:{id:{b:ya,l:!0},list:Oa,t:{b:[function(a){var b=/^(?=\d)(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/.exec(a);return b?3600*(b[1]||0)+60*(b[2]||0)+(+b[3]||0):tb(a)}],l:!1},url:A},f:5,b:gb,g:10,e:r,h:5E3},"html:abbr":{c:ia,j:{title:v},f:0,
b:y,g:10,e:ca,h:5E3},"html:b":Xa,"html:br":{c:na,f:0,b:y,g:10,e:ea,h:5E3},"html:code":Ra,"html:dd":{c:ka,f:11,b:y,g:10,e:bb,h:5E3},"html:del":Ya,"html:div":{c:ka,j:ra,f:1,b:y,g:10,e:Za,h:5E3},"html:dl":{c:[65344,32584],f:1,b:y,g:10,e:ab,h:5E3},"html:dt":{c:la,f:11,b:y,g:10,e:bb,h:5E3},"html:i":Xa,"html:img":{c:na,j:{alt:v,height:v,src:A,title:v,width:v},f:0,b:y,g:10,e:ea,h:5E3},"html:ins":Ya,"html:li":nb,"html:ol":lb,"html:pre":{c:ia,f:1,b:y,g:10,e:{o:w,d:276,q:w},h:5E3},"html:rb":{c:ia,f:12,b:y,
g:10,e:$a,h:5E3},"html:rp":ob,"html:rt":ob,"html:rtc":{c:[65521,32608],f:12,b:y,g:10,e:$a,h:5E3},"html:ruby":{c:[65521,32624],f:0,b:y,g:10,e:ca,h:5E3},"html:span":{c:ia,j:ra,f:0,b:y,g:10,e:ca,h:5E3},"html:strong":Xa,"html:sub":Wa,"html:sup":Wa,"html:table":kb,"html:tbody":qb,"html:td":{c:ka,j:{colspan:v,rowspan:v},f:9,b:y,g:10,e:eb,h:5E3},"html:tfoot":{c:qa,f:8,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,
"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},"html:th":{c:la,j:{colspan:v,rowspan:v,scope:v},f:9,b:y,g:10,e:eb,h:5E3},"html:thead":mb,"html:tr":pb,"html:u":Xa,"html:ul":lb},Y,Jb,Z,Kb,Lb=0,Mb;
function Nb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Cb={};Db={};J=0;K=null;Eb=!1;Fb={};L=[];M="";T=0;Y=[];Jb=!1;Z=a;Kb=Z.length;Mb=0;H=Ib;H.D=!1;++Lb;a=Lb;for(var b in Hb)if(!Hb[b].G)a:{var c=b,d=Hb[c];if(!(d.w&&0>Z.indexOf(d.w))){var g=[];if(d.x){g=void 0;var e=d.x;d=d.z;e.lastIndex=0;for(var f=[],h=0;++h<=d&&(g=e.exec(Z));){for(var l=+g.index,m=[[g[0],l]],k=0;++k<g.length;){var n=g[k];void 0===n?m.push(["",-1]):(m.push([n,Z.indexOf(n,l)]),l+=n.length)}f.push(m)}g=
f;if(!g.length)break a}(0,Hb[c].v)(Z,g)}}Sb();Tb(Kb,0,!0);do b=M,M=M.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(M!==b);M=M.replace(/<\/i><i>/g,"",M);M=M.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ub);c=Eb?"r":"t";b="<"+c;for(var E in Fb)b+=" xmlns:"+E+'="urn:s9e:TextFormatter:'+E+'"';M=b+">"+M+"</"+c+">";if(Lb!==a)throw"The parser has been reset during execution";return M}
function ua(a,b){b.u&&b.u.forEach(function(b){var c=b[0];if(a.hasAttribute(c)){b=Vb(a.getAttribute(c),b[1],b[2]);for(var g in b)g!==c&&a.hasAttribute(g)||a.n(g,b[g])}});return!0}function Vb(a,b,c){var d=b.exec(a);if(!d)return[];var g={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(g[a]=d[b])});return g}function Ub(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Wb(a){Eb=!0;var b=a.k,c=a.i,d=a.m,g=a.d,e=0,f=0;g&256&&(e=1,f=a.p&2?2:1);var h=!1;a.p&1?g&4&&(h=!0):h=!0;Tb(c,e,h);e=d?xb(Z.substr(c,d)):"";if(a.p&1){g&4||Xb(c);g=b.indexOf(":");0<g&&(Fb[b.substr(0,g)]=0);M+="<"+b;var l=Ba(a);g=[];for(var m in l)g.push(m);g.sort(function(a,b){return a>b?1:-1});g.forEach(function(a){M+=" "+a+'="'+wb(l[a].toString()).replace(/\n/g,"&#10;")+'"'});M=3===a.p?d?M+(">"+e+"</"+b+">"):M+"/>":d?M+("><s>"+e+"</s>"):M+">"}else d&&(M+="<e>"+e+"</e>"),M+="</"+b+">";for(Mb=
T=c+d;f&&Mb<Kb&&"\n"===Z[Mb];)--f,++Mb}
function Tb(a,b,c){c&&(H.d&8?b=-1:c=!1);T>=a&&c&&Yb();if(Mb>T){var d=Math.min(a,Mb);M+=Z.substr(T,d-T);T=d;T>=a&&c&&Yb()}if(H.d&128)d=a-T,b=Z.substr(T,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),M+=b,T=a,c&&Yb();else{var g=a;for(d=0;b&&--g>=T;){var e=Z[g];if(" "!==e&&"\n"!==e&&"\t"!==e)break;"\n"===e&&--b;++d}a-=d;if(H.d&8)for(H.D||(Zb(a),a>T&&Xb(a)),b=Z.indexOf("\n\n",T);-1<b&&b<a;)Tb(b,0,!0),Xb(a),b=Z.indexOf("\n\n",T);a>T&&(b=xb(Z.substr(T,a-T)),M+=b);c&&Yb();d&&(M+=Z.substr(a,d));T=a+d}}
function $b(a){var b=a.i;a=a.m;var c=Z.substr(b,a);Tb(b,0,!1);M+="<i>"+xb(c)+"</i>";Eb=!0;T=b+a}function Xb(a){!H.D&&H.d&8&&(Zb(a),T<Kb&&(M+="<p>",H.D=!0))}function Yb(){H.D&&(M+="</p>",H.D=!1)}function Zb(a){for(;T<a&&-1<" \n\t".indexOf(Z[T]);)M+=Z[T],++T}function ac(a,b){var c=a.k;(K.d|a.d)&256&&(b=bc(b));c=P(c,b,0);D(c,a)}function bc(a){for(;a>T&&-1<" \n\t".indexOf(Z[a-1]);)--a;return a}
function Sb(){if(Y.length){for(var a in U)Cb[a]=0,Db[a]=0;do{for(;Y.length;)Jb||(Y.sort(cc),Jb=!0),K=Y.pop(),dc();L.forEach(function(a){ac(a,Kb)})}while(Y.length)}}
function dc(){H.d&64&&!Bb(K,L[L.length-1])&&!(-1<"br i pb v".indexOf(K.k))&&B(K);var a=K.i,b=K.m;if(T>a&&!K.A){var c;if((c=K.F)&&0<=L.indexOf(c)){D(P(c.k,T,Math.max(0,a+b-T)),c);return}if("i"===K.k&&(a=a+b-T,0<a)){Gb(T,a);return}B(K)}if(!K.A)if("i"===K.k)$b(K);else if("br"===K.k)H.d&1024||(Tb(K.i,0,!1),M+="<br/>");else if("pb"===K.k)Tb(K.i,0,!0);else if("v"===K.k)a=H.d,H.d=K.d,Tb(K.i+K.m,0,!1),H.d=a;else if(K.p&1)if(a=K,b=a.k,c=U[b],Db[b]>=c.h)B(a);else{var d=a,g=U[d.k],e=!0;if(g.b)for(var f=0;f<
g.b.length;++f)if(!g.b[f](d,g)){e=!1;break}if(e){if(d=1E4>J){a:{d=a;if(L.length&&(e=d.k,f=U[e],f.e.q)){g=L[L.length-1];var h=g.k;if(f.e.q[h]){if(h!==e&&1E4>J){e=d.i+d.m;Y.length?(f=Y[Y.length-1],f=f.i):f=Kb+1;for(;e<f&&-1<" \n\t".indexOf(Z[e]);)++e;e=ec(g,e);Ab(d,e)}Y.push(d);ac(g,d.i);J+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(L.length&&(g=U[d.k],g.e.o&&(e=L[L.length-1],g.e.o[e.k]))){++J;Y.push(d);ac(e,d.i);d=!0;break a}d=!1}d=d||!1}d||(Cb[b]>=c.g?B(a):(c=U[b].f,H.c[c>>3]&1<<(c&7)?(!(a.d&1)||a.y||Y.length&&
Bb(Y[Y.length-1],a)||(b=new zb(3,b,a.i,a.m),Ca(b,Ba(a)),b.d=a.d,a=b),a.d&4096&&!a.y&&"\n"===Z[a.i+a.m]&&Gb(a.i+a.m,1),Wb(a),fc(a)):B(a)))}else B(a)}else gc()}
function gc(){var a=K;if(Cb[a.k]){for(var b=[],c=L.length;0<=--c;){var d=L[c];if(Bb(a,d))break;b.push(d);++J}if(!(0>c)){var g=a.d;b.forEach(function(a){g|=a.d});var e=g&256,f=1E4>J,h=[];b.forEach(function(b){var c=b.k;f&&(b.d&2?h.push(b):f=!1);var d=a.i;e&&(d=bc(d));c=new zb(2,c,d,0);c.d=b.d;Wb(c);hc()});Wb(a);hc();if(b.length&&1E4>J){d=T;for(c=Y.length;0<=--c&&1E4>++J;){var l=Y[c];if(l.i>d||l.p&1)break;for(var m=b.length;0<=--m&&1E4>++J;)if(Bb(l,b[m])){b.splice(m,1);h[m]&&h.splice(m,1);d=Math.max(d,
l.i+l.m);break}}d>T&&$b(new zb(3,"i",T,d-T))}h.forEach(function(a){var b=ec(a,T);(a=a.y)&&D(b,a)})}}}function hc(){var a=L.pop();--Cb[a.k];H=H.W}function fc(a){var b=a.k,c=a.d,d=U[b];++Db[b];if(3!==a.p){var g=[];c&512?H.c.forEach(function(a,b){g.push(d.c[b]&a)}):H.c.forEach(function(a,b){g.push(d.c[b]&(a&65280|a>>8))});c|=H.d&32;c&16&&(c&=-33);++Cb[b];L.push(a);H={c:g,d:c,W:H}}}function P(a,b,c,d){return O(2,a,b,c,d||0)}function Gb(a,b,c){return O(3,"i",a,Math.min(b,Kb-a),c||0)}
function ec(a,b){var c=O(a.p,a.k,b,0,a.B);Ca(c,Ba(a));return c}function O(a,b,c,d,g){a=new zb(a,b,c,d,g||0);U[b]&&(a.d=U[b].e.d);if(U[b]||-1<"br i pb v".indexOf(a.k))if(U[b]&&U[b].G)B(a);else if(0>d||0>c||c+d>Kb)B(a);else if(Jb){for(b=Y.length;0<b&&0<cc(Y[b-1],a);)Y[b]=Y[b-1],--b;Y[b]=a}else Y.push(a);else B(a);return a}function Q(a,b,c,d,g,e){d=P(a,d,g,-e||0);a=O(1,a,b,c,e||0);D(a,d);return a}
function cc(a,b){var c=a.i,d=b.i;if(c!==d)return d-c;if(a.B!==b.B)return b.B-a.B;c=a.m;d=b.m;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.p]-c[a.p])}var ic="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function jc(a,b){if(ic){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function kc(a,b){if(ic){var c=b.createElement("div"),d=b.createDocumentFragment();lc.input=jc(a,"MSXML2.DOMDocument.6.0");lc.transform();for(c.innerHTML=lc.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(lc.transformToFragment(jc(a),b),!0)}var lc,mc=jc(sb,"MSXML2.FreeThreadedDOMDocument.6.0");if(ic){var nc=new ActiveXObject("MSXML2.XSLTemplate.6.0");nc.stylesheet=mc;lc=nc.createProcessor()}else lc=new XSLTProcessor,lc.importStylesheet(mc);
window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Hb[a]&&(Hb[a].G=!0)},enablePlugin:function(a){Hb[a]&&(Hb[a].G=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,h=c.length,l=e.length,z,u,q=0,G=0;q<h&&q<l;){z=c[q];u=e[q];if(!d(z,u))break;++q}for(var C=Math.min(h-q,l-q);G<C;){z=c[h-(G+1)];u=e[l-(G+1)];if(!d(z,u))break;++G}for(h-=G;--h>=q;)a.removeChild(c[h]),f=a;l-=G;if(!(q>=l)){c=g.createDocumentFragment();h=q;do c.appendChild(e[h].cloneNode(!0));while(++h<l);G?(e=
a.childNodes[q],a.insertBefore(c,e),f=e.ga):(a.appendChild(c),f=a.ea)}}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue,f=a),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;var d=a.attributes,e=b.attributes,h=e.length,g=d.length,l="";for(a.hasAttribute("data-s9e-livepreview-ignore-attrs")&&(l=" "+a.getAttribute("data-s9e-livepreview-ignore-attrs")+" ");0<=--g;){var u=d[g],q=u.namespaceURI;
u=u.name;l&&-1<l.indexOf(" "+u+" ")||b.hasAttributeNS(q,u)||(a.removeAttributeNS(q,u),f=a)}for(g=h;0<=--g;)d=e[g],q=d.namespaceURI,u=d.name,d=d.value,l&&-1<l.indexOf(" "+u+" ")||d===a.getAttributeNS(q,u)||(a.setAttributeNS(q,u,d),f=a);c(a,b);return!0}var g=b.ownerDocument,e=kc(Nb(a),g),f=b;c(b,e);return f}};})();

		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>