<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](http://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.1 KB (14.8 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[0,0],ba={d:0},n=["","id"],ca={d:514},r={d:3089},da={d:3201},ha=[64499,32576],ia=[65527,32576],t=[49360,16384],ja=[65521,32576],ka=[53191,32576],la=[65352,32576],ma={n:!0},u={n:!1},na=[65344,32580],oa=[65344,32576],pa=[49344,16448],qa={"class":u},ra=["url",/^(\d+)$/,n],w={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1};function sa(a,b){return ta(a,b)}
function xa(a,b){a:{var c=ya;if(b.j){var d,f=za(a);for(d in f){var e=f[d];if(b.j[d]){var g=b.j[d];if(g.b){c.p(d);for(var k=0;k<g.b.length;++k)if(e=g.b[k](e,d),!1===e){delete a.j[d];break}!1!==e&&a.p(d,e)}}else delete a.j[d]}for(d in b.j)if(g=b.j[d],!(d in a.j)&&g.n){c=!1;break a}}else Aa(a,{});c=!0}return c}
var Ba=[function(a){return y(a,/^\d+$/)}],z=[xa],Ca=[function(a){return y(a,/^[-\w]+$/)}],Da={b:[function(a){return/^[-\w+., ]+$/.test(a)?a:!1}],n:!1},La=[function(a){var b=Ea.urlConfig,c=ya,d=Ia(a.replace(/^\s+/,"").replace(/\s+$/,""));Ja(b,d)?(c&&(d.attrValue=a),a=!1):a=Ka(d);return a}],A={b:Ba,n:!1},Ma={b:Ba,n:!0},Na={b:[function(a){return y(a,/^\w+$/)}],n:!1},Oa={b:Ca,n:!1},B={b:La,n:!1},Pa={b:La,n:!0},Qa={c:aa,f:0,b:z,g:10,e:{d:66},i:5E3},Ra={c:ja,f:0,b:z,g:10,e:{d:2},i:5E3},Va={c:ja,f:0,b:z,
g:10,e:ba,i:5E3},Wa={c:ia,f:0,b:z,g:10,e:{d:512},i:5E3},Xa={q:w,d:256,u:w},Ya={q:w,d:268,u:w},Za={q:w,d:3460,u:w},$a={q:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},d:256,u:w},ab={c:pa,j:{"char":ma},f:7,b:z,g:10,e:r,i:5E3},bb=[sa,xa],cb={q:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},d:256,u:w},eb=[sa,db,xa],fb={align:{b:[function(a){return a.toLowerCase()},
function(a){return y(a,/^(?:center|justify|left|right)$/)}],n:!1}};function gb(a){a:{for(var b in za(a))if("url"!==b){a=!0;break a}a=!1}return a}
var hb={c:ja,f:2,b:z,g:10,e:{q:w,d:260,u:w},i:5E3},ib={c:na,f:8,b:z,g:10,e:{q:w,d:3456,u:w},i:5E3},jb={c:[65344,32581],f:1,b:z,g:10,e:Za,i:5E3},kb={c:la,f:1,b:z,g:10,e:Za,i:5E3},lb={c:ia,f:3,b:z,g:10,e:{q:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},d:264,u:w},i:5E3},mb={c:ja,f:13,b:z,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},d:256,u:w},i:5E3},
nb={c:[65344,32578],f:10,b:z,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},d:3456,u:w},i:5E3},ob={c:na,f:8,b:z,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,u:w},i:5E3},pb=[sa,xa,gb],qb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$s$ibandcamp"$k$g400px"><$s$k$c100%">$h$k$e><$n$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$p><$m$l@album_id">album=$b@album_id"/><$r$l@track_num">/t=$b@track_num"/></$r></$m><$o>track=$b@track_id"/></$o></$p></$n></iframe></$s></$s>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$l@lang"><$n$qclass">language-$b@lang"/></$n></$r>$f</code></pre>$d$aDAILYMOTION"><$s$idailymotion"$k$g640px"><$s$k$c56.25%">$h$t//www.dailymotion.com/embed/video/{@id}"$k$e/></$s></$s>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$thttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$b@char"/>$d$aHC"><xsl:comment>$b@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img$t{@src}">$jalt|@title"/></img>$d$aLIST"><$p><$m$lnot(@type)"><ul>$f</ul></$m><$o><ol>$jstart"/>$f</ol></$o></$p>$d$aLIVELEAK"><$s$iliveleak"$k$g640px"><$s$k$c56.25%">$h$t//www.liveleak.com/ll_embed?i={@id}"$k$e/></$s></$s>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$n$qsrc">https://w.soundcloud.com/player/?url=<$p><$m$l$u">https%3A//api.soundcloud.com/playlists/$b$u"/></$m><$m$l@track_id">https%3A//api.soundcloud.com/tracks/$b@track_id"/>&amp;secret_token=$b@secret_token"/></$m><$o><$r$lnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$b@id"/></$o></$p></$n><$n$qstyle">border:0;height:<$p><$m$l$u or contains(@id,\'/sets/\')">450</$m><$o>166</$o></$p>px;max-width:900px;width:100%</$n></iframe>$d$aSPOTIFY"><$s$ispotify"$k$g400px"><$s$k$c120%">$h$k$e><$n$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$p><$m$l@uri">$b@uri"/></$m><$o>spotify:$btranslate(@path,\'/\',\':\')"/></$o></$p></$n></iframe></$s></$s>$d$aTD"><td><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</td>$d$aTH"><th><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</th>$d$aTWITCH"><$s$itwitch"$k$g640px"><$s$k$c56.25%">$h$k$e><$n$qsrc">//<$p><$m$l@clip_id">clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$l@channel">$b@channel"/>/</$r>$b@clip_id"/></$m><$o>player.twitch.tv/?autoplay=false&amp;<$p><$m$l@video_id">video=v$b@video_id"/></$m><$o>channel=$b@channel"/></$o></$p><$r$l@t">&amp;time=$b@t"/></$r></$o></$p></$n></iframe></$s></$s>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$s$ivimeo"$k$g640px"><$s$k$c56.25%">$h$t//player.vimeo.com/video/{@id}"$k$e/></$s></$s>$d$aVINE"><$s$ivine"$k$g480px"><$s$k$c100%">$h$thttps://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$s></$s>$d$aYOUTUBE"><$s$iyoutube"$k$g640px"><$s$k$c56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$n$qsrc">https://www.youtube.com/embed/$b@id"/><$r$l@list">?list=$b@list"/></$r><$r$l@t or@h or@m"><$p><$m$l@list">&amp;</$m><$o>?</$o></$p>start=<$p><$m$l@t">$b@t"/></$m><$m$l@h and@m and@s">$b@h*3600+@m*60+@s"/></$m><$m$l@h and@m">$b@h*3600+@m*60"/></$m><$m$l@h and@s">$b@h*3600+@s"/></$m><$m$l@h">$b@h*3600"/></$m><$m$l@m and@s">$b@m*60+@s"/></$m><$m$l@m">$b@m*60"/></$m></$p></$r></$n></iframe></$s></$s>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$s"><$s>$jclass"/>$f</$s>$d$ahtml:td"><td>$jcol$s|@row$s"/>$f</td>$d$ahtml:th"><th>$jcol$s|@row$s|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-u]/g,
function(a){return{$a:'<xsl:template match="',$b:'<xsl:value-of select="',$c:"display:block;overflow:hidden;position:relative;padding-bottom:",$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:' test="',$m:"xsl:when",$n:"xsl:attribute",$o:"xsl:otherwise",$p:"xsl:choose",
$q:' name="',$r:"xsl:if",$s:"span",$t:' src="',$u:"@playlist_id"}[a]});function rb(a){var b=document.createElement("b");rb=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return rb(a)}function sb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function tb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function db(){return!0}
function ub(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function y(a,b){return b.test(a)?a:!1}
function Ia(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,f){c[a]=""<b[f+1]?b[f+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Ka(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=ub(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+ub(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,
"$1%3A",b));return b}
function Ja(a,b){if(""!==b.scheme&&!a.U.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,f=c.split(".");0<=--d;){if("0"===f[d][0]||255<f[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.W&&a.W.test(b.host)||a.$&&!a.$.test(b.host))return"URL host is not allowed"}}function vb(){}vb.prototype={p:function(){}};function wb(a,b,c,d,f){this.r=+a;this.l=b;this.k=+c;this.o=+d;"undefined"!==typeof f&&(this.E=+f);this.j={};this.M=[];isNaN(a+c+d)&&D(this)}wb.prototype.D=!1;function xb(a,b){a.M.push(b);a.D&&D(b)}function D(a){a.D||(a.D=!0,a.M.forEach(function(a){D(a)}))}
function F(a,b){a.l===b.l&&(1===a.r&&2===b.r&&b.k>=a.k?(a.A=b,b.H=a,xb(a,b)):2===a.r&&1===b.r&&b.k<=a.k&&(a.H=b,b.A=a))}function za(a){var b={},c;for(c in a.j)b[c]=a.j[c];return b}function yb(a,b){return a.D||a.l!==b.l||1!==b.r||2!==a.r||a.k<b.k||a.H&&a.H!==b||b.A&&b.A!==a?!1:!0}wb.prototype.p=function(a,b){this.j[a]=b};function Aa(a,b){a.j={};for(var c in b)a.j[c]=b[c]}
var zb,Ab,J,K,L,Bb,ya=new vb,Cb,N,O,Eb={Autoemail:{x:function(a,b){b.forEach(function(a){var b=P(1,"EMAIL",a[0][1],0,0);b.p("email",a[0][0]);a=Q("EMAIL",a[0][1]+a[0][0].length,0);F(b,a)})},y:"@",z:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,B:5E4},Autolink:{x:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=Q("URL",b+a.length,0);"."===a[3]&&(a="http://"+a);b=P(1,"URL",b,0,1);b.p("url",a);F(b,c)}})},y:"://",z:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
B:5E4},Escaper:{x:function(a,b){b.forEach(function(a){T("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},y:"\\",z:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,B:5E4},FancyPants:{x:function(a){function b(a,b,c,d){a=P(3,q,a,b,d||0);a.p(H,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,l;l=d.exec(a);)b(+l.index,l[0].length,c[l[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,l=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=l.exec(a);)b(+d.index,d[0].length,c[d[0]])}function f(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var l=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,
2,"\u00bb");xb(l,c)}}function e(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function g(c,d,l,g){for(var v;v=d.exec(a);){var f=b(+v.index+v[0].indexOf(c),1,l);v=b(+v.index+v[0].length-1,1,g);xb(f,v)}}function k(){if(m)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)}function h(){if(m||x||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,l=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=l.exec(a);){"x"===d[0][d[0].length-1]&&b(+d.index+d[0].length-1,1,"\u00d7");var v=d[0].substr(1,2);c[v]&&b(+d.index+1,1,c[v])}}function l(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,l;l=d.exec(a);)b(+l.index,l[0].length,c[l[0].toLowerCase()])}var v={V:"char",L:"FP"},H=v.V,m=0<=a.indexOf("'"),x=0<=a.indexOf('"'),q=v.L;v.ea||(k(),m&&g("'",
/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),x&&g('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));v.ba||f();v.ca||(e(),h(),d());v.da||c();v.fa||l()}},HTMLComments:{x:function(a,b){b.forEach(function(a){var b=rb(a[0][0].substr(4,a[0][0].length-7));b=b.replace(/[<>]/g,"");b=b.replace(/--/g,"");P(3,"HC",a[0][1],a[0][0].length,0).p("content",b)})},y:"\x3c!--",z:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,B:5E4},HTMLElements:{x:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},
sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a[b[0][1]+1],e=b[0][1],g=b[0][0].length,k=b[2-d][0].toLowerCase(),h=c&&c[k]&&c[k][""]?c[k][""]:"html:"+k;if(d)Q(h,e,g);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?T(h,e,g,e+g,0):P(1,h,e,g,0);b=b[3][0];e=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;for(var l;h=e.exec(b);)l=h[0].indexOf("="),0>l&&(l=h[0].length,h[0]+="="+h[0].toLowerCase()),g=h[0].substr(0,l).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),h=h[0].substr(1+l).replace(/^\s+/,
"").replace("/s+$/",""),c&&c[k]&&c[k][g]&&(g=c[k][g]),/^["']/.test(h)&&(h=h.substr(1,h.length-2)),d.p(g,rb(h))}})},y:"<",z:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
B:5E4},HTMLEntities:{x:function(a,b){b.forEach(function(a){var b=a[0][0],c=rb(b);c===b||32>c.charCodeAt(0)||P(3,"HE",a[0][1],b.length,0).p("char",c)})},y:"&",z:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,B:5E4},Litedown:{x:function(a){function b(a){-1<a.indexOf("&")&&(a=rb(a));a=a.replace(/\x1A/g,"");g&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`",
"\u001bC":"~"}[a]}));return a}function c(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function d(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function f(b,c){0<c&&(a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c))}function e(a,c,d){c=c.replace(/^\s*/,"").replace(/\s*$/,"");var g="",l=c.indexOf(" ");-1!==l&&(g=c.substr(l).replace(/^\s*\S/,"").replace(/\S\s*$/,""),c=c.substr(0,l));a.p(d,b(c));""<g&&a.p("title",b(g))}var g=!1,k=!1,h={};0<=a.indexOf("\\")&&
(g=!0,a=a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6","\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]}));a+="\n\n\u0017";(function(){function b(a,b){F(Q("LIST",b,0),a.X);F(Q("LI",b,0),a.J);a.S&&a.K.forEach(function(a){a.d&=-9})}function c(a,b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function g(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,
c-b))[0].length}function e(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var b,c=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=c.exec(a);){var d=b[0];b=b.index;for(var g=b-1;0<g&&" "===a[g-1];)--g;x[b-1]={O:b+d.length-g,P:g,Z:d.length-d.replace(/>/g,"").length,L:"="===d[0]?"H1":"H2"}}}var x={};(function(){e();for(var l,v=4,m,H=!0,k=[],h=0,ua=!1,Mb=[],va=0,R=0,wa,ea,Fa,M,Sa,Nb,I,C,Ta,Ga,V,W,fa,Ob=[],Ua,Ha=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Ua=
Ha.exec(a);)Ob.push(Ua),Ua.index===Ha.lastIndex&&++Ha.lastIndex;Ob.forEach(function(e){var q=e.index,E=e[0].length,p;V=M=0;ea=!H;I=a.indexOf("\n",q);H=I===q+E&&!e[3]&&!e[4]&&!e[5];E||++Ha.lastIndex;wa=H&&ea;e[1]&&(V=e[1].length-e[1].replace(/>/g,"").length,M=e[1].length,m&&"quoteDepth"in m.j&&(V=Math.min(V,m.j.quoteDepth),M=c(e[1],V)),f(q,M));if(V<va&&!ea){ua=!0;do F(Q("QUOTE",R,0),Mb.pop());while(V<--va)}if(V>va&&!H){ua=!0;do{var G=P(1,"QUOTE",q,0,va-999||0);Mb.push(G)}while(V>++va)}var S=p=0;if(e[2]&&
!l){Sa=e[2];Nb=Sa.length;do" "===Sa[S]?++p:p=p+4&-4;while(++S<Nb&&p<v)}m&&!l&&p<v&&!H&&(ua=!0);ua&&(ua=!1,m&&(R>m.k?(f(m.k,R-m.k),Fa=Q("CODE",R,0,-1),F(Fa,m)):D(m),l=m=null),k.forEach(function(a){b(a,R)}),k=[],h=0,q&&d(q-1));if(p>=v){if(m||!ea)M=(e[1]||"").length+S,m||(m=P(1,"CODE",q+M,0,-999)),e={}}else{G=!!e[4];if(p||ea||G)if(ea&&!G)C=h-1;else if(h)for(C=0;C<h&&p>k[C].Q;)++C;else C=G?0:-1;else C=-1;for(;C<h-1;)b(k.pop(),R),--h;C!==h||G||--C;if(G&&0<=C)if(wa=!0,W=q+M+S,fa=e[4].length,S=P(1,"LI",
W,fa,0),f(W,fa),C<h)F(Q("LI",R,0),k[C].J),k[C].J=S,k[C].K.push(S);else{++h;C?(Ga=k[C-1].Q+1,Ta=Math.max(Ga,4*C)):(Ga=0,Ta=p);p=P(1,"LIST",W,0,0);if(-1<e[4].indexOf(".")){p.p("type","decimal");var Lb=+e[4];1!==Lb&&p.p("start",Lb)}k.push({X:p,J:S,K:[S],ga:Ga,Q:Ta,S:!0})}!h||ea||H||(1<k[0].K.length||!G)&&k.forEach(function(a){a.S=!1});v=4*(h+1)}if(e[5])if("#"===e[5][0])S=e[5].length,G=q+E-S,p=g(q+E,I),E=I-p,T("H"+/#{1,6}/.exec(e[5])[0].length,G,S,E,p),d(G),d(I),ea&&(wa=!0);else{if("`"===e[5][0]||"~"===
e[5][0])W=q+M,fa=I-W,m&&e[5]===l?(Fa=Q("CODE",W,fa,-1),F(Fa,m),Db(R,W-R),f(m.k,W+fa-m.k),l=m=null):m||(m=P(1,"CODE",W,fa,0),l=e[5].replace(/[^`~]+/,""),m.p("quoteDepth",V),Db(W+fa,1),e=e[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==e&&m.p("lang",e))}else e[3]&&!h&&"\u0017"!==a[q+E]?(P(3,"HR",q+M,E-M,0),wa=!0,d(I)):!x[I]||x[I].Z!==V||H||h||m||(T(x[I].L,q+M,0,x[I].P,x[I].O),d(x[I].P+x[I].O));wa&&(P(3,"pb",R,0,0),d(R));H||(R=I);M&&Db(q,M,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var b,
c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=c.exec(a);){Db(b.index,b[0].length,-2);var d=b[1].toLowerCase();h[d]||(k=!0,h[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,g=[],e=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(e);)g.push({k:b.index,o:b[1].length,T:d,aa:b[2].length,R:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=g}e=-1;for(d=c.length;++e<d-
1;)for(b=c[e].R,g=e,"`"!==a[c[e].k]&&(++c[e].k,--c[e].o);++g<d&&c[g].k===b;){if(c[g].o===c[e].o){e=c[e];var q=c[g];b=e.k;var h=q.k-q.T;q=q.o+q.T;T("C",b,e.o+e.aa,h,q);f(b,h+q-b);e=g;break}b=c[g].R}})();(function(){function c(a,c,d,g,l){var m=T("IMG",a,2,c,d);e(m,g,"src");m.p("alt",b(l));f(a,c+d-a)}(function(){var b=a.indexOf("![");if(-1!==b){if(0<a.indexOf("](",b))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=
d.exec(a);){var g=b[1],e=b.index,f=3+g.length;c(e,e+b[0].length-f,f,g,b[0].substr(2,b[0].length-f-2))}if(k)for(d=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;b=d.exec(a);){g=+b.index;e=g+2+b[1].length;f=1;var l=b[1],p=l;if(""<b[2]&&h[b[2]])f=b[0].length-l.length-2,p=b[2];else if(!h[p])continue;c(g,e,f,h[p],l)}}})()})();(function(){function b(a,b,c,d){var g=T("URL",a,1,b,c,1===c?1:-1);e(g,d,"url");f(a,1);f(b,c)}function c(){for(var c,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=
d.exec(a);){var g=c[1],e=c.index,f=3+g.length;b(e,e+c[0].length-f,f,g)}}function d(){for(var c={},d,g=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=g.exec(a);)c[d.index]=d[1].toLowerCase();for(var e in c){d=c[e];g=+e+2+d.length;var f=g-1,l=1;" "===a[g]&&++g;""<c[g]&&h[c[g]]&&(d=c[g],l=g+2+d.length-f);h[d]&&b(+e,f,l,h[d])}}-1!==a.indexOf("](")&&c();k&&d()})();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~/g;b=c.exec(a);){var d=b.index;T("DEL",d,2,d+b[0].length-2,2)}})();(function(){(function(){if(-1!==
a.indexOf("^"))for(var b,c=/\^[^\x17\s]+/g;b=c.exec(a);){var d=b[0],g=b=b.index,e=b+d.length;d=d.split("^");d.shift();d.forEach(function(a){T("SUP",g,1,e,0);g+=1+a.length})}})()})();(function(){function b(b,g){var e=a.indexOf(b);if(-1!==e){var f=[],l=[],k=a.indexOf("\u0017",e),h;for(g.lastIndex=e;h=g.exec(a);)e=h.index,h=h[0].length,e>k&&(l.push(f),f=[],k=a.indexOf("\u0017",e)),"_"===a.charAt(e)&&1===h&&0<e&&c(a[e-1])&&c(a[e+h])||f.push([e,h]);l.push(f);l.forEach(d)}}function d(b){p=f=null;b.forEach(function(b){var c=
b[0];b=b[1];var d=!(-1<" \n\t".indexOf(a[c+b-1+1])),l=0<c&&-1<" \n\t".indexOf(a.charAt(c-1))?0:Math.min(b,3);g=l&1&&null!==f;e=l&2&&null!==p;G=h=c;k=b;null!==f&&f===p&&(g?f+=2:++p);g&&e&&(f<p?h+=2:++G);g&&(--k,T("EM",f,1,h,1),f=null);e&&(k-=2,T("STRONG",p,2,G,2),p=null);k=d?Math.min(k,3):0;c+=b;k&1&&(f=c-k);k&2&&(p=c-k)})}var g,e,f,h,k,p,G;b("*",/\*+/g);b("_",/_+/g)})();(function(){for(var b=a.indexOf("  \n");0<b;)P(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{x:function(a,b){b.forEach(function(a){var b=
a[0][0];P(3,"MEDIA",a[0][1],b.length,-10).p("url",b)})},y:":",z:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,B:5E4},PipeTables:{x:function(a){function b(a,b){e=b.k;b.G.split("|").forEach(function(b,c){0<c&&(xb(k,Db(e,1,1E3)),++e);var d=g.N[c]?g.N[c]:"",f=e,h=f+b.length;e=h;var l=/^( *).*?( *)$/.exec(b);if(l[1]){var m=l[1].length;xb(k,Db(f,m,1E3));f+=m}l[2]&&(m=l[2].length,xb(k,Db(h-m,m,1E3)),h-=m);h=f===h?P(3,a,f,0,-101):T(a,f,0,h,0,-101);d&&h.p("align",d)});T("TR",b.k,0,e,0,-102)}function c(){if(g&&2<
g.v.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(g.v[1].G)){for(var a=g,b=g.v[1].G,c=["","right","left","center"],d=[],e=/(:?)-+(:?)/g,f;f=e.exec(b);)d.push(c[(f[1]?2:0)+(f[2]?1:0)]);a.N=d;h.push(g)}g=null}function d(a){return a.replace(/>/g," ")}function f(a){return a.replace(/\|/g,".")}var e,g=null,k,h;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,f));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){g=null;h=[];e=0;a.split("\n").forEach(function(a){if(0>
a.indexOf("|"))c();else{var b=a,d=0;g||(g={v:[]},d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");g.v.push({G:b,k:e+d})}e+=1+a.length});c()})();(function(){for(var a=-1,c=h.length;++a<c;){g=h[a];var d=g.v[g.v.length-1];k=T("TABLE",g.v[0].k,0,d.k+d.G.length,0,-104);b("TH",g.v[0]);T("THEAD",g.v[0].k,0,e,0,-103);d=g.v[1];xb(k,Db(d.k-1,1+d.G.length,1E3));d=1;for(var f=g.v.length;++d<f;)b("TD",g.v[d]);T("TBODY",g.v[2].k,0,e,0,-103)}})()},y:"|"}},U,Ea={mediasites:{"bandcamp.com":"bandcamp",
"dailymotion.com":"dailymotion","facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{U:/^(?:ftp|https?)$/i}},Fb={c:ia,d:8},X={BANDCAMP:{c:t,j:{album_id:A,track_id:A,track_num:A,url:B},f:5,b:[db,xa,gb],g:10,e:r,i:5E3},C:Qa,CODE:{c:aa,j:{lang:Da},f:1,b:z,g:10,e:{q:w,d:4436,u:w},i:5E3},
DAILYMOTION:{c:t,w:[["url",/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,n],["url",/^([A-Za-z0-9]+)$/,n]],j:{id:{b:[function(a){return y(a,/^[A-Za-z0-9]+$/)}],n:!0},url:B},f:5,b:bb,g:10,e:r,i:5E3},DEL:Wa,EM:Ra,EMAIL:{c:ka,j:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],n:!0}},f:5,b:z,g:10,e:ca,i:5E3},ESC:{c:aa,f:6,b:z,g:10,e:{d:1616},i:5E3},FACEBOOK:{c:t,w:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,
n],["url",/\/(video)s?\//,["","type"]],ra],j:{id:Ma,type:{b:[function(a){return y(a,/^video$/)}],n:!1},url:B},f:5,b:bb,g:10,e:r,i:5E3},FP:ab,H1:hb,H2:hb,H3:hb,H4:hb,H5:hb,H6:hb,HC:{c:aa,j:{content:ma},f:6,b:z,g:10,e:{d:3153},i:5E3},HE:ab,HR:{c:pa,f:1,b:z,g:10,e:{q:w,d:3349},i:5E3},IMG:{c:pa,j:{alt:u,src:Pa,title:u},f:0,b:z,g:10,e:r,i:5E3},LI:lb,LIST:{c:la,j:{start:{b:[function(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}],n:!1},type:Da},f:1,b:z,g:10,e:Za,i:5E3},LIVELEAK:{c:t,w:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,
n],["url",/^([a-f_0-9]+)$/,n]],j:{id:{b:[function(a){return y(a,/^[a-f_0-9]+$/)}],n:!0},url:B},f:5,b:bb,g:10,e:r,i:5E3},MEDIA:{c:[65527,32512],f:14,b:[function(a){return function(a,c){function b(a,b){var c=a.A;if(c){var d=a.k,e=a.o,f=c.k;c=c.o}else d=a.k,e=0,f=a.k+a.o,c=0;Aa(T(b.toUpperCase(),d,e,f,c,a.E),za(a))}return function(a,c){if("site"in a.j){var d=a.j.site.toLowerCase();a:{for(e in c)if(c[e]===d){var e=!0;break a}e=!1}e&&b(a,d)}else if("url"in a.j){e=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.j.url);
if(e[1]&&c[e[1]+":"])d=c[e[1]+":"];else if(e[2])a:{d=e[2];do{if(c[d]){d=c[d];break a}e=d.indexOf(".");if(0>e)break;d=d.substr(1+e)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Ea.mediasites)}],g:10,e:{d:513},i:5E3},QUOTE:{c:ia,f:1,b:z,g:10,e:Ya,i:5E3},SOUNDCLOUD:{c:t,w:[["url",/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,n],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,
["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/i,n]],j:{id:{b:[function(a){return y(a,/^(?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/i)}],n:!0},playlist_id:A,secret_token:Oa,track_id:A,url:B},f:5,b:eb,g:10,e:r,i:5E3},SPOTIFY:{c:t,w:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,
["","path"]]],j:{path:{b:[function(a){return y(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],n:!1},uri:{b:[function(a){return y(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],n:!1},url:B},f:5,b:pb,g:10,e:r,i:5E3},STRONG:Ra,SUP:Va,TABLE:jb,TBODY:ob,TD:{c:ia,j:fb,f:9,b:z,g:10,e:cb,i:5E3},TH:{c:ha,j:fb,f:9,b:z,g:10,e:cb,i:5E3},THEAD:ib,TR:nb,TWITCH:{c:t,w:[["url",/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],["url",/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],
["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,["","t"]],["url",/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],j:{channel:Na,clip_id:Na,t:{b:[function(a){return y(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],n:!1},url:B,video_id:A},f:5,b:pb,g:10,e:r,i:5E3},URL:{c:ka,j:{title:u,url:Pa},f:4,b:z,g:10,e:ca,i:5E3},VIMEO:{c:t,w:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,n],ra],j:{id:Ma,url:B},f:5,b:bb,g:10,e:r,i:5E3},VINE:{c:t,w:[["url",/vine\.co\/v\/([^\/]+)/,n],["url",/^([^\/]+)$/,n]],j:{id:{b:[function(a){return y(a,
/^[^\/]+$/)}],n:!0},url:B},f:5,b:bb,g:10,e:r,i:5E3},YOUTUBE:{c:t,w:[["url",/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,n],["url",/youtu\.be\/([-\w]+)/,n],["url",/[#&?]t=(?:(\d+)(?![\dhm])|(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?)/,["","t","h","m","s"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,n]],j:{h:A,id:{b:Ca,n:!0},list:Oa,m:A,s:A,t:A,url:B},f:5,b:eb,g:10,e:r,i:5E3},"html:abbr":{c:ja,j:{title:u},f:0,b:z,g:10,e:ba,i:5E3},"html:b":Ra,"html:br":{c:oa,f:0,b:z,g:10,e:da,
i:5E3},"html:code":Qa,"html:dd":{c:ia,f:11,b:z,g:10,e:$a,i:5E3},"html:del":Wa,"html:div":{c:ia,j:qa,f:1,b:z,g:10,e:Ya,i:5E3},"html:dl":{c:[65344,32584],f:1,b:z,g:10,e:Za,i:5E3},"html:dt":{c:ha,f:11,b:z,g:10,e:$a,i:5E3},"html:i":Ra,"html:img":{c:oa,j:{alt:u,height:u,src:B,title:u,width:u},f:0,b:z,g:10,e:da,i:5E3},"html:ins":Wa,"html:li":lb,"html:ol":kb,"html:pre":{c:ja,f:1,b:z,g:10,e:{q:w,d:276,u:w},i:5E3},"html:rb":{c:ja,f:12,b:z,g:10,e:Xa,i:5E3},"html:rp":mb,"html:rt":mb,"html:rtc":{c:[65521,32608],
f:12,b:z,g:10,e:Xa,i:5E3},"html:ruby":{c:[65521,32624],f:0,b:z,g:10,e:ba,i:5E3},"html:span":{c:ja,j:qa,f:0,b:z,g:10,e:ba,i:5E3},"html:strong":Ra,"html:sub":Va,"html:sup":Va,"html:table":jb,"html:tbody":ob,"html:td":{c:ia,j:{colspan:u,rowspan:u},f:9,b:z,g:10,e:cb,i:5E3},"html:tfoot":{c:na,f:8,b:z,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},
d:3456,u:w},i:5E3},"html:th":{c:ha,j:{colspan:u,rowspan:u,scope:u},f:9,b:z,g:10,e:cb,i:5E3},"html:thead":ib,"html:tr":nb,"html:u":Ra,"html:ul":kb},Y,Gb,Z,Hb,Ib=0,Jb;
function Kb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");zb={};Ab={};K=0;L=null;Bb=!1;Cb={};N=[];O="";U=0;Y=[];Gb=!1;Z=a;Hb=Z.length;Jb=0;J=Fb;J.F=!1;++Ib;a=Ib;for(var b in Eb)if(!Eb[b].I)a:{var c=b,d=Eb[c];if(!(d.y&&0>Z.indexOf(d.y))){var f=[];if(d.z){f=void 0;var e=d.z;d=d.B;e.lastIndex=0;for(var g=[],k=0;++k<=d&&(f=e.exec(Z));){for(var h=+f.index,l=[[f[0],h]],v=0;++v<f.length;){var H=f[v];void 0===H?l.push(["",-1]):(l.push([H,Z.indexOf(H,h)]),h+=H.length)}g.push(l)}f=
g;if(!f.length)break a}(0,Eb[c].x)(Z,f)}}Pb();Qb(Hb,0,!0);do b=O,O=O.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(O!==b);O=O.replace(/<\/i><i>/g,"",O);O=O.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rb);c=Bb?"r":"t";b="<"+c;for(var m in Cb)b+=" xmlns:"+m+'="urn:s9e:TextFormatter:'+m+'"';O=b+">"+O+"</"+c+">";if(Ib!==a)throw"The parser has been reset during execution";return O}
function ta(a,b){b.w&&b.w.forEach(function(b){var c=b[0];if(c in a.j){b=Sb(a.j[c],b[1],b[2]);for(var f in b)f!==c&&f in a.j||a.p(f,b[f])}});return!0}function Sb(a,b,c){var d=b.exec(a);if(!d)return[];var f={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(f[a]=d[b])});return f}function Rb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Tb(a){Bb=!0;var b=a.l,c=a.k,d=a.o,f=a.d,e=0,g=0;f&256&&(e=1,g=a.r&2?2:1);var k=!1;a.r&1?f&4&&(k=!0):k=!0;Qb(c,e,k);e=d?tb(Z.substr(c,d)):"";if(a.r&1){f&4||Ub(c);f=b.indexOf(":");0<f&&(Cb[b.substr(0,f)]=0);O+="<"+b;var h=za(a);f=[];for(var l in h)f.push(l);f.sort(function(a,b){return a>b?1:-1});f.forEach(function(a){O+=" "+a+'="'+sb(h[a].toString()).replace(/\n/g,"&#10;")+'"'});O=3===a.r?d?O+(">"+e+"</"+b+">"):O+"/>":d?O+("><s>"+e+"</s>"):O+">"}else d&&(O+="<e>"+e+"</e>"),O+="</"+b+">";for(Jb=
U=c+d;g&&Jb<Hb&&"\n"===Z[Jb];)--g,++Jb}
function Qb(a,b,c){c&&(J.d&8?b=-1:c=!1);U>=a&&c&&Vb();if(Jb>U){var d=Math.min(a,Jb);O+=Z.substr(U,d-U);U=d;U>=a&&c&&Vb()}if(J.d&128)d=a-U,b=Z.substr(U,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),O+=b,U=a,c&&Vb();else{var f=a;for(d=0;b&&--f>=U;){var e=Z[f];if(" "!==e&&"\n"!==e&&"\t"!==e)break;"\n"===e&&--b;++d}a-=d;if(J.d&8)for(J.F||(Wb(a),a>U&&Ub(a)),b=Z.indexOf("\n\n",U);-1<b&&b<a;)Qb(b,0,!0),Ub(a),b=Z.indexOf("\n\n",U);a>U&&(b=tb(Z.substr(U,a-U)),O+=b);c&&Vb();d&&(O+=Z.substr(a,d));U=a+d}}
function Xb(a){var b=a.k;a=a.o;var c=Z.substr(b,a);Qb(b,0,!1);O+="<i>"+tb(c)+"</i>";Bb=!0;U=b+a}function Ub(a){!J.F&&J.d&8&&(Wb(a),U<Hb&&(O+="<p>",J.F=!0))}function Vb(){J.F&&(O+="</p>",J.F=!1)}function Wb(a){for(;U<a&&-1<" \n\t".indexOf(Z[U]);)O+=Z[U],++U}function Yb(a,b){var c=a.l;(L.d|a.d)&256&&(b=Zb(b));c=Q(c,b,0);F(c,a)}function Zb(a){for(;a>U&&-1<" \n\t".indexOf(Z[a-1]);)--a;return a}
function Pb(){if(Y.length){for(var a in X)zb[a]=0,Ab[a]=0;do{for(;Y.length;)Gb||(Y.sort($b),Gb=!0),L=Y.pop(),ac();N.forEach(function(a){Yb(a,Hb)})}while(Y.length)}}
function ac(){J.d&64&&!yb(L,N[N.length-1])&&!(-1<"br i pb v".indexOf(L.l))&&D(L);var a=L.k,b=L.o;if(U>a&&!L.D){var c;if((c=L.H)&&0<=N.indexOf(c)){F(Q(c.l,U,Math.max(0,a+b-U)),c);return}if("i"===L.l&&(a=a+b-U,0<a)){Db(U,a);return}D(L)}if(!L.D)if("i"===L.l)Xb(L);else if("br"===L.l)J.d&1024||(Qb(L.k,0,!1),O+="<br/>");else if("pb"===L.l)Qb(L.k,0,!0);else if("v"===L.l)a=J.d,J.d=L.d,Qb(L.k+L.o,0,!1),J.d=a;else if(L.r&1)if(a=L,b=a.l,c=X[b],Ab[b]>=c.i)D(a);else{var d=a,f=X[d.l],e=!0;if(f.b)for(var g=0;g<
f.b.length;++g)if(!f.b[g](d,f)){e=!1;break}if(e){if(d=1E4>K){a:{d=a;if(N.length&&(e=d.l,g=X[e],g.e.u)){f=N[N.length-1];var k=f.l;if(g.e.u[k]){if(k!==e&&1E4>K){e=d.k+d.o;Y.length?(g=Y[Y.length-1],g=g.k):g=Hb+1;for(;e<g&&-1<" \n\t".indexOf(Z[e]);)++e;e=bc(f,e);xb(d,e)}Y.push(d);Yb(f,d.k);K+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(N.length&&(f=X[d.l],f.e.q&&(e=N[N.length-1],f.e.q[e.l]))){++K;Y.push(d);Yb(e,d.k);d=!0;break a}d=!1}d=d||!1}d||(zb[b]>=c.g?D(a):(c=X[b].f,J.c[c>>3]&1<<(c&7)?(!(a.d&1)||a.A||Y.length&&
yb(Y[Y.length-1],a)||(b=new wb(3,b,a.k,a.o),Aa(b,za(a)),b.d=a.d,a=b),a.d&4096&&!a.A&&"\n"===Z[a.k+a.o]&&Db(a.k+a.o,1),Tb(a),cc(a)):D(a)))}else D(a)}else dc()}
function dc(){var a=L;if(zb[a.l]){for(var b=[],c=N.length;0<=--c;){var d=N[c];if(yb(a,d))break;b.push(d);++K}if(!(0>c)){var f=a.d;b.forEach(function(a){f|=a.d});var e=f&256,g=1E4>K,k=[];b.forEach(function(b){var c=b.l;g&&(b.d&2?k.push(b):g=!1);var d=a.k;e&&(d=Zb(d));c=new wb(2,c,d,0);c.d=b.d;Tb(c);ec()});Tb(a);ec();if(b.length&&1E4>K){d=U;for(c=Y.length;0<=--c&&1E4>++K;){var h=Y[c];if(h.k>d||h.r&1)break;for(var l=b.length;0<=--l&&1E4>++K;)if(yb(h,b[l])){b.splice(l,1);k[l]&&k.splice(l,1);d=Math.max(d,
h.k+h.o);break}}d>U&&Xb(new wb(3,"i",U,d-U))}k.forEach(function(a){var b=bc(a,U);(a=a.A)&&F(b,a)})}}}function ec(){var a=N.pop();--zb[a.l];J=J.Y}function cc(a){var b=a.l,c=a.d,d=X[b];++Ab[b];if(3!==a.r){var f=[];c&512?J.c.forEach(function(a,b){f.push(d.c[b]&a)}):J.c.forEach(function(a,b){f.push(d.c[b]&(a&65280|a>>8))});c|=J.d&32;c&16&&(c&=-33);++zb[b];N.push(a);J={c:f,d:c,Y:J}}}function Q(a,b,c,d){return P(2,a,b,c,d||0)}function Db(a,b,c){return P(3,"i",a,Math.min(b,Hb-a),c||0)}
function bc(a,b){var c=P(a.r,a.l,b,0,a.E);Aa(c,za(a));return c}function P(a,b,c,d,f){a=new wb(a,b,c,d,f||0);X[b]&&(a.d=X[b].e.d);if(X[b]||-1<"br i pb v".indexOf(a.l))if(X[b]&&X[b].I)D(a);else if(0>d||0>c||c+d>Hb)D(a);else if(Gb){for(b=Y.length;0<b&&0<$b(Y[b-1],a);)Y[b]=Y[b-1],--b;Y[b]=a}else Y.push(a);else D(a);return a}function T(a,b,c,d,f,e){d=Q(a,d,f,-e||0);a=P(1,a,b,c,e||0);F(a,d);return a}
function $b(a,b){var c=a.k,d=b.k;if(c!==d)return d-c;if(a.E!==b.E)return b.E-a.E;c=a.o;d=b.o;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.r]-c[a.r])}var fc="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function gc(a,b){if(fc){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function hc(a,b){if(fc){var c=b.createElement("div"),d=b.createDocumentFragment();ic.input=gc(a,"MSXML2.DOMDocument.6.0");ic.transform();for(c.innerHTML=ic.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(ic.transformToFragment(gc(a),b),!0)}var ic,jc=gc(qb,"MSXML2.FreeThreadedDOMDocument.6.0");if(fc){var kc=new ActiveXObject("MSXML2.XSLTemplate.6.0");kc.stylesheet=jc;ic=kc.createProcessor()}else ic=new XSLTProcessor,ic.importStylesheet(jc);
window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Eb[a]&&(Eb[a].I=!0)},enablePlugin:function(a){Eb[a]&&(Eb[a].I=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,g=c.length,k=e.length,m,x,q=0,E=0;q<g&&q<k;){m=c[q];x=e[q];if(!d(m,x))break;++q}for(var p=Math.min(g-q,k-q);E<p;){m=c[g-(E+1)];x=e[k-(E+1)];if(!d(m,x))break;++E}m=f.createDocumentFragment();for(p=q;p<k-E;)x=e[p].cloneNode(!0),m.appendChild(x),++p;for(p=g-E;--p>=q;)a.removeChild(c[p]);E?a.insertBefore(m,a.childNodes[q]):
a.appendChild(m)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,g=e.length,f=d.length;0<=--f;){var k=d[f],x=k.namespaceURI;k=k.name;b.hasAttributeNS(x,k)||a.removeAttributeNS(x,k)}for(f=g;0<=--f;)d=e[f],x=d.namespaceURI,k=d.name,d=d.value,d!==a.getAttributeNS(x,k)&&a.setAttributeNS(x,k,d);c(a,
b);return!0}var f=b.ownerDocument,e=hc(Kb(a),f);c(b,e)}};})();

		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>