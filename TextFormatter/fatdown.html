<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments
 - **HTMLElements** --- several HTML elements are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:<br/>
   http://youtu.be/QH2-TGUlwu4

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 32.2 KB (11.3 KB compressed)

***

[![Build Status](https://travis-ci.org/s9e/TextFormatter.png?branch=master)](https://travis-ci.org/s9e/TextFormatter)
[![Coverage Status](https://coveralls.io/repos/s9e/TextFormatter/badge.png)](https://coveralls.io/r/s9e/TextFormatter)
[![Scrutinizer Quality Score](https://scrutinizer-ci.com/g/s9e/TextFormatter/badges/quality-score.png?s=3942dab3c410fb9ce02001e7446d1083fa91172c)](https://scrutinizer-ci.com/g/s9e/TextFormatter/)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">function aa(a){var b=document.createElement("b");b.innerHTML=a.replace(/</g,"&lt;");return b.textContent}function ba(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function fa(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function ga(a){if(!/^\d+\.\d+\.\d+\.\d+$/.test(a))return!1;var b=4;for(a=a.split(".");0<=--b;)if("0"===a[b].charAt(0)||255<a[b])return!1;return!0}
function ha(a){return/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(a)?a:!1}function k(a,b){return b.test(a)?a:!1}
function ia(a){var b=ja.urlConfig;a=ka(a.replace(/^\s+/,"").replace(/\s+$/,""));var c="";if(""!==a.A){if(!b.S.test(a.A))return!1;c+=a.A+":"}if(""===a.p)if("file"===a.A)c+="//";else{if(""!==a.A)return!1}else{c+="//";if(!/^(?=[a-z])[-a-z0-9]{0,62}[a-z0-9](?:\.(?=[a-z])[-a-z0-9]{0,62}[a-z0-9])*$/i.test(a.p)&&!ga(a.p)&&!ha(a.p.replace(/^\[(.*)\]$/,"$1",a.p))||b.T&&b.T.test(a.p)||b.$&&!b.$.test(a.p))return!1;""!==a.R&&(c+=rawurlencode(decodeURIComponent(a.R)),""!==a.N&&(c+=":"+rawurlencode(decodeURIComponent(a.N))),
c+="@");c+=a.p;""!==a.O&&(c+=":"+a.O)}b=a.Y;""!==a.P&&(b+="?"+a.P);""!==a.L&&(b+="#"+a.L);b=b.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},b);c+=b.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z]/g,escape);a.A||(c=c.replace(/^([^\/]*):/,"$1%3A",c));return c}
function ka(a){a=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/i.exec(a);a={A:""<a[1]?a[1]:"",R:""<a[2]?a[2]:"",N:""<a[3]?a[3]:"",p:""<a[4]?a[4]:"",O:""<a[5]?a[5]:"",Y:""<a[6]?a[6]:"",P:""<a[7]?a[7]:"",L:""<a[8]?a[8]:""};a.A=a.A.toLowerCase();a.p=a.p.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(a.p)&&punycode&&(a.p=punycode.toASCII(a.p));return a}
function la(){}la.prototype={l:function(){}};function q(a,b,c,d){this.o=a;this.m=b;this.n=c;this.w=d;this.k={};this.K=[];isNaN(a+c+d)&&r(this)}q.prototype.F=!1;q.prototype.q=0;function r(a){a.F||(a.F=!0,a.K.forEach(function(a){r(a)}))}function s(a,b){a.m===b.m&&(1===a.o&&2===b.o&&b.n>=a.n?(a.B=b,b.G=a):2===a.o&&1===b.o&&b.n<=a.n&&(a.G=b,b.B=a))}function ma(a){a.q=1E3}function x(a){var b={},c;for(c in a.k)b[c]=a.k[c];return b}
function na(a,b){return a.F||a.m!==b.m||1!==b.o||2!==a.o||a.n<b.n||a.G&&a.G!==b||b.B&&b.B!==a?!1:!0}function oa(a){return"br"===a.m||"i"===a.m||"pb"===a.m}q.prototype.l=function(a,b){this.k[a]=b};function pa(a,b){a.k={};for(var c in b)a.k[c]=b[c]}
var A,ra,B,D,E,sa,ta=new la,ua,F,G,L={Litedown:{v:function(a){function b(a,c){s(H(2,"LIST",c,0),a.W);s(H(2,"LI",c,0),a.I);a.Q&&a.J.forEach(function(a){a.c&=-9})}function c(a){return a.replace(/[\\\x1A]/g,"").replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":")","\u001b3":"*","\u001b4":"[","\u001b5":"\\","\u001b6":"]","\u001b7":"^","\u001b8":"_","\u001b9":"`","\u001bA":"~"}[a]})}function d(c,b){a=a.substr(0,c)+Array(1+b).join("\u001a")+a.substr(c+b)}var e,g,h,f,p,l,m,u,n,v,
t,y,z;0>a.indexOf("\\")||(a=a.replace(/\\[!")*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\)":"\u001b2","\\*":"\u001b3","\\[":"\u001b4","\\\\":"\u001b5","\\]":"\u001b6","\\^":"\u001b7","\\_":"\u001b8","\\`":"\u001b9","\\~":"\u001bA"}[a]}));a+="\n\n\u0017";e=[];var J=4,N=!0,K=[],C=0,ca=!1,ya=[],da=0,Z={},S=0,ea,Q,O,R,w;if(0<a.indexOf("-")||0<a.indexOf("="))for(u=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;f=u.exec(a);){p=f[0];m=f.index;for(h=m-1;0<h&&" "===a[h-1];)--h;Z[m-1]={U:m+
p.length-h,V:h,Z:p.length-p.replace(/>/g,"").length,aa:"="===p.charAt(0)?"H1":"H2"}}for(u=/^(?:(?=[-*+\d \t>`#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=.))?[ \t]*(#+[ \t]*(?=.)|```+)?)?/gm;f=u.exec(a);){m=f.index;l=f[0].length;O=0;Q=!N;R=a.indexOf("\n",m);N=R===m+l&&!f[3]&&!f[4]&&!f[5];l||++u.lastIndex;ea=N&&Q;f[1]?(n=f[1].length-f[1].replace(/>/g,"").length,O=f[1].length):n=0;if(n<da&&!Q&&!N){ca=!0;do s(H(2,"QUOTE",S,0),ya.pop());while(n<
--da)}if(n>da&&!N){ca=!0;do t=H(1,"QUOTE",m,0),t.q=da,ya.push(t);while(n>++da)}g=t=0;if(f[2]){w=f[2];y=w.length;do" "===w.charAt(g)?++t:t=t+4&-4;while(++g<y&&t<J)}t<J&&z&&!N&&(ca=!0);ca&&(ca=!1,z&&(C=H(2,"CODE",S,0),s(C,z),C.q=-1,z=null),K.forEach(function(a){b(a,S)}),K=[],C=0,m&&e.push(m-1));if(t>=J){if(z||!Q)O=(f[1]||"").length+g,z||(z=H(1,"CODE",m+O,0)),f={}}else{J=!!f[4];if(t||Q||J||N)if(Q&&!J)w=C-1;else if(C)for(w=0;w<C&&t>K[w].M;)++w;else w=!Q&&J?0:-1;else w=-1;for(;w<C-1;)b(K.pop(),S),--C;
w!==C||J||--w;if(J&&0<=w){ea=!0;var qa=m+O+g;y=f[4].length;g=H(1,"LI",qa,y);d(qa,y);w<C?(s(H(2,"LI",S,0),K[w].I),K[w].I=g,K[w].J.push(g)):(++C,w?(y=K[w-1].M+1,t=Math.max(y,4*w)):y=0,w=H(1,"LIST",qa,0),-1<f[4].indexOf(".")&&w.l("type","decimal"),K.push({W:w,I:g,J:[g],ba:y,M:t,Q:!0}))}!C||Q||N||(1<K[0].J.length||!J)&&K.forEach(function(a){a.Q=!1});J=4*(C+1)}if(f[5]){if("#"===f[5].charAt(0)){n=f[5].length;v=m+l-n;h=R;for(g=0;-1<" #\t".indexOf(a.charAt(h-1));)--h,++g;I("H"+/#{1,6}/.exec(f[5])[0].length,
v,n,h,g);e.push(v);e.push(h);Q&&(ea=!0)}}else f[3]&&!C?(H(3,"HR",m+O,l-O),ea=!0):!Z[R]||Z[R].Z!==n||N||C||z||I(Z[R].aa,m+O,0,Z[R].V,Z[R].U);ea&&(H(3,"pb",S,0),e.push(S));N||(S=R);O&&ma(H(3,"i",m,O))}e.forEach(function(c){a=a.substr(0,c)+"\u0017"+a.substr(1+c)});if(-1<a.indexOf("`"))for(u=/(``?)[^\x17]*?[^`]\1(?!`)/g;f=u.exec(a);)m=f.index,l=f[0].length,y=f[1].length,I("C",m,y,m+l-y,y),d(m,l);if(-1<a.indexOf("!["))for(u=/!\[([^\x17\]]+)] ?\(([^\x17 ")]+)(?: "([^\x17"]*)")?\)/g;f=u.exec(a);)m=f.index,
l=f[0].length,e=f[1].length,v=m,n=2,h=v+n+e,g=l-n-e,e=I("IMG",v,n,h,g),e.l("alt",c(f[1])),e.l("src",c(f[2])),""<f[3]&&e.l("title",c(f[3])),d(m,l);if(-1<a.indexOf("["))for(u=/\[([^\x17\]]+)] ?\(([^\x17)]+)\)/g;f=u.exec(a);){m=f.index;l=f[0].length;e=f[1].length;v=m;n=1;h=v+n+e;g=l-n-e;z=f[2];e="";if(f=/^(.+?) "(.*?)"$/.exec(z))z=f[1],e=f[2];t=I("URL",v,n,h,g);t.l("url",c(z));""!==e&&t.l("title",c(e));d(v,n);d(h,g)}if(-1<a.indexOf("~~"))for(u=/~~[^\x17]+?~~/g;f=u.exec(a);)p=f[0],m=f.index,l=p.length,
I("DEL",m,2,m+l-2,2);if(-1<a.indexOf("^"))for(u=/\^[^\x17\s]+/g;f=u.exec(a);)p=f[0],m=f.index,l=p.length,v=m,h=m+l,e=p.split("^"),e.shift(),e.forEach(function(a){I("SUP",v,1,h,0);v+=1+a.length});[["*",/\*+/g],["_",/_+/g]].forEach(function(c){var b=c[0];c=c[1];if(!(0>a.indexOf(b)))for(var d=0,e=a.indexOf("\u0017"),h,g,n,t;f=c.exec(a);)if(p=f[0],m=f.index,l=p.length,m>e&&(d=0,e=a.indexOf("\u0017",m)),3<=l){var u=l;3>d?t=g=m:h<n?(t=m,g=m+2):(t=m+1,g=m,n===h&&(h+=2));d&2&&(I("STRONG",n,2,t,2),u-=2);d&
1&&(I("EM",h,1,g,1),--u);u?(d=Math.min(u,3),d&1&&(h=m+l-d),d&2&&(n=m+l-d)):d=0}else 2===l?3===d&&n===h?(I("STRONG",h+1,2,m,2),d=1):d&2?(I("STRONG",n,2,m,2),d-=2):(d+=2,n=m):"_"===b&&0<m&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(m-1))&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(m+1))||(3===d&&n===h?(I("EM",n+2,1,m,1),d=2):d&1?(I("EM",h,1,m,1),--d):(++d,h=m))})}},Autoemail:{x:"@",y:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,
z:1E4,D:"warn",v:function(a,b){b.forEach(function(a){var b=H(1,"EMAIL",a[0][1],0);b.l("email",a[0][0]);a=H(2,"EMAIL",a[0][1]+a[0][0].length,0);s(b,a)})}},Autolink:{x:"://",y:/(?:ftp|https?):\/\/\S(?:[^\s\[\]]*(?:\[\w*\])?)+/ig,z:1E4,D:"warn",v:function(a,b){b.forEach(function(a){for(var b=a[0][0];;)if(b=b.replace(/[\s!"',.<>?]+$/,""),")"===b.substr(-1)&&b.replace(/[^(]+/g,"").length<b.replace(/[^)]+/g,"").length)b=b.substr(0,b.length-1);else break;var e=H(1,"URL",a[0][1],0);e.l("url",b);a=H(2,"URL",
a[0][1]+b.length,0);s(e,a)})}},Escaper:{x:"\\",y:/\\[-!#()*+.:@[\\\]^_`{}]/g,z:1E4,D:"warn",v:function(a,b){b.forEach(function(a){H(3,"ESC",a[0][1],a[0][0].length)})}},FancyPants:{v:function(a){function b(b,e,h,g){for(;f=e.exec(a);){var p=H(3,d,f.index+f[0].indexOf(b),1),l=H(3,d,f.index+f[0].length-1,1);p.l(c,h);l.l(c,g);p.K.push(l);p.F&&r(l)}}var c="char",d="FP",e=0<=a.indexOf("'"),g=0<=a.indexOf('"'),h,f,p,l;if(e)for(h=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;f=h.exec(a);)p=H(3,d,f.index+f[0].indexOf("'"),
1),p.l(c,"\u2019"),p.q=10;if(e||g||0<=a.indexOf("x"))for(h=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;f=h.exec(a);)if(p=f.index+f[0].length-1,"x"===f[0].charAt(p)&&H(3,d,p,1).l(c,"\u00d7"),l=f[0].charAt(1),"'"===l||'"'===l)p=1+f.index,l="'s"===f[0].substr(1,2)?"\u2019":"'"===l?"\u2032":"\u2033",H(3,d,p,1).l(c,l);e&&b("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019");g&&b('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d");if(0<=a.indexOf("...")||0<=a.indexOf("--"))for(h=/---?|\.\.\./g;f=h.exec(a);)p=f.index,e=
f[0].length,l={"--":"\u2013","---":"\u2014","...":"\u2026"}[f[0]],H(3,d,p,e).l(c,l);if(0<=a.indexOf("("))for(h=/\((?:c|r|tm)\)/gi;f=h.exec(a);)p=f.index,e=f[0].length,l={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"}[f[0].toLowerCase()],H(3,d,p,e).l(c,l)}},HTMLComments:{x:"\x3c!--",y:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,z:1E4,D:"warn",v:function(a,b){b.forEach(function(a){var b=aa(a[0][0].substr(4,a[0][0].length-7)),b=b.replace(/[<>]/g,""),b=b.replace(/--/g,"");H(3,"HC",a[0][1],a[0][0].length).l("content",
b)})}},HTMLEntities:{x:"&",y:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,z:1E4,D:"warn",v:function(a,b){b.forEach(function(a){var b=a[0][0],e=aa(b);e!==b&&H(3,"HE",a[0][1],b.length).l("char",e)})}},HTMLElements:{x:"<",y:/<(?:\/((?:u|a(?:bbr)?|br?|code|d(?:el|iv)|em|hr|i(?:mg|ns)?|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)))|((?:u|a(?:bbr)?|br?|code|d(?:el|iv)|em|hr|i(?:mg|ns)?|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)))((?:\s+[a-z][-a-z]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
z:1E4,D:"warn",v:function(a,b){var c={a:{"":"URL",href:"url"},hr:{"":"HR"},img:{"":"IMG"},em:{"":"EM"},s:{"":"S"},strong:{"":"STRONG"},sub:{"":"SUB"},sup:{"":"SUP"}};b.forEach(function(b){var e="/"===a.charAt(b[0][1]+1),g=b[0][1],h=b[0][0].length,f=b[2-e][0].toLowerCase(),p=c&&c[f]&&c[f][""]?c[f][""]:"html:"+f;if(e)H(2,p,g,h);else for(var e="/>"===b[0][0].substr(h-2)?I(p,g,h,g+h,0):H(1,p,g,h),h=/[a-z][-a-z]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi,l;l=h.exec(b[3][0]);)g=l[0].indexOf("="),0>
g&&(g=l[0].length,l[0]+="="+l[0].toLowerCase()),p=l[0].substr(0,g).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),g=l[0].substr(1+g).replace(/^\s+/,"").replace("/s+$/",""),c&&c[f]&&c[f][p]&&(p=c[f][p]),/^["']/.test(g)&&(g=g.substr(1,g.length-2)),e.l(p,aa(g))})}},MediaEmbed:{x:":",y:/\b(?:spotify:|https?:\/\/(?:[-.\w]+\.)?(?:twitch\.tv|vi(?:meo\.com|ne\.co)|youtu(?:\.be|be\.com)|(?:bandcamp|dailymotion|grooveshark|liveleak|soundcloud|www\.facebook|(?:open|play)\.spotify)\.com)\/)[^["'\s]+(?!\S)/g,
z:1E4,D:"warn",v:function(a,b){b.forEach(function(a){var b=a[0][0];a=H(3,"MEDIA",a[0][1],b.length);a.l("url",b);a.q=-10})}}},M,ja={urlConfig:{S:/^(?:ftp|https?)$/i},mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion","www.facebook.com":"facebook","grooveshark.com":"grooveshark","liveleak.com":"liveleak","soundcloud.com":"soundcloud","open.spotify.com":"spotify","play.spotify.com":"spotify","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtube.com":"youtube",
"youtu.be":"youtube"}},va={d:[119],e:[2047],c:392},W={C:{b:[P],h:10,f:{c:18},i:1E3,g:0,d:[0],e:[0]},CODE:{k:{lang:{b:[wa],j:0}},b:[P],h:10,f:{c:916},i:1E3,g:1,d:[0],e:[0]},DEL:{b:[P],h:10,f:{c:64},i:1E3,g:0,d:[119],e:[2047]},EM:{b:[P],h:10,f:{c:2},i:1E3,g:0,d:[113],e:[2047]},H1:{b:[P],h:10,f:{c:516},i:1E3,g:2,d:[113],e:[2047]},H2:{b:[P],h:10,f:{c:516},i:1E3,g:2,d:[113],e:[2047]},H3:{b:[P],h:10,f:{c:516},i:1E3,g:2,d:[113],e:[2047]},H4:{b:[P],h:10,f:{c:516},i:1E3,g:2,d:[113],e:[2047]},H5:{b:[P],h:10,
f:{c:516},i:1E3,g:2,d:[113],e:[2047]},H6:{b:[P],h:10,f:{c:516},i:1E3,g:2,d:[113],e:[2047]},HR:{b:[P],h:10,f:{c:645},i:1E3,g:1,d:[96],e:[2047]},IMG:{k:{alt:{j:0},src:{b:[T],j:1},title:{j:0}},b:[P],h:10,f:{c:129},i:1E3,g:0,d:[96],e:[2047]},LI:{b:[P],h:10,f:{u:{LI:1},c:520},i:1E3,g:3,d:[119],e:[2047]},LIST:{k:{type:{b:[wa],j:0}},b:[P],h:10,f:{c:676},i:1E3,g:1,d:[72],e:[2047]},QUOTE:{b:[P],h:10,f:{c:524},i:1E3,g:1,d:[119],e:[2047]},STRONG:{b:[P],h:10,f:{c:2},i:1E3,g:0,d:[113],e:[2047]},SUP:{b:[P],h:10,
f:{c:0},i:1E3,g:0,d:[113],e:[2047]},URL:{k:{title:{j:0},url:{b:[T],j:1}},b:[P],h:10,f:{c:66},i:1E3,g:4,d:[103],e:[2031]},EMAIL:{k:{email:{b:[xa],j:1}},b:[P],h:10,f:{c:66},i:1E3,g:4,d:[103],e:[2031]},ESC:{b:[P],h:10,f:{c:145},i:1E3,g:5,d:[0],e:[0]},FP:{k:{"char":{j:1}},b:[P],h:10,f:{c:129},i:1E3,g:5,d:[96],e:[2047]},HC:{k:{content:{j:1}},b:[P],h:10,f:{c:401},i:1E3,g:6,d:[0],e:[0]},HE:{k:{"char":{j:1}},b:[P],h:10,f:{c:129},i:1E3,g:5,d:[96],e:[2047]},"html:abbr":{k:{title:{j:0}},b:[P],h:10,f:{c:0},i:1E3,
g:0,d:[113],e:[2047]},"html:b":{b:[P],h:10,f:{c:2},i:1E3,g:0,d:[113],e:[2047]},"html:br":{b:[P],h:10,f:{c:161},i:1E3,g:0,d:[64],e:[2047]},"html:code":{b:[P],h:10,f:{c:18},i:1E3,g:0,d:[0],e:[0]},"html:del":{b:[P],h:10,f:{c:64},i:1E3,g:0,d:[119],e:[2047]},"html:div":{k:{"class":{j:0}},b:[P],h:10,f:{c:524},i:1E3,g:1,d:[119],e:[2047]},"html:i":{b:[P],h:10,f:{c:2},i:1E3,g:0,d:[113],e:[2047]},"html:ins":{b:[P],h:10,f:{c:64},i:1E3,g:0,d:[119],e:[2047]},"html:rb":{b:[P],h:10,f:{u:{"html:rb":1,"html:rp":1,
"html:rt":1,"html:rtc":1},c:512},i:1E3,g:7,d:[113],e:[2047]},"html:rp":{b:[P],h:10,f:{u:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:512},i:1E3,g:7,d:[113],e:[2047]},"html:rt":{b:[P],h:10,f:{u:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:512},i:1E3,g:7,d:[113],e:[2047]},"html:rtc":{b:[P],h:10,f:{u:{"html:rb":1,"html:rp":1,"html:rtc":1},c:512},i:1E3,g:7,d:[113],e:[2047]},"html:ruby":{b:[P],h:10,f:{c:0},i:1E3,g:0,d:[241],e:[2047]},"html:span":{k:{"class":{j:0}},b:[P],h:10,f:{c:0},i:1E3,
g:0,d:[113],e:[2047]},"html:strong":{b:[P],h:10,f:{c:2},i:1E3,g:0,d:[113],e:[2047]},"html:sub":{b:[P],h:10,f:{c:0},i:1E3,g:0,d:[113],e:[2047]},"html:sup":{b:[P],h:10,f:{c:0},i:1E3,g:0,d:[113],e:[2047]},"html:table":{b:[P],h:10,f:{c:676},i:1E3,g:1,d:[1344],e:[2047]},"html:tbody":{b:[P],h:10,f:{u:{"html:tbody":1,"html:tfoot":1,"html:thead":1},c:672},i:1E3,g:8,d:[1088],e:[2047]},"html:td":{k:{colspan:{j:0},rowspan:{j:0}},b:[P],h:10,f:{u:{"html:td":1,"html:th":1},c:520},i:1E3,g:9,d:[119],e:[2047]},"html:tfoot":{b:[P],
h:10,f:{u:{"html:tbody":1,"html:thead":1},c:672},i:1E3,g:8,d:[1088],e:[2047]},"html:th":{k:{colspan:{j:0},rowspan:{j:0},scope:{j:0}},b:[P],h:10,f:{u:{"html:td":1,"html:th":1},c:520},i:1E3,g:9,d:[115],e:[2043]},"html:thead":{b:[P],h:10,f:{c:672},i:1E3,g:8,d:[1088],e:[2047]},"html:tr":{b:[P],h:10,f:{u:{"html:tr":1},c:672},i:1E3,g:10,d:[576],e:[2047]},"html:u":{b:[P],h:10,f:{c:2},i:1E3,g:0,d:[113],e:[2047]},MEDIA:{b:[za],h:10,f:{c:81},i:1E3,g:6,d:[0],e:[0]},BANDCAMP:{k:{url:{b:[T],j:0},album_id:{b:[U],
j:0},track_num:{b:[U],j:0},track_id:{b:[U],j:0}},b:[Aa,P,Ba],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},DAILYMOTION:{k:{url:{b:[T],j:0},id:{b:[Ca],j:1}},r:[["url",/dailymotion\.com\/(?:video\/|user\/[^#]+#video=)([A-Za-z0-9]+)/,["","id"]],["url",/^([A-Za-z0-9]+)$/,["","id"]]],b:[V,P],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},FACEBOOK:{k:{url:{b:[T],j:0},id:{b:[U],j:1}},r:[["url",/www\.facebook\.com\/(?!pages\/).*?(?:\/|\?fbid=|\?v=)(\d+)(?=$|[\/?&#])/,["","id"]],["url",/^(\d+)$/,["","id"]]],b:[V,P],h:10,f:{c:145},
i:1E3,g:4,d:[0],e:[0]},GROOVESHARK:{k:{url:{b:[T],j:0},songid:{b:[Da],j:0},playlistid:{b:[Da],j:0}},r:[["url",/grooveshark\.com(?:\/#!?)?\/playlist\/[^\/]+\/([0-9]+)/,["","playlistid"]]],b:[V,Ea,P,Ba],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},LIVELEAK:{k:{url:{b:[T],j:0},id:{b:[Fa],j:1}},r:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,["","id"]],["url",/^([a-f_0-9]+)$/,["","id"]]],b:[V,P],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},SOUNDCLOUD:{k:{url:{b:[T],j:0},playlist_id:{b:[U],j:0},track_id:{b:[U],j:0},
id:{b:[Ga],j:1},secret_token:{b:[Ha],j:0}},r:[["url",/(https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)/,["","id","secret_token"]],["url",/^(https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)$/,["","id","secret_token"]]],b:[V,Ia,P],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},
SPOTIFY:{k:{url:{b:[T],j:0},uri:{b:[Ja],j:0},path:{b:[Ka],j:0}},r:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[\/\w]+)/,["","path"]]],b:[V,P,Ba],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},TWITCH:{k:{url:{b:[T],j:0},channel:{b:[La],j:0},archive_id:{b:[Da],j:0},chapter_id:{b:[Da],j:0}},r:[["url",/twitch\.tv\/((?!m\/)\w+)(?:\/b\/([0-9]+)|\/c\/([0-9]+))?/,["","channel","archive_id","chapter_id"]]],b:[V,Ma,P,
Ba],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},VIMEO:{k:{url:{b:[T],j:0},id:{b:[Da],j:1}},r:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/)?([0-9]+)/,["","id"]],["url",/^([0-9]+)$/,["","id"]]],b:[V,P],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},VINE:{k:{url:{b:[T],j:0},id:{b:[Na],j:1}},r:[["url",/vine\.co\/v\/([^\/]+)/,["","id"]],["url",/^([^\/]+)$/,["","id"]]],b:[V,P],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]},YOUTUBE:{k:{url:{b:[T],j:0},id:{b:[Ha],j:1},t:{b:[U],j:0},list:{b:[Ha],j:0}},r:[["url",/youtube\.com\/(?:watch.*?v=|v\/)([-\w]+)/,
["","id"]],["url",/youtu\.be\/([-\w]+)/,["","id"]],["url",/[#&?]t=(\d+)/,["","t"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,["","id"]]],b:[V,P],h:10,f:{c:145},i:1E3,g:4,d:[0],e:[0]}},X,Oa,Y,Pa,Qa=0,$;
function Ra(a){a=a.replace(/\r\n?/g,"\n",a);a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"",a);D=0;sa=!1;ua={};G="";Y=a;Pa=Y.length;X=[];Oa=!0;$=0;++Qa;a=Qa;for(var b in L){var c=L[b];if(!(c.H||c.x&&0>Y.indexOf(c.x))){var d=[];if(c.y){var d=c.y,e=[],g=void 0;for(d.lastIndex=0;g=d.exec(Y);){for(var h=+g.index,f=[[g[0],h]],p=0;++p<g.length;){var l=g[p];void 0===l?f.push(["",-1]):(f.push([l,Y.indexOf(l,h)]),h+=l.length)}e.push(f)}d=e;e=d.length;if(!e)continue;e>c.z&&(d=d.slice(0,c.z))}c.v(Y,d)}}Sa();
if(Qa!==a)throw"The parser has been reset during execution";return G}function Ta(a,b){b.r&&b.r.forEach(function(b){var d=b[0],e=b[1];b=b[2];if(d in a.k){var g;(g=e.exec(a.k[d]))&&b.forEach(function(b,c){if(""!==b&&"string"===typeof g[c]){var e=g[c];b!==d&&b in a.k||a.l(b,e)}})}});return!0}
function Ua(){var a;Va(Pa,0,!0);do a=G,G=G.replace(/<((?:\w+:)?\w+)[^>]*><\/\1>/g,"");while(G!==a);G=G.replace(/<\/i><i>/g,"",G);var b=sa?"r":"t";a="<"+b;for(var c in ua)a+=" xmlns:"+c+'="urn:s9e:TextFormatter:'+c+'"';G=a+">"+G+"</"+b+">"}
function Wa(a){sa=!0;var b=a.m,c=a.n,d=a.w,e=a.c,g=0,h=0;e&512&&(g=a.o&1?2:1,h=a.o&2?2:1);var f=!1;a.o&1?e&4&&(f=!0):f=!0;Va(c,g,f);g=d?fa(Y.substr(c,d)):"";if(a.o&1){e&4||Xa(c);e=b.indexOf(":");0<e&&(ua[b.substr(0,e)]=0);G+="<"+b;var p=x(a),e=[],l;for(l in p)e.push([l]);e.sort(function(a,b){return a>b?1:-1});e.forEach(function(a){G+=" "+a+'="'+ba(p[a].toString())+'"'});G=3===a.o?d?G+(">"+g+"</"+b+">"):G+"/>":d?G+("><s>"+g+"</s>"):G+">"}else d&&(G+="<e>"+g+"</e>"),G+="</"+b+">";for($=M=c+d;h&&$<Pa&&
"\n"===Y.charAt($);)--h,++$}
function Va(a,b,c){c&&(B.c&8?b=-1:c=!1);M>=a&&c&&Ya();if($>M){var d=Math.min(a,$);G+=Y.substr(M,d-M);M=d;M>=a&&c&&Ya()}if(B.c&32)d=a-M,b=Y.substr(M,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),G+=b,M=a,c&&Ya();else{for(var e=a,d=0;b&&--e>=M;){var g=Y.charAt(e);if(" "!==g&&"\n"!==g&&"\t"!==g)break;"\n"===g&&--b;++d}a-=d;if(B.c&8)for(B.E||(Za(a),a>M&&Xa(a)),b=Y.indexOf("\n\n",M);-1<b&&b<a;)Va(b,0,!0),Xa(a),b=Y.indexOf("\n\n",M);a>M&&(b=fa(Y.substr(M,a-M)),B.c&128||(b=b.replace(/\n/g,"<br/>\n")),G+=b);
c&&Ya();d&&(G+=Y.substr(a,d));M=a+d}}function $a(a){var b=a.n;a=a.w;var c=Y.substr(b,a);Va(b,0,!1);G+="<i>"+fa(c)+"</i>";sa=!0;M=b+a}function Xa(a){!B.E&&B.c&8&&(Za(a),M<Pa&&(G+="<p>",B.E=!0))}function Ya(){B.E&&(G+="</p>",B.E=!1)}function Za(a){for(;M<a&&-1<" \n\t".indexOf(Y.charAt(M));)G+=Y.charAt(M),++M}function ab(a,b){var c=a.m;a.c&512&&(b=bb(b));s(H(2,c,b,0),a)}function bb(a){for(;a>M&&-1<" \n\t".indexOf(Y.charAt(a-1));)--a;return a}
function Sa(){M=0;A={};ra={};F=[];E=null;B=va;B.E=!1;for(var a in W)A[a]=0,ra[a]=0;do{for(;X.length;)Oa||(X.sort(cb),Oa=!0),E=X.pop(),B.c&16&&!na(E,F[F.length-1])&&!oa(E)||db();F.forEach(function(a){ab(a,Pa)})}while(X.length);Ua()}
function db(){if(!E.F){var a=E.n,b=E.w;if(M>a){var c;if((c=E.G)&&0<=F.indexOf(c))a=Math.max(0,a+b-M),a=H(2,c.m,M,a),s(a,c);else{if("i"===E.m&&(c=a+b-M,0<c)){H(3,"i",M,c);return}r(E)}}else if("i"===E.m)$a(E);else if("br"===E.m)B.c&128||(Va(E.n,0,!1),G+="<br/>");else if("pb"===E.m)Va(E.n,0,!0);else if(E.o&1)if(c=E,a=c.m,b=W[a],ra[a]>=b.i)r(c);else{var d=c,e=W[d.m],g=!0;if(e.b)for(var h=0;h<e.b.length;++h)if(!e.b[h](d,e)){g=!1;break}if(g){a:{d=c;if(F.length&&(e=W[d.m],e.f.u&&(g=F[F.length-1],e.f.u[g.m]))){X.push(d);
ab(g,d.n);d=!0;break a}d=!1}d||(A[a]>=b.h?r(c):(b=W[a].g,B.d[b>>5]&1<<(b&31)?(c.c&1&&!c.B&&(a=new q(3,a,c.n,c.w),pa(a,x(c)),a.c=c.c,c=a),Wa(c),eb(c)):r(c)))}else r(c)}else fb()}}
function fb(){var a=E;if(A[a.m]){for(var b=[],c=F.length;0<=--c;){var d=F[c];if(na(a,d))break;if(1E3<++D)throw"Fixing cost exceeded";b.push(d)}if(!(0>c)){var e=1E3>D,g=[];b.forEach(function(b){var c=b.m;e&&(b.c&2?g.push(b):e=!1);var d=a.n;b.c&512&&(d=bb(d));c=new q(2,c,d,0);c.c=b.c;Wa(c);gb()});Wa(a);gb();if(b.length&&1E3>D){d=M;for(c=X.length;0<=--c&&1E3>++D;){var h=X[c];if(h.n>d||h.o&1)break;for(var f=b.length;0<=--f&&1E3>++D;)if(na(h,b[f])){b.splice(f,1);g[f]&&g.splice(f,1);d=Math.max(d,h.n+h.w);
break}}d>M&&$a(new q(3,"i",M,d-M))}g.forEach(function(a){var b=H(a.o,a.m,M,0);pa(b,x(a));b.q=a.q;(a=a.B)&&s(b,a)})}}}function gb(){var a=F.pop();--A[a.m];B=B.X}function eb(a){function b(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=a[c]&b[c];return e}var c=a.m,d=a.c,e=W[c];++ra[c];3!==a.o&&(++A[c],F.push(a),a=b(e.d,e.d),d&64&&(a=b(a,B.d)),e=b(B.e,e.e),a=b(a,e),B.c&256&&(d|=256),d&256&&(d|=128),B={d:a,e:e,c:d,X:B})}
function H(a,b,c,d){a=new q(a,b,c,d);W[b]&&(a.c=W[b].f.c);W[b]||oa(a)?W[b]&&W[b].H?r(a):0>d||0>c||c+d>Pa?r(a):(Oa&&X.length&&a.n>=X[X.length-1].n&&(Oa=!1),X.push(a)):r(a);return a}function I(a,b,c,d,e){b=H(1,a,b,c);s(b,H(2,a,d,e));return b}function cb(a,b){var c=a.n,d=b.n;if(c!==d)return d-c;if(a.q!==b.q)return b.q-a.q;c=a.w;d=b.w;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.o]-c[a.o])}function hb(a){return(new DOMParser).parseFromString(a,"text/xml")}var ib=new XSLTProcessor;ib.importStylesheet(hb('<?xml version="1.0" encoding="utf-8"?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/><xsl:template match="BANDCAMP"><iframe width="400" height="400" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<xsl:choose><xsl:when test="@album_id">album=<xsl:value-of select="@album_id"/><xsl:if test="@track_num">/t=<xsl:value-of select="@track_num"/></xsl:if></xsl:when><xsl:otherwise>track=<xsl:value-of select="@track_id"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="C"><code><xsl:apply-templates/></code></xsl:template><xsl:template match="CODE"><pre><code class="{@lang}"><xsl:apply-templates/></code></pre></xsl:template><xsl:template match="DAILYMOTION"><iframe width="560" height="315" src="//www.dailymotion.com/embed/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="DEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|html:b|html:br|html:code|html:del|html:i|html:ins|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|p"><xsl:element name="{translate(local-name(),\'DEGHILMNOPRSTU\',\'deghilmnoprstu\')}"><xsl:apply-templates/></xsl:element></xsl:template><xsl:template match="EMAIL"><a href="mailto:{@email}"><xsl:apply-templates/></a></xsl:template><xsl:template match="ESC"><xsl:value-of select="substring(.,2)"/></xsl:template><xsl:template match="FACEBOOK"><iframe width="560" height="315" src="//s9e.github.io/iframe/facebook.min.html#{@id}" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,src.substr(0,src.indexOf(\'/\',8)))" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="FP|HE"><xsl:value-of select="@char"/></xsl:template><xsl:template match="GROOVESHARK"><object type="application/x-shockwave-flash" typemustmatch="" width="400" height="{400-360*boolean(@songid)}" data="//grooveshark.com/{substring(\'songWw\',6-5*boolean(@songid),5)}idget.swf"><param name="allowfullscreen" value="true"/><param name="flashvars" value="playlistID={@playlistid}&amp;songID={@songid}"/><embed type="application/x-shockwave-flash" src="//grooveshark.com/{substring(\'songWw\',6-5*boolean(@songid),5)}idget.swf" width="400" height="{400-360*boolean(@songid)}" allowfullscreen="" flashvars="playlistID={@playlistid}&amp;songID={@songid}"/></object></xsl:template><xsl:template match="HC"><xsl:comment><xsl:value-of select="@content"/></xsl:comment></xsl:template><xsl:template match="HR"><hr/></xsl:template><xsl:template match="IMG"><img src="{@src}"><xsl:copy-of select="@alt"/><xsl:copy-of select="@title"/></img></xsl:template><xsl:template match="LIST"><xsl:choose><xsl:when test="not(@type)"><ul><xsl:apply-templates/></ul></xsl:when><xsl:otherwise><ol><xsl:apply-templates/></ol></xsl:otherwise></xsl:choose></xsl:template><xsl:template match="LIVELEAK"><iframe width="640" height="360" src="http://www.liveleak.com/ll_embed?i={@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="QUOTE"><blockquote><xsl:apply-templates/></blockquote></xsl:template><xsl:template match="SOUNDCLOUD"><iframe width="100%" height="166" style="max-width:900px" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://w.soundcloud.com/player/?url=<xsl:choose><xsl:when test="@secret_token and@playlist_id">https://api.soundcloud.com/playlists/<xsl:value-of select="@playlist_id"/>&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:when><xsl:when test="@secret_token and@track_id">https://api.soundcloud.com/tracks/<xsl:value-of select="@track_id"/>&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:when><xsl:otherwise><xsl:if test="not(contains(@id,\'://\'))">https://soundcloud.com/</xsl:if><xsl:value-of select="@id"/><xsl:if test="@secret_token">&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:if></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="SPOTIFY"><iframe width="400" height="480" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://embed.spotify.com/?view=coverart&amp;uri=<xsl:choose><xsl:when test="@uri"><xsl:value-of select="@uri"/></xsl:when><xsl:otherwise>spotify:<xsl:value-of select="translate(@path,\'/\',\':\')"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="TWITCH"><object type="application/x-shockwave-flash" typemustmatch="" width="620" height="378"><xsl:attribute name="data">//www.twitch.tv/widgets/<xsl:choose><xsl:when test="@archive_id or@chapter_id">arch</xsl:when><xsl:otherwise>l</xsl:otherwise></xsl:choose>ive_embed_player.swf</xsl:attribute><param name="allowfullscreen" value="true"/><param name="flashvars"><xsl:attribute name="value">channel=<xsl:value-of select="@channel"/><xsl:if test="@archive_id">&amp;archive_id=<xsl:value-of select="@archive_id"/></xsl:if><xsl:if test="@chapter_id">&amp;chapter_id=<xsl:value-of select="@chapter_id"/></xsl:if>&amp;auto_play=false</xsl:attribute></param><embed type="application/x-shockwave-flash" width="620" height="378" allowfullscreen=""><xsl:attribute name="src">//www.twitch.tv/widgets/<xsl:choose><xsl:when test="@archive_id or@chapter_id">arch</xsl:when><xsl:otherwise>l</xsl:otherwise></xsl:choose>ive_embed_player.swf</xsl:attribute><xsl:attribute name="flashvars">channel=<xsl:value-of select="@channel"/><xsl:if test="@archive_id">&amp;archive_id=<xsl:value-of select="@archive_id"/></xsl:if><xsl:if test="@chapter_id">&amp;chapter_id=<xsl:value-of select="@chapter_id"/></xsl:if>&amp;auto_play=false</xsl:attribute></embed></object></xsl:template><xsl:template match="URL"><a href="{@url}"><xsl:copy-of select="@title"/><xsl:apply-templates/></a></xsl:template><xsl:template match="VIMEO"><iframe width="560" height="315" src="//player.vimeo.com/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="VINE"><iframe width="480" height="480" src="https://vine.co/v/{@id}/embed/simple" allowfullscreen="" frameborder="0" scrolling="no"/><script async="" src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"/></xsl:template><xsl:template match="YOUTUBE"><iframe width="560" height="315" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//www.youtube.com/embed/<xsl:value-of select="@id"/>?controls=2<xsl:if test="@list">&amp;list=<xsl:value-of select="@list"/></xsl:if><xsl:if test="@t">&amp;start=<xsl:value-of select="@t"/></xsl:if></xsl:attribute></iframe></xsl:template><xsl:template match="br"><br/></xsl:template><xsl:template match="e|i|s"/><xsl:template match="html:abbr"><abbr><xsl:copy-of select="@title"/><xsl:apply-templates/></abbr></xsl:template><xsl:template match="html:div"><div><xsl:copy-of select="@class"/><xsl:apply-templates/></div></xsl:template><xsl:template match="html:span"><span><xsl:copy-of select="@class"/><xsl:apply-templates/></span></xsl:template><xsl:template match="html:td"><td><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:apply-templates/></td></xsl:template><xsl:template match="html:th"><th><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:copy-of select="@scope"/><xsl:apply-templates/></th></xsl:template></xsl:stylesheet>'));
function P(a,b){var c;a:{if(b.k){var d,e=x(a);for(c in e){var g=e[c];if(b.k[c]){if(d=b.k[c],d.b){ta.l(c);for(var h=0;h<d.b.length;++h)if(g=d.b[h](g,c),!1===g){delete a.k[c];break}!1!==g&&a.l(c,g)}}else delete a.k[c]}for(c in b.k)if(d=b.k[c],!(c in a.k)&&d.j){c=!1;break a}}else pa(a,{});c=!0}return c}function wa(a){return/^[-\w+., ]+$/.test(a)?a:!1}function T(a){return ia(a)}function xa(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}
function za(a){var b=ja.mediasites,c;if("media"in a.k)c=a.k.media,!("id"in a.k)&&"url"in a.k&&-1===a.k.url.indexOf("://")&&a.l("id",a.k.url);else if("url"in a.k){var d=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.k.url);if(d[1]&&b[d[1]+":"])c=b[d[1]+":"];else if(d[2]){d=d[2];do{if(b[d]){c=b[d];break}var e=d.indexOf(".");if(-1==e)break;d=d.substr(1+e)}while(""<d)}}c&&(b=a.B||a,d=a.n,c=H(3,c.toUpperCase(),d,b.n+b.w-d),pa(c,x(a)),c.q=a.q);return!1}function Aa(){return!0}
function Ba(a){a:{for(var b in x(a))if("url"!==b){a=!0;break a}a=!1}return a}function U(a){return k(a,/^(?:\d+)$/)}function V(a,b){return Ta(a,b)}function Ca(a){return k(a,/^(?:[A-Za-z0-9]+)$/)}function Ea(){return!0}function Da(a){return k(a,/^(?:[0-9]+)$/)}function Fa(a){return k(a,/^(?:[a-f_0-9]+)$/)}function Ia(){return!0}
function Ga(a){return k(a,/^(?:https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)$/)}function Ha(a){return k(a,/^(?:[-\w]+)$/)}function Ja(a){return k(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)$/)}function Ka(a){return k(a,/^(?:(?:album|artist|track|user)\/[\/\w]+)$/)}function Ma(){return!0}function La(a){return k(a,/^(?:(?!m\/)\w+)$/)}
function Na(a){return k(a,/^(?:[^\/]+)$/)}
window.s9e={TextFormatter:{disablePlugin:function(a){L[a]&&(L[a].H=!0)},enablePlugin:function(a){L[a]&&(L[a].H=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,m=c.length,u=e.length,n,v,t=0,y=0;t<m&&t<u;){n=c[t];v=e[t];if(!d(n,v))break;++t}for(var z=Math.min(m-t,u-t);y<z;){n=c[m-(y+1)];v=e[u-(y+1)];if(!d(n,v))break;++y}n=g.createDocumentFragment();for(z=t;z<u-y;)v=e[z].cloneNode(!0),n.appendChild(v),++z;for(z=m-y;--z>=t;)a.removeChild(c[z]);y?a.insertBefore(n,a.childNodes[t]):
a.appendChild(n)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,g=e.length,u=d.length;0<=--u;){var n=d[u],v=n.namespaceURI,n=n.name;b.hasAttributeNS(v,n)||a.removeAttributeNS(v,n)}for(u=g;0<=--u;)d=e[u],v=d.namespaceURI,n=d.name,d=d.value,d!==a.getAttributeNS(v,n)&&a.setAttributeNS(v,n,d);c(a,
b);return!0}var e=Ra(a),e=hb(e),g=b.ownerDocument,e=g.importNode(ib.transformToFragment(e,g),!0);c(b,e)}}};
		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		window.setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.0.0/punycode.min.js"></script>
</body>
</html>