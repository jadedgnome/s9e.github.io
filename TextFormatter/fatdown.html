<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](http://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 34.8 KB (14.4 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var ca=[0,0],l=["","id"],da={e:0},ea={e:514},fa={e:3201},ga={e:3089},ka={e:3093},la=[61223,7952],ma=[65335,65520],m={n:!1},na=[65320,65296],oa=[65329,65472],pa=[64307,65520],qa={n:!0},p=[65329,65488],ra=[65312,65297],sa=[65312,65296],ta={"class":m},ua=["url",/^(\d+)$/,l],t={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},va={e:268,r:t},za={e:256,r:t},Aa={e:3460,r:t};function Ba(a,b){return Ca(a,b)}
function Da(a,b){var c;a:{c=Ea;if(b.j){var d,f,g=Fa(a);for(d in g){var e=g[d];if(b.j[d]){if(f=b.j[d],f.b){c.o(d);for(var k=0;k<f.b.length;++k)if(e=f.b[k](e,d),!1===e){delete a.j[d];break}!1!==e&&a.o(d,e)}}else delete a.j[d]}for(d in b.j)if(f=b.j[d],!(d in a.j)&&f.n){c=!1;break a}}else Ga(a,{});c=!0}return c}
var u=[Da],Ha=[function(a){return w(a,/^\d+$/)}],Ia=[function(a){return w(a,/^[-\w]+$/)}],La={b:[function(a){return/^[-\w+., ]+$/.test(a)?a:!1}],n:!1},Qa=[function(a){var b=Ma.urlConfig,c=Ea,d=Na(a.replace(/^\s+/,"").replace(/\s+$/,""));Oa(b,d)?(c&&(d.attrValue=a),a=!1):a=Pa(d);return a}],Ra={y:{"html:dd":1,"html:dt":1},e:256,r:t},x={b:Ha,n:!1},Sa={b:Ha,n:!0},Ta={b:[function(a){return w(a,/^\w+$/)}],n:!1},Za={b:Ia,n:!1},$a={y:{TD:1,TH:1,"html:td":1,"html:th":1},e:256,r:t},A={b:Qa,n:!1},ab={b:Qa,n:!0},
bb={c:ca,f:0,b:u,g:10,d:{e:66},i:1E3},cb={c:p,f:0,b:u,g:10,d:da,i:1E3},db={c:p,f:0,b:u,g:10,d:{e:2},i:1E3},eb={c:ma,f:0,b:u,g:10,d:{e:512},i:1E3},fb={c:p,j:{"char":qa},f:0,b:u,g:10,d:ga,i:1E3},gb=[Ba,Da],hb={align:{b:[function(a){return a.toLowerCase()},function(a){return w(a,/^(?:center|justify|left|right)$/)}],n:!1}},ib={c:p,f:2,b:u,g:10,d:{e:260,r:t},i:1E3},jb={c:ra,f:6,b:u,g:10,d:{e:3456,r:t},i:1E3},kb={c:[65376,65297],f:1,b:u,g:10,d:Aa,i:1E3},lb={c:na,f:1,b:u,g:10,d:Aa,i:1E3},mb={c:ma,f:3,b:u,
g:10,d:{y:{LI:1,"html:li":1},e:264,r:t},i:1E3},nb={c:p,f:11,b:u,g:10,d:{y:{"html:rp":1,"html:rt":1},e:256,r:t},i:1E3};function ob(a){a:{for(var b in Fa(a))if("url"!==b){a=!0;break a}a=!1}return a}
var pb={c:[65440,65296],f:8,b:u,g:10,d:{y:{TD:1,TH:1,TR:1,"html:td":1,"html:th":1,"html:tr":1},e:3456,r:t},i:1E3},qb={c:ra,f:6,b:u,g:10,d:{y:{TBODY:1,TD:1,TH:1,THEAD:1,TR:1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1},e:3456,r:t},i:1E3},rb=[Ba,Da,ob],sb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><div$ibandcamp"$k$g400px"><div$k$e100%">$h$k$d><$n$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$p><$o$l@album_id">album=$b@album_id"/><$r$l@track_num">/t=$b@track_num"/></$r></$o><$m>track=$b@track_id"/></$m></$p></$n></iframe></div></div>$c$aC"><code>$f</code>$c$aCODE"><pre><code><$r$l@lang"><$n$qclass">language-$b@lang"/></$n></$r>$f</code></pre>$c$aDAILYMOTION"><div$idailymotion"$k$g640px"><div$k$e56.25%">$h$s//www.dailymotion.com/embed/video/{@id}"$k$d/></div></div>$c$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$c$aEMAIL"><a href="mailto:{@email}">$f</a>$c$aESC">$f$c$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$shttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$c$aFP|HE">$b@char"/>$c$aHC"><xsl:comment>$b@content"/></xsl:comment>$c$aHR"><hr/>$c$aIMG"><img$s{@src}">$jalt|@title"/></img>$c$aLIST"><$p><$o$lnot(@type)"><ul>$f</ul></$o><$m><ol>$jstart"/>$f</ol></$m></$p>$c$aLIVELEAK"><div$iliveleak"$k$g640px"><div$k$e56.25%">$h$s//www.liveleak.com/ll_embed?i={@id}"$k$d/></div></div>$c$aQUOTE"><blockquote>$f</blockquote>$c$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$n$qsrc">https://w.soundcloud.com/player/?url=<$p><$o$l$t">https%3A//api.soundcloud.com/playlists/$b$t"/></$o><$o$l@track_id">https%3A//api.soundcloud.com/tracks/$b@track_id"/>&amp;secret_token=$b@secret_token"/></$o><$m><$r$lnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$b@id"/></$m></$p></$n><$n$qstyle">border:0;height:<$p><$o$l$t or contains(@id,\'/sets/\')">450</$o><$m>166</$m></$p>px;max-width:900px;width:100%</$n></iframe>$c$aSPOTIFY"><div$ispotify"$k$g400px"><div$k$e120%">$h$k$d><$n$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$p><$o$l@uri">$b@uri"/></$o><$m>spotify:$btranslate(@path,\'/\',\':\')"/></$m></$p></$n></iframe></div></div>$c$aTD"><td><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</td>$c$aTH"><th><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</th>$c$aTWITCH"><div$itwitch"$k$g640px"><div$k$e56.25%">$h$k$d><$n$qsrc"><$p><$o$l@clip_id">//clips.twitch.tv/embed?autoplay=false&amp;clip=$b@channel"/>/$b@clip_id"/></$o><$m>//player.twitch.tv/?autoplay=false&amp;<$p><$o$l@archive_id">video=a$b@archive_id"/></$o><$o$l@chapter_id">video=c$b@chapter_id"/></$o><$o$l@video_id">video=v$b@video_id"/></$o><$m>channel=$b@channel"/></$m></$p><$r$l@t">&amp;time=$b@t"/></$r></$m></$p></$n></iframe></div></div>$c$aURL"><a href="{@url}">$jtitle"/>$f</a>$c$aVIMEO"><div$ivimeo"$k$g640px"><div$k$e56.25%">$h$s//player.vimeo.com/video/{@id}"$k$d/></div></div>$c$aVINE"><div$ivine"$k$g480px"><div$k$e100%">$h$shttps://vine.co/v/{@id}/embed/simple?audio=1"$k$d/></div></div>$c$aYOUTUBE"><div$iyoutube"$k$g640px"><div$k$e56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$d><$n$qsrc">https://www.youtube.com/embed/$b@id"/><$r$l@list">?list=$b@list"/></$r><$r$l@t or@m"><$p><$o$l@list">&amp;</$o><$m>?</$m></$p>start=<$p><$o$l@t">$b@t"/></$o><$o$l@h">$b@h*3600+@m*60+@s"/></$o><$m>$b@m*60+@s"/></$m></$p></$r></$n></iframe></div></div>$c$abr"><br/>$c$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$c$ahtml:div"><div>$jclass"/>$f</div>$c$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$c$ahtml:span"><span>$jclass"/>$f</span>$c$ahtml:td"><td>$jcolspan|@rowspan"/>$f</td>$c$ahtml:th"><th>$jcolspan|@rowspan|@scope"/>$f</th>$c</xsl:stylesheet>'.replace(/\$[a-t]/g,function(a){return{$a:'<xsl:template match="',
$b:'<xsl:value-of select="',$c:"</xsl:template>",$d:'border:0;height:100%;left:0;position:absolute;width:100%"',$e:"overflow:hidden;position:relative;padding-bottom:",$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:' test="',$m:"xsl:otherwise",$n:"xsl:attribute",$o:"xsl:when",$p:"xsl:choose",$q:' name="',$r:"xsl:if",$s:' src="',$t:"@playlist_id"}[a]});
function tb(a){var b=document.createElement("b");tb=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return tb(a)}function ub(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function vb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function wb(){return!0}
function xb(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function w(a,b){return b.test(a)?a:!1}
function Na(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,f){c[a]=""<b[f+1]?b[f+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Pa(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=xb(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+xb(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment,c=c.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},c),b=b+c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,
"$1%3A",b));return b}
function Oa(a,b){if(""!==b.scheme&&!a.T.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,f=c.split(".");0<=--d;){if("0"===f[d].charAt(0)||255<f[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.V&&a.V.test(b.host)||a.Z&&!a.Z.test(b.host))return"URL host is not allowed"}}function yb(){}yb.prototype={o:function(){}};function zb(a,b,c,d,f){this.q=+a;this.l=b;this.k=+c;this.p=+d;"undefined"!==typeof f&&(this.E=+f);this.j={};this.L=[];isNaN(a+c+d)&&C(this)}zb.prototype.D=!1;function Ab(a,b){a.L.push(b);a.D&&C(b)}function C(a){a.D||(a.D=!0,a.L.forEach(function(a){C(a)}))}
function E(a,b){a.l===b.l&&(1===a.q&&2===b.q&&b.k>=a.k?(a.A=b,b.H=a,Ab(a,b)):2===a.q&&1===b.q&&b.k<=a.k&&(a.H=b,b.A=a))}function Fa(a){var b={},c;for(c in a.j)b[c]=a.j[c];return b}function Bb(a,b){return a.D||a.l!==b.l||1!==b.q||2!==a.q||a.k<b.k||a.H&&a.H!==b||b.A&&b.A!==a?!1:!0}zb.prototype.o=function(a,b){this.j[a]=b};function Ga(a,b){a.j={};for(var c in b)a.j[c]=b[c]}
var Cb,Db,H,Eb,I,Fb,Ea=new yb,Gb,J,N,Hb={Autoemail:{w:function(a,b){b.forEach(function(a){var b=O(1,"EMAIL",a[0][1],0,0);b.o("email",a[0][0]);a=P("EMAIL",a[0][1]+a[0][0].length,0);E(b,a)})},x:"@",z:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,B:1E4},Autolink:{w:function(a,b){b.forEach(function(a){var b=a[0][1];for(a=a[0][0];;)if(a=a.replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,""),")"===a.substr(-1)&&a.replace(/[^(]+/g,"").length<a.replace(/[^)]+/g,"").length)a=a.substr(0,a.length-1);else break;if(/^www\.|^[^:]+:/i.test(a)){var c=
P("URL",b+a.length,0);"."===a.charAt(3)&&(a="http://"+a);b=O(1,"URL",b,0,1);b.o("url",a);E(b,c)}})},x:"://",z:/\b(?:ftp|https?):\/\/\S(?:[^\s\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\[\w*\])+/ig,B:1E4},Escaper:{w:function(a,b){b.forEach(function(a){Q("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},x:"\\",z:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,B:1E4},FancyPants:{w:function(a){function b(a,b,c,d){a=O(3,"FP",a,b,d||0||0);a.o("char",c);return a}function c(c,d,f,h){for(var e;e=d.exec(a);){var g=
b(+e.index+e[0].indexOf(c),1,f);e=b(+e.index+e[0].length-1,1,h);Ab(g,e)}}var d=0<=a.indexOf("'"),f=0<=a.indexOf('"');(function(){if(d)for(var c,e=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=e.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)})();(function(){if(d||f||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032","'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},e,k=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;e=k.exec(a);){"x"===e[0].charAt(e[0].length-1)&&b(+e.index+e[0].length-
1,1,"\u00d7");var h=e[0].substr(1,2);c[h]&&b(+e.index+1,1,c[h])}})();d&&c("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019");f&&c('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d");(function(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,f;f=d.exec(a);)b(+f.index,f[0].length,c[f[0]])})();(function(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,f;f=d.exec(a);)b(+f.index,f[0].length,
c[f[0].toLowerCase()])})();(function(){if(!(0>a.indexOf("!=")))for(var c,d=/\b !=(?= \b)/g;c=d.exec(a);)b(+c.index+1,2,"\u2260")})();(function(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var f=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,2,"\u00bb");Ab(f,c)}})()}},HTMLComments:{w:function(a,b){b.forEach(function(a){var b=tb(a[0][0].substr(4,a[0][0].length-7)),b=b.replace(/[<>]/g,""),b=b.replace(/--/g,"");O(3,"HC",a[0][1],a[0][0].length,0).o("content",
b)})},x:"\x3c!--",z:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,B:1E4},HTMLElements:{w:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a.charAt(b[0][1]+1),g=b[0][1],e=b[0][0].length,k=b[2-d][0].toLowerCase(),h=c&&c[k]&&c[k][""]?c[k][""]:"html:"+k;if(d)P(h,g,e);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?Q(h,g,e,g+e,0):O(1,h,g,e,0);b=b[3][0];for(var g=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi,
n;h=g.exec(b);)n=h[0].indexOf("="),0>n&&(n=h[0].length,h[0]+="="+h[0].toLowerCase()),e=h[0].substr(0,n).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),h=h[0].substr(1+n).replace(/^\s+/,"").replace("/s+$/",""),c&&c[k]&&c[k][e]&&(e=c[k][e]),/^["']/.test(h)&&(h=h.substr(1,h.length-2)),d.o(e,tb(h))}})},x:"<",z:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
B:1E4},HTMLEntities:{w:function(a,b){b.forEach(function(a){var b=a[0][0],c=tb(b);c===b||32>c.charCodeAt(0)||O(3,"HE",a[0][1],b.length,0).o("char",c)})},x:"&",z:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,B:1E4},Litedown:{w:function(a){function b(a,b,c,d,e){var q=Q("IMG",a,2,b,c);K(q,d,"src");q.o("alt",g(e));y(a,b+c-a)}function c(a,b,c,d){var e=Q("URL",a,1,b,c,1===c?1:-1);K(e,d,"url");y(a,1);y(b,c)}function d(a,b){E(P("LIST",b,0),a.W);E(P("LI",b,0),a.J);a.R&&a.K.forEach(function(a){a.e&=-9})}function f(a,
b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function g(a){xa.U&&-1<a.indexOf("&")&&(a=tb(a));a=a.replace(/\x1A/g,"");ya&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`","\u001bC":"~"}[a]}));return a}function e(a){return a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2",
"\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6","\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]})}function k(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function h(){var b={};if(-1===a.indexOf("-")&&-1===a.indexOf("="))return b;for(var c,d=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;c=d.exec(a);){var e=c[0];c=c.index;for(var f=c-1;0<f&&" "===a[f-1];)--f;b[c-1]={N:c+e.length-f,O:f,Y:e.length-e.replace(/>/g,"").length,
$:"="===e.charAt(0)?"H1":"H2"}}return b}function n(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function Z(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function r(b,c){var d=a.indexOf(b);if(-1!==d){var e=[],f=[],q=q=a.indexOf("\u0017",d),g;for(c.lastIndex=d;g=c.exec(a);)d=g.index,g=g[0].length,d>q&&(f.push(e),e=[],q=a.indexOf("\u0017",d)),"_"===a[d]&&1===g&&0<d&&n(a[d-1])&&n(a[d+g])||e.push([d,g]);f.push(e);f.forEach(D)}}function z(){for(var b,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=
d.exec(a);){var e=b[1],f=b.index,g=3+e.length;c(f,f+b[0].length-g,g,e)}}function v(){for(var b={},d,e=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=e.exec(a);)b[d.index]=d[1].toLowerCase();for(var f in b){d=b[f];var e=+f+2+d.length,g=e-1,k=1;" "===a.charAt(e)&&++e;""<b[e]&&F[b[e]]&&(d=b[e],k=e+2+d.length-g);F[d]&&c(+f,g,k,F[d])}}function y(b,c){a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c)}function D(a){var b=0,c=-1,d=-1,e;a.forEach(function(a){var f=a[0];a=a[1];var g=Math.min(3,a),q=g&b&1,
g=g&b&2,k=f,h=f;2<b&&c===d&&(q?c+=2:++d);q&&g&&(c<d?k+=2:++h);e=a;q&&(--b,--e,Q("EM",c,1,k,1));g&&(b-=2,e-=2,Q("STRONG",d,2,h,2));e=Math.min(3,e);e&1&&(c=f+a-e);e&2&&(d=f+a-e);b+=e})}function K(a,b,c){b=b.replace(/^\s*/,"").replace(/\s*$/,"");var d="",e=b.indexOf(" ");-1!==e&&(d=b.substr(e).replace(/^\s*\S/,"").replace(/\S\s*$/,""),b=b.substr(0,e));a.o(c,g(b));""<d&&a.o("title",g(d))}var xa={U:!0},ya,ia,F,Ua,Va,Pb,Wa;0>a.indexOf("\\")?ya=!1:(ya=!0,a=e(a));a+="\n\n\u0017";(function(){for(var b,c=4,
e,g=!0,n=[],r=0,z=!1,K=[],v=0,D=h(),V=0,F,ba,xa,M,ia,ya,G,B,Xa,Ja,W,X,ja,Qb=[],Ya,Ka=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Ya=Ka.exec(a);)Qb.push(Ya),Ya.index===Ka.lastIndex&&++Ka.lastIndex;Qb.forEach(function(h){var q=h.index,wa=h[0].length;W=M=0;ba=!g;G=a.indexOf("\n",q);g=G===q+wa&&!h[3]&&!h[4]&&!h[5];wa||++Ka.lastIndex;F=g&&ba;h[1]&&(W=h[1].length-h[1].replace(/>/g,
"").length,M=h[1].length,e&&"quoteDepth"in e.j&&(W=Math.min(W,e.j.quoteDepth),M=f(h[1],W)),y(q,M));if(W<v&&!ba){z=!0;do E(P("QUOTE",V,0),K.pop());while(W<--v)}if(W>v&&!g){z=!0;do{var ha=O(1,"QUOTE",q,0,v-999||0);K.push(ha)}while(W>++v)}var L=0,aa=0;if(h[2]&&!b){ia=h[2];ya=ia.length;do" "===ia.charAt(aa)?++L:L=L+4&-4;while(++aa<ya&&L<c)}e&&!b&&L<c&&!g&&(z=!0);z&&(z=!1,e&&(y(e.k,V-e.k),xa=P("CODE",V,0,-1),E(xa,e),b=e=null),n.forEach(function(a){d(a,V)}),n=[],r=0,q&&Z(q-1));if(L>=c){if(e||!ba)M=(h[1]||
"").length+aa,e||(e=O(1,"CODE",q+M,0,-999)),h={}}else{ha=!!h[4];if(L||ba||ha)if(ba&&!ha)B=r-1;else if(r)for(B=0;B<r&&L>n[B].P;)++B;else B=!ha||ba&&"\u0017"!==a.charAt(q-1)?-1:0;else B=-1;for(;B<r-1;)d(n.pop(),V),--r;B!==r||ha||--B;if(ha&&0<=B)if(F=!0,X=q+M+aa,ja=h[4].length,aa=O(1,"LI",X,ja,0),y(X,ja),B<r)E(P("LI",V,0),n[B].J),n[B].J=aa,n[B].K.push(aa);else{++r;B?(Ja=n[B-1].P+1,Xa=Math.max(Ja,4*B)):(Ja=0,Xa=L);L=O(1,"LIST",X,0,0);if(-1<h[4].indexOf(".")){L.o("type","decimal");var Ob=+h[4];1!==Ob&&
L.o("start",Ob)}n.push({W:L,J:aa,K:[aa],ba:Ja,P:Xa,R:!0})}!r||ba||g||(1<n[0].K.length||!ha)&&n.forEach(function(a){a.R=!1});c=4*(r+1)}if(h[5])if("#"===h[5].charAt(0))Ua=h[5].length,Va=q+wa-Ua,Wa=k(q+wa,G),Pb=G-Wa,Q("H"+/#{1,6}/.exec(h[5])[0].length,Va,Ua,Pb,Wa),Z(Va),Z(G),ba&&(F=!0);else{if("`"===h[5].charAt(0)||"~"===h[5].charAt(0))X=q+M,ja=G-X,e&&h[5]===b?(xa=P("CODE",X,ja,-1),E(xa,e),R(V,X-V),y(e.k,X+ja-e.k),b=e=null):e||(e=O(1,"CODE",X,ja,0),b=h[5].replace(/[^`~]+/,""),e.o("quoteDepth",W),R(X+
ja,1),h=h[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==h&&e.o("lang",h))}else h[3]&&!r&&"\u0017"!==a.charAt(q+wa)?(O(3,"HR",q+M,wa-M,0),F=!0,Z(G)):!D[G]||D[G].Y!==W||g||r||e||(Q(D[G].$,q+M,0,D[G].O,D[G].N),Z(D[G].O+D[G].N));F&&(O(3,"pb",V,0,0),Z(V));g||(V=G);M&&R(q,M,1E3)})})();(function(){ia=!1;F={};if(-1!==a.indexOf("]:"))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=c.exec(a);){R(b.index,b[0].length,-2);var e=b[1].toLowerCase();
F[e]||(ia=!0,F[e]=b[2])}})();(function(){var b;var c=a.indexOf("`");if(0>c)b=[];else{b=/(`+)(\s*)[^\x17`]*/g;var e=0,d=[],f=a.replace(/\x1BB/g,"\\`");for(b.lastIndex=c;c=b.exec(f);)d.push({k:c.index,p:c[1].length,S:e,aa:c[2].length,Q:c.index+c[0].length}),e=c[0].length-c[0].replace(/\s+$/,"").length;b=d}f=-1;for(e=b.length;++f<e-1;)for(c=b[f].Q,d=f,"`"!==a.charAt(b[f].k)&&(++b[f].k,--b[f].p);++d<e&&b[d].k===c;){if(b[d].p===b[f].p){var f=b[f],g=b[d],c=f.k,h=g.k-g.S,g=g.p+g.S;Q("C",c,f.p+f.aa,h,g);
y(c,h+g-c);f=d;break}c=b[d].Q}})();(function(){var c=a.indexOf("![");if(-1!==c){if(0<a.indexOf("](",c))for(var e=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=e.exec(a);){var d=c[1],f=c.index,g=3+d.length;b(f,f+c[0].length-g,g,d,c[0].substr(2,c[0].length-g-2))}if(ia)for(e=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;c=e.exec(a);){var d=+c.index,f=d+2+c[1].length,g=1,h=c[1],k=h;if(""<c[2]&&
F[c[2]])g=c[0].length-h.length-2,k=c[2];else if(!F[k])continue;b(d,f,g,F[k],h)}}})();-1!==a.indexOf("](")&&z();ia&&v();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~/g;b=c.exec(a);){var e=b.index;Q("DEL",e,2,e+b[0].length-2,2)}})();(function(){if(-1!==a.indexOf("^"))for(var b,c=/\^[^\x17\s]+/g;b=c.exec(a);){var e=b[0],d=b=b.index,f=b+e.length,e=e.split("^");e.shift();e.forEach(function(a){Q("SUP",d,1,f,0);d+=1+a.length})}})();r("*",/\*+/g);r("_",/_+/g);(function(){for(var b=a.indexOf("  \n");-1!==
b;)O(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{w:function(a,b){b.forEach(function(a){var b=a[0][0];O(3,"MEDIA",a[0][1],b.length,-10).o("url",b)})},x:":",z:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,B:1E4},PipeTables:{w:function(a){function b(a,b){g=b.k;b.G.split("|").forEach(function(b,c){0<c&&(Ab(k,R(g,1,1E3)),++g);var d=e.M[c]?e.M[c]:"",f=g,h=f+b.length,n;g=h;var r=/^( *).*?( *)$/.exec(b);r[1]&&(n=r[1].length,Ab(k,R(f,n,1E3)),f+=n);r[2]&&(n=r[2].length,Ab(k,R(h-n,n,1E3)),h-=n);f=Q(a,
f,0,h,0,-1);d&&f.o("align",d)});Q("TR",b.k,0,g,0,-2)}function c(){if(e&&2<e.u.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(e.u[1].G)){for(var a=e,b=e.u[1].G,c=["","right","left","center"],d=[],f=/(:?)-+(:?)/g,g;g=f.exec(b);)d.push(c[(g[1]?2:0)+(g[2]?1:0)]);a.M=d;h.push(e)}e=null}function d(a){return a.replace(/>/g," ")}function f(a){return a.replace(/\|/g,".")}var g,e=null,k,h;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,f));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&
(a=a.replace(/\\[\\|]/g,".."));(function(){e=null;h=[];g=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;e||(e={u:[]},d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");e.u.push({G:b,k:g+d})}g+=1+a.length});c()})();(function(){for(var a=-1,c=h.length;++a<c;){e=h[a];var d=e.u[e.u.length-1];k=Q("TABLE",e.u[0].k,0,d.k+d.G.length,0,-4);b("TH",e.u[0]);Q("THEAD",e.u[0].k,0,g,0,-3);d=e.u[1];Ab(k,R(d.k-1,1+d.G.length,1E3));for(var d=
1,f=e.u.length;++d<f;)b("TD",e.u[d]);Q("TBODY",e.u[2].k,0,g,0,-3)}})()},x:"|"}},S,Ma={mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion","facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{T:/^(?:ftp|https?)$/i}},Ib={c:ma,e:8},T={BANDCAMP:{c:oa,j:{album_id:x,
track_id:x,track_num:x,url:A},f:13,b:[wb,Da,ob],g:10,d:ka,i:1E3},C:bb,CODE:{c:ca,j:{lang:La},f:1,b:u,g:10,d:{e:4436,r:t},i:1E3},DAILYMOTION:{c:oa,v:[["url",/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,l],["url",/^([A-Za-z0-9]+)$/,l]],j:{id:{b:[function(a){return w(a,/^[A-Za-z0-9]+$/)}],n:!0},url:A},f:13,b:gb,g:10,d:ka,i:1E3},DEL:eb,EM:db,EMAIL:{c:la,j:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],n:!0}},f:4,b:u,g:10,d:ea,i:1E3},
ESC:{c:ca,f:5,b:u,g:10,d:{e:1616},i:1E3},FACEBOOK:{c:[65329,65408],v:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,l],["url",/\/(video)s?\//,["","type"]],ua],j:{id:Sa,type:{b:[function(a){return w(a,/^video$/)}],n:!1},url:A},f:14,b:gb,g:10,d:ga,i:1E3},FP:fb,H1:ib,H2:ib,H3:ib,H4:ib,H5:ib,H6:ib,HC:{c:ca,j:{content:qa},f:5,b:u,g:10,d:{e:3153},i:1E3},HE:fb,HR:{c:p,f:1,b:u,g:10,d:{e:3349},i:1E3},IMG:{c:p,
j:{alt:m,src:ab,title:m},f:0,b:u,g:10,d:ga,i:1E3},LI:mb,LIST:{c:na,j:{start:{b:[function(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}],n:!1},type:La},f:1,b:u,g:10,d:Aa,i:1E3},LIVELEAK:{c:oa,v:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,l],["url",/^([a-f_0-9]+)$/,l]],j:{id:{b:[function(a){return w(a,/^[a-f_0-9]+$/)}],n:!0},url:A},f:13,b:gb,g:10,d:ka,i:1E3},MEDIA:{c:[65335,65504],f:12,b:[function(a){return function(a,c){function b(a,b){var c=a.A||a;Ga(Q(b.toUpperCase(),a.k,0,c.k+c.p,0,a.E),Fa(a))}return function(a,
c){if("site"in a.j){var d=a.j.site.toLowerCase(),f;a:{for(f in c)if(c[f]===d){f=!0;break a}f=!1}f&&b(a,d)}else if("url"in a.j){f=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.j.url);if(f[1]&&c[f[1]+":"])d=c[f[1]+":"];else if(f[2])a:{d=f[2];do{if(c[d]){d=c[d];break a}f=d.indexOf(".");if(0>f)break;d=d.substr(1+f)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Ma.mediasites)}],g:10,d:{e:513},i:1E3},QUOTE:{c:ma,f:1,b:u,g:10,d:va,i:1E3},SOUNDCLOUD:{c:[65329,65344],v:[["url",/(https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/,
l],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/,l]],j:{id:{b:[function(a){return w(a,/^(?:https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/)}],
n:!0},playlist_id:x,secret_token:Za,track_id:x,url:A},f:15,b:[Ba,wb,Da],g:10,d:ga,i:1E3},SPOTIFY:{c:oa,v:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,["","path"]]],j:{path:{b:[function(a){return w(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],n:!1},uri:{b:[function(a){return w(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],n:!1},url:A},f:13,b:rb,g:10,d:ka,i:1E3},STRONG:db,
SUP:cb,TABLE:kb,TBODY:qb,TD:{c:ma,j:hb,f:7,b:u,g:10,d:$a,i:1E3},TH:{c:pa,j:hb,f:7,b:u,g:10,d:$a,i:1E3},THEAD:jb,TR:pb,TWITCH:{c:oa,v:[["url",/twitch\.tv\/(\w+)(?:\/b\/(\d+)|\/c\/(\d+)|\/v\/(\d+))?/,["","channel","archive_id","chapter_id","video_id"]],["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,["","t"]],["url",/clips\.twitch\.tv\/(\w+)\/(\w+)/,["","channel","clip_id"]]],j:{archive_id:x,channel:Ta,chapter_id:x,clip_id:Ta,t:{b:[function(a){return w(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],n:!1},url:A,video_id:x},f:13,
b:rb,g:10,d:ka,i:1E3},URL:{c:la,j:{title:m,url:ab},f:4,b:u,g:10,d:ea,i:1E3},VIMEO:{c:oa,v:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,l],ua],j:{id:Sa,url:A},f:13,b:gb,g:10,d:ka,i:1E3},VINE:{c:oa,v:[["url",/vine\.co\/v\/([^\/]+)/,l],["url",/^([^\/]+)$/,l]],j:{id:{b:[function(a){return w(a,/^[^\/]+$/)}],n:!0},url:A},f:13,b:gb,g:10,d:ka,i:1E3},YOUTUBE:{c:oa,v:[["url",/youtube\.com\/(?:watch.*?v=|v\/)([-\w]+)/,l],["url",/youtu\.be\/([-\w]+)/,l],["url",/[#&?]t=(?:(?:(\d+)h)?(\d+)m(\d+)|(\d+))/,
["","h","m","s","t"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,l]],j:{h:x,id:{b:Ia,n:!0},list:Za,m:x,s:x,t:x,url:A},f:13,b:gb,g:10,d:ka,i:1E3},"html:abbr":{c:p,j:{title:m},f:0,b:u,g:10,d:da,i:1E3},"html:b":db,"html:br":{c:sa,f:0,b:u,g:10,d:fa,i:1E3},"html:code":bb,"html:dd":{c:ma,f:9,b:u,g:10,d:Ra,i:1E3},"html:del":eb,"html:div":{c:ma,j:ta,f:1,b:u,g:10,d:va,i:1E3},"html:dl":{c:[65312,65298],f:1,b:u,g:10,d:Aa,i:1E3},"html:dt":{c:pa,f:9,b:u,g:10,d:Ra,i:1E3},"html:i":db,"html:img":{c:sa,
j:{alt:m,height:m,src:A,title:m,width:m},f:0,b:u,g:10,d:fa,i:1E3},"html:ins":eb,"html:li":mb,"html:ol":lb,"html:pre":{c:p,f:1,b:u,g:10,d:{e:276,r:t},i:1E3},"html:rb":{c:p,f:10,b:u,g:10,d:za,i:1E3},"html:rp":nb,"html:rt":nb,"html:rtc":{c:[65329,65496],f:10,b:u,g:10,d:za,i:1E3},"html:ruby":{c:[65329,65500],f:0,b:u,g:10,d:da,i:1E3},"html:span":{c:p,j:ta,f:0,b:u,g:10,d:da,i:1E3},"html:strong":db,"html:sub":cb,"html:sup":cb,"html:table":kb,"html:tbody":qb,"html:td":{c:ma,j:{colspan:m,rowspan:m},f:7,b:u,
g:10,d:$a,i:1E3},"html:tfoot":{c:ra,f:6,b:u,g:10,d:{y:{TBODY:1,TD:1,TH:1,THEAD:1,TR:1,"html:tbody":1,"html:td":1,"html:th":1,"html:thead":1,"html:tr":1},e:3456,r:t},i:1E3},"html:th":{c:pa,j:{colspan:m,rowspan:m,scope:m},f:7,b:u,g:10,d:$a,i:1E3},"html:thead":jb,"html:tr":pb,"html:u":db,"html:ul":lb},U,Jb,Y,Kb,Lb=0,Mb;
function Nb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Cb={};Db={};Eb=0;I=null;Fb=!1;Gb={};J=[];N="";S=0;U=[];Jb=!1;Y=a;Kb=Y.length;Mb=0;H=Ib;H.F=!1;++Lb;a=Lb;for(var b in Hb)if(!Hb[b].I)a:{var c=b,d=Hb[c];if(!(d.x&&0>Y.indexOf(d.x))){var f=[];if(d.z){f=d.z;d=d.B;f.lastIndex=0;for(var g=[],e=0,k=void 0;++e<=d&&(k=f.exec(Y));){for(var h=+k.index,n=[[k[0],h]],Z=0;++Z<k.length;){var r=k[Z];void 0===r?n.push(["",-1]):(n.push([r,Y.indexOf(r,h)]),h+=r.length)}g.push(n)}f=
g;if(!f.length)break a}(0,Hb[c].w)(Y,f)}}Rb();Sb(Kb,0,!0);do b=N,N=N.replace(/<([^ />]+)><\/\1>/g,"");while(N!==b);N=N.replace(/<\/i><i>/g,"",N);N=N.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tb);c=Fb?"r":"t";b="<"+c;for(var z in Gb)b+=" xmlns:"+z+'="urn:s9e:TextFormatter:'+z+'"';N=b+">"+N+"</"+c+">";if(Lb!==a)throw"The parser has been reset during execution";return N}
function Ca(a,b){b.v&&b.v.forEach(function(b){var c=b[0];if(c in a.j){b=Ub(a.j[c],b[1],b[2]);for(var f in b)f!==c&&f in a.j||a.o(f,b[f])}});return!0}function Ub(a,b,c){var d=b.exec(a);if(!d)return[];var f={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(f[a]=d[b])});return f}function Tb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Vb(a){Fb=!0;var b=a.l,c=a.k,d=a.p,f=a.e,g=0,e=0;f&256&&(g=1,e=a.q&2?2:1);var k=!1;a.q&1?f&4&&(k=!0):k=!0;Sb(c,g,k);g=d?vb(Y.substr(c,d)):"";if(a.q&1){f&4||Wb(c);f=b.indexOf(":");0<f&&(Gb[b.substr(0,f)]=0);N+="<"+b;var h=Fa(a),f=[],n;for(n in h)f.push(n);f.sort(function(a,b){return a>b?1:-1});f.forEach(function(a){N+=" "+a+'="'+ub(h[a].toString()).replace(/\n/g,"&#10;")+'"'});N=3===a.q?d?N+(">"+g+"</"+b+">"):N+"/>":d?N+("><s>"+g+"</s>"):N+">"}else d&&(N+="<e>"+g+"</e>"),N+="</"+b+">";for(Mb=
S=c+d;e&&Mb<Kb&&"\n"===Y.charAt(Mb);)--e,++Mb}
function Sb(a,b,c){c&&(H.e&8?b=-1:c=!1);S>=a&&c&&Xb();if(Mb>S){var d=Math.min(a,Mb);N+=Y.substr(S,d-S);S=d;S>=a&&c&&Xb()}if(H.e&128)d=a-S,b=Y.substr(S,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),N+=b,S=a,c&&Xb();else{for(var f=a,d=0;b&&--f>=S;){var g=Y.charAt(f);if(" "!==g&&"\n"!==g&&"\t"!==g)break;"\n"===g&&--b;++d}a-=d;if(H.e&8)for(H.F||(Yb(a),a>S&&Wb(a)),b=Y.indexOf("\n\n",S);-1<b&&b<a;)Sb(b,0,!0),Wb(a),b=Y.indexOf("\n\n",S);a>S&&(b=vb(Y.substr(S,a-S)),N+=b);c&&Xb();d&&(N+=Y.substr(a,d));S=a+d}}
function Zb(a){var b=a.k;a=a.p;var c=Y.substr(b,a);Sb(b,0,!1);N+="<i>"+vb(c)+"</i>";Fb=!0;S=b+a}function Wb(a){!H.F&&H.e&8&&(Yb(a),S<Kb&&(N+="<p>",H.F=!0))}function Xb(){H.F&&(N+="</p>",H.F=!1)}function Yb(a){for(;S<a&&-1<" \n\t".indexOf(Y.charAt(S));)N+=Y.charAt(S),++S}function $b(a,b){var c=a.l;a.e&256&&(b=ac(b));c=P(c,b,0);E(c,a)}function ac(a){for(;a>S&&-1<" \n\t".indexOf(Y.charAt(a-1));)--a;return a}
function Rb(){if(U.length){for(var a in T)Cb[a]=0,Db[a]=0;do{for(;U.length;)Jb||(U.sort(bc),Jb=!0),I=U.pop(),cc();J.forEach(function(a){$b(a,Kb)})}while(U.length)}}
function cc(){H.e&64&&!Bb(I,J[J.length-1])&&!(-1<"br i pb v".indexOf(I.l))&&C(I);var a=I.k,b=I.p;if(S>a&&!I.D){var c;if((c=I.H)&&0<=J.indexOf(c)){E(P(c.l,S,Math.max(0,a+b-S)),c);return}if("i"===I.l&&(a=a+b-S,0<a)){R(S,a);return}C(I)}if(!I.D)if("i"===I.l)Zb(I);else if("br"===I.l)H.e&1024||(Sb(I.k,0,!1),N+="<br/>");else if("pb"===I.l)Sb(I.k,0,!0);else if("v"===I.l)a=H.e,H.e=I.e,Sb(I.k+I.p,0,!1),H.e=a;else if(I.q&1)if(a=I,b=a.l,c=T[b],Db[b]>=c.i)C(a);else{var d=a,f=T[d.l],g=!0;if(f.b)for(var e=0;e<f.b.length;++e)if(!f.b[e](d,
f)){g=!1;break}if(g){a:{d=a;if(J.length&&(g=d.l,e=T[g],e.d.r)){var f=J[J.length-1],k=f.l;if(e.d.r[k]){k!==g&&1E3>Eb&&(g=dc(f,d.k+d.p),Ab(d,g));U.push(d);$b(f,d.k);Eb+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(J.length&&(f=T[d.l],f.d.y&&(g=J[J.length-1],f.d.y[g.l]))){U.push(d);$b(g,d.k);d=!0;break a}d=!1}d||(Cb[b]>=c.g?C(a):(c=T[b].f,H.c[c>>3]&1<<(c&7)?(!(a.e&1)||a.A||U.length&&Bb(U[U.length-1],a)||(b=new zb(3,b,a.k,a.p),Ga(b,Fa(a)),b.e=a.e,a=b),a.e&4096&&!a.A&&"\n"===Y.charAt(a.k+a.p)&&R(a.k+a.p,1),Vb(a),
ec(a)):C(a)))}else C(a)}else fc()}
function fc(){var a=I;if(Cb[a.l]){for(var b=[],c=J.length;0<=--c;){var d=J[c];if(Bb(a,d))break;b.push(d);++Eb}if(!(0>c)){var f=1E3>Eb,g=[];b.forEach(function(b){var c=b.l;f&&(b.e&2?g.push(b):f=!1);var d=a.k;b.e&256&&(d=ac(d));c=new zb(2,c,d,0);c.e=b.e;Vb(c);gc()});Vb(a);gc();if(b.length&&1E3>Eb){d=S;for(c=U.length;0<=--c&&1E3>++Eb;){var e=U[c];if(e.k>d||e.q&1)break;for(var k=b.length;0<=--k&&1E3>++Eb;)if(Bb(e,b[k])){b.splice(k,1);g[k]&&g.splice(k,1);d=Math.max(d,e.k+e.p);break}}d>S&&Zb(new zb(3,"i",
S,d-S))}g.forEach(function(a){var b=dc(a,S);(a=a.A)&&E(b,a)})}}}function gc(){var a=J.pop();--Cb[a.l];H=H.X}function ec(a){var b=a.l,c=a.e,d=T[b];++Db[b];if(3!==a.q){var f=[];c&512?H.c.forEach(function(a,b){f.push(d.c[b]&a)}):H.c.forEach(function(a,b){f.push(d.c[b]&(a&65280|a>>8))});c|=H.e&32;c&16&&(c&=-33);++Cb[b];J.push(a);H={c:f,e:c,X:H}}}function P(a,b,c,d){return O(2,a,b,c,d||0)}function R(a,b,c){return O(3,"i",a,Math.min(b,Kb-a),c||0)}
function dc(a,b){var c=O(a.q,a.l,b,0,a.E);Ga(c,Fa(a));return c}function O(a,b,c,d,f){a=new zb(a,b,c,d,f||0);T[b]&&(a.e=T[b].d.e);if(T[b]||-1<"br i pb v".indexOf(a.l))if(T[b]&&T[b].I)C(a);else if(0>d||0>c||c+d>Kb)C(a);else if(Jb){for(b=U.length;0<b&&0<bc(U[b-1],a);)U[b]=U[b-1],--b;U[b]=a}else U.push(a);else C(a);return a}function Q(a,b,c,d,f,g){d=P(a,d,f,-g||0);a=O(1,a,b,c,g||0||0);E(a,d);return a}
function bc(a,b){var c=a.k,d=b.k;if(c!==d)return d-c;if(a.E!==b.E)return b.E-a.E;c=a.p;d=b.p;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.q]-c[a.q])}var hc="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function ic(a,b){if(hc){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function jc(a,b){if(hc){var c=b.createElement("div"),d=b.createDocumentFragment();kc.input=ic(a,"MSXML2.DOMDocument.6.0");kc.transform();for(c.innerHTML=kc.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(kc.transformToFragment(ic(a),b),!0)}var kc,lc=ic(sb,"MSXML2.FreeThreadedDOMDocument.6.0");if(hc){var mc=new ActiveXObject("MSXML2.XSLTemplate.6.0");mc.stylesheet=lc;kc=mc.createProcessor()}else kc=new XSLTProcessor,kc.importStylesheet(lc);
window.s9e={TextFormatter:{disablePlugin:function(a){Hb[a]&&(Hb[a].I=!0)},enablePlugin:function(a){Hb[a]&&(Hb[a].I=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,g=c.length,k=e.length,z,v,y=0,D=0;y<g&&y<k;){z=c[y];v=e[y];if(!d(z,v))break;++y}for(var K=Math.min(g-y,k-y);D<K;){z=c[g-(D+1)];v=e[k-(D+1)];if(!d(z,v))break;++D}z=f.createDocumentFragment();for(K=y;K<k-D;)v=e[K].cloneNode(!0),z.appendChild(v),++K;for(K=g-D;--K>=y;)a.removeChild(c[K]);D?a.insertBefore(z,a.childNodes[y]):
a.appendChild(z)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,f=e.length,g=d.length;0<=--g;){var k=d[g],v=k.namespaceURI,k=k.name;b.hasAttributeNS(v,k)||a.removeAttributeNS(v,k)}for(g=f;0<=--g;)d=e[g],v=d.namespaceURI,k=d.name,d=d.value,d!==a.getAttributeNS(v,k)&&a.setAttributeNS(v,k,d);c(a,
b);return!0}var f=b.ownerDocument,g=jc(Nb(a),f);c(b,g)}}};})();

		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>