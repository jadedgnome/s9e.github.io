<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments
 - **HTMLElements** --- several HTML elements are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:<br/>
   http://youtu.be/QH2-TGUlwu4

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 33.9 KB (11.8 KB compressed)

***

[![Build Status](https://travis-ci.org/s9e/TextFormatter.png?branch=master)](https://travis-ci.org/s9e/TextFormatter)
[![Coverage Status](https://coveralls.io/repos/s9e/TextFormatter/badge.png)](https://coveralls.io/r/s9e/TextFormatter)
[![Scrutinizer Quality Score](https://scrutinizer-ci.com/g/s9e/TextFormatter/badges/quality-score.png?s=3942dab3c410fb9ce02001e7446d1083fa91172c)](https://scrutinizer-ci.com/g/s9e/TextFormatter/)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">function ba(a){var b=document.createElement("b");b.innerHTML=a.replace(/</g,"&lt;");return b.textContent}function ca(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function da(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function ia(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}
function ja(a){if(!/^\d+\.\d+\.\d+\.\d+$/.test(a))return!1;var b=4;for(a=a.split(".");0<=--b;)if("0"===a[b].charAt(0)||255<a[b])return!1;return!0}function ka(a){return/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(a)?a:!1}function h(a,b){return b.test(a)?a:!1}
function la(a){var b=pa.urlConfig;a=qa(a.replace(/^\s+/,"").replace(/\s+$/,""));var c="";if(""!==a.E){if(!b.W.test(a.E))return!1;c+=a.E+":"}if(""===a.r)if("file"===a.E)c+="//";else{if(""!==a.E)return!1}else{c+="//";if(!/^(?=[a-z])[-a-z0-9]{0,62}[a-z0-9](?:\.(?=[a-z])[-a-z0-9]{0,62}[a-z0-9])*$/i.test(a.r)&&!ja(a.r)&&!ka(a.r.replace(/^\[(.*)\]$/,"$1",a.r))||b.X&&b.X.test(a.r)||b.da&&!b.da.test(a.r))return!1;""!==a.V&&(c+=ia(decodeURIComponent(a.V)),""!==a.R&&(c+=":"+ia(decodeURIComponent(a.R))),c+=
"@");c+=a.r;""!==a.S&&(c+=":"+a.S)}b=a.ba;""!==a.T&&(b+="?"+a.T);""!==a.P&&(b+="#"+a.P);b=b.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},b);c+=b.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z]/g,escape);a.E||(c=c.replace(/^([^\/]*):/,"$1%3A",c));return c}
function qa(a){a=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/i.exec(a);a={E:""<a[1]?a[1]:"",V:""<a[2]?a[2]:"",R:""<a[3]?a[3]:"",r:""<a[4]?a[4]:"",S:""<a[5]?a[5]:"",ba:""<a[6]?a[6]:"",T:""<a[7]?a[7]:"",P:""<a[8]?a[8]:""};a.E=a.E.toLowerCase();a.r=a.r.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(a.r)&&punycode&&(a.r=punycode.toASCII(a.r));return a}
function ra(){}ra.prototype={o:function(){}};function l(a,b,c,d){this.q=a;this.p=b;this.n=c;this.z=d;this.l={};this.O=[];isNaN(a+c+d)&&m(this)}l.prototype.J=!1;l.prototype.u=0;function m(a){a.J||(a.J=!0,a.O.forEach(function(a){m(a)}))}function p(a,b){a.p===b.p&&(1===a.q&&2===b.q&&b.n>=a.n?(a.G=b,b.K=a):2===a.q&&1===b.q&&b.n<=a.n&&(a.K=b,b.G=a))}function sa(a){a.u=1E3}function s(a){var b={},c;for(c in a.l)b[c]=a.l[c];return b}
function ta(a,b){return a.J||a.p!==b.p||1!==b.q||2!==a.q||a.n<b.n||a.K&&a.K!==b||b.G&&b.G!==a?!1:!0}function ua(a){return"br"===a.p||"i"===a.p||"pb"===a.p}l.prototype.o=function(a,b){this.l[a]=b};function xa(a,b){a.l={};for(var c in b)a.l[c]=b[c]}
var u,ya,x,B,D,za,Aa=new ra,Ba,E,F,Ca={Litedown:{x:function(a){function b(a,c){p(H(2,"LIST",c,0),a.$);p(H(2,"LI",c,0),a.M);a.U&&a.N.forEach(function(a){a.c&=-9})}function c(a){a=a.replace(/[\\\x1A]/g,"");f&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":")","\u001b3":"*","\u001b4":"[","\u001b5":"\\","\u001b6":"]","\u001b7":"^","\u001b8":"_","\u001b9":"`","\u001bA":"~"}[a]}));return a}function d(){var c={};if(-1===a.indexOf("-")&&-1===a.indexOf("="))return c;for(var b,
d=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=d.exec(a);){var f=b[0];b=b.index;for(var e=b-1;0<e&&" "===a[e-1];)--e;c[b-1]={Y:b+f.length-e,Z:e,ca:f.length-f.replace(/>/g,"").length,y:"="===f.charAt(0)?"H1":"H2"}}return c}function e(c,b){var d=a.indexOf(c);if(-1!==d)for(var f=0,d=a.indexOf("\u0017",d),e,k,g,n;k=b.exec(a);){var q=k.index,w=k[0].length;q>d&&(f=0,d=a.indexOf("\u0017",q));if(3<=w){var A=w;3>f?n=k=q:e<g?(n=q,k=q+2):(n=q+1,k=q,g===e&&(e+=2));f&2&&(I("STRONG",g,2,n,2),A-=2);f&1&&(I("EM",
e,1,k,1),--A);A?(f=Math.min(A,3),f&1&&(e=q+w-f),f&2&&(g=q+w-f)):f=0}else 2===w?3===f&&g===e?(I("STRONG",e+1,2,q,2),f=1):f&2?(I("STRONG",g,2,q,2),f-=2):(f+=2,g=q):"_"===c&&0<q&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(q-1))&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(q+1))||(3===f&&g===e?(I("EM",g+2,1,q,1),f=2):f&1?(I("EM",e,1,q,1),--f):(++f,e=q))}}function g(c,b){a=a.substr(0,c)+Array(1+b).join("\u001a")+a.substr(c+
b)}var f,n,k,w,q;(function(){0>a.indexOf("\\")?f=!1:(f=!0,a=a.replace(/\\[!")*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\)":"\u001b2","\\*":"\u001b3","\\[":"\u001b4","\\\\":"\u001b5","\\]":"\u001b6","\\^":"\u001b7","\\_":"\u001b8","\\`":"\u001b9","\\~":"\u001bA"}[a]}));a+="\n\n\u0017"})();(function(){for(var c=[],f=4,e,t=!0,v=[],r=0,ea=!1,Fa=[],fa=0,ga=d(),A=0,ha,S,va,O,K,y,wa,ma,V,Ga=[],$,na=/^(?:(?=[-*+\d \t>`#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=.))?[ \t]*(#+[ \t]*(?=.)|```+)?)?/gm;$=
na.exec(a);)Ga.push($),$.index===na.lastIndex&&++na.lastIndex;Ga.forEach(function(d){var L=d.index,oa=d[0].length;O=0;S=!t;K=a.indexOf("\n",L);t=K===L+oa&&!d[3]&&!d[4]&&!d[5];oa||++na.lastIndex;ha=t&&S;d[1]?(V=d[1].length-d[1].replace(/>/g,"").length,O=d[1].length):V=0;if(V<fa&&!S&&!t){ea=!0;do p(H(2,"QUOTE",A,0),Fa.pop());while(V<--fa)}if(V>fa&&!t){ea=!0;do{var C=H(1,"QUOTE",L,0);C.u=fa;Fa.push(C)}while(V>++fa)}var T=C=0,P,aa;if(d[2]){P=d[2];aa=P.length;do" "===P.charAt(T)?++C:C=C+4&-4;while(++T<
aa&&C<f)}C<f&&e&&!t&&(ea=!0);ea&&(ea=!1,e&&(g(e.n,A-e.n),va=H(2,"CODE",A,0),p(va,e),va.u=-1,e=null),v.forEach(function(a){b(a,A)}),v=[],r=0,L&&c.push(L-1));if(C>=f){if(e||!S)O=(d[1]||"").length+T,e||(e=H(1,"CODE",L+O,0)),d={}}else{P=!!d[4];if(C||S||P||t)if(S&&!P)y=r-1;else if(r)for(y=0;y<r&&C>v[y].Q;)++y;else y=!S&&P?0:-1;else y=-1;for(;y<r-1;)b(v.pop(),A),--r;y!==r||P||--y;if(P&&0<=y){ha=!0;aa=L+O+T;var $=d[4].length,T=H(1,"LI",aa,$);g(aa,$);y<r?(p(H(2,"LI",A,0),v[y].M),v[y].M=T,v[y].N.push(T)):
(++r,y?(ma=v[y-1].Q+1,wa=Math.max(ma,4*y)):(ma=0,wa=C),C=H(1,"LIST",aa,0),-1<d[4].indexOf(".")&&C.o("type","decimal"),v.push({$:C,M:T,N:[T],ea:ma,Q:wa,U:!0}))}!r||S||t||(1<v[0].N.length||!P)&&v.forEach(function(a){a.U=!1});f=4*(r+1)}if(d[5]){if("#"===d[5].charAt(0)){n=d[5].length;k=L+oa-n;w=K;for(q=0;-1<" #\t".indexOf(a.charAt(w-1));)--w,++q;I("H"+/#{1,6}/.exec(d[5])[0].length,k,n,w,q);c.push(k);c.push(w);S&&(ha=!0)}}else d[3]&&!r?(H(3,"HR",L+O,oa-O),ha=!0,g(K,1)):!ga[K]||ga[K].ca!==V||t||r||e||(I(ga[K].y,
L+O,0,ga[K].Z,ga[K].Y),g(K,1));ha&&(H(3,"pb",A,0),c.push(A));t||(A=K);O&&sa(H(3,"i",L,O))});c.forEach(function(c){a=a.substr(0,c)+"\u0017"+a.substr(1+c)})})();(function(){if(-1!==a.indexOf("`"))for(var c,b=/(``?)[^\x17]*?[^`]\1(?!`)/g;c=b.exec(a);){var d=c.index,f=c[0].length;c=c[1].length;I("C",d,c,d+f-c,c);g(d,f)}})();(function(){if(-1!==a.indexOf("!["))for(var b,d=/!\[([^\x17\]]+)] ?\(([^\x17 ")]+)(?: "([^\x17"]*)")?\)/g;b=d.exec(a);){var f=b.index,e=b[0].length,k=b[1].length,q=f,k=I("IMG",q,2,
q+2+k,e-2-k);k.o("alt",c(b[1]));k.o("src",c(b[2]));""<b[3]&&k.o("title",c(b[3]));g(f,e)}})();(function(){if(-1!==a.indexOf("["))for(var b,d=/\[([^\x17\]]+)] ?\(([^\x17)]+)\)/g;b=d.exec(a);){var f=b[1].length,e=b.index,k=e+1+f,f=b[0].length-1-f,q=b[2],n="";if(b=/^(.+?) "(.*?)"$/.exec(q))q=b[1],n=b[2];b=I("URL",e,1,k,f);b.o("url",c(q));""!==n&&b.o("title",c(n));g(e,1);g(k,f)}})();(function(){if(-1!==a.indexOf("~~"))for(var c,b=/~~[^\x17]+?~~/g;c=b.exec(a);){var d=c.index;I("DEL",d,2,d+c[0].length-2,
2)}})();(function(){if(-1!==a.indexOf("^"))for(var c,b=/\^[^\x17\s]+/g;c=b.exec(a);){var d=c[0],f=c=c.index,e=c+d.length,d=d.split("^");d.shift();d.forEach(function(a){I("SUP",f,1,e,0);f+=1+a.length})}})();e("*",/\*+/g);e("_",/_+/g);(function(){for(var c=a.indexOf("  \n");-1!==c;)H(3,"br",c+2,0),c=a.indexOf("  \n",c+3)})()}},Autoemail:{A:"@",B:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,D:1E4,H:"warn",x:function(a,b){b.forEach(function(a){var b=H(1,"EMAIL",a[0][1],0);b.o("email",a[0][0]);a=H(2,"EMAIL",
a[0][1]+a[0][0].length,0);p(b,a)})}},Autolink:{A:"://",B:/(?:ftp|https?):\/\/\S(?:[^\s\[\]]*(?:\[\w*\])?)+/ig,D:1E4,H:"warn",x:function(a,b){b.forEach(function(a){for(var b=a[0][0];;)if(b=b.replace(/[\s!"',.<>?]+$/,""),")"===b.substr(-1)&&b.replace(/[^(]+/g,"").length<b.replace(/[^)]+/g,"").length)b=b.substr(0,b.length-1);else break;var e=H(1,"URL",a[0][1],0);e.o("url",b);a=H(2,"URL",a[0][1]+b.length,0);p(e,a)})}},Escaper:{A:"\\",B:/\\[-!#()*+.:<>@[\\\]^_`{}]/g,D:1E4,H:"warn",x:function(a,b){b.forEach(function(a){I("ESC",
a[0][1],1,a[0][1]+a[0][0].length,0)})}},FancyPants:{x:function(a){function b(){for(var b={"--":"\u2013","---":"\u2014","...":"\u2026"},c,d=/---?|\.\.\./g;c=d.exec(a);){var e=b[c[0]];H(3,f.y,c.index,c[0].length).o(f.F,e)}}function c(c,b,d,e){for(var k;k=b.exec(a);){var g=H(3,f.y,k.index+k[0].indexOf(c),1);k=H(3,f.y,k.index+k[0].length-1,1);g.o(f.F,d);k.o(f.F,e);g.O.push(k);g.J&&m(k)}}function d(a){for(var c,b=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=b.exec(a);)c=H(3,f.y,c.index+c[0].indexOf("'"),1),
c.o(f.F,"\u2019"),c.u=10}function e(a){for(var c,b=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;c=b.exec(a);){var d=c.index+c[0].length-1;"x"===c[0].charAt(d)&&H(3,f.y,d,1).o(f.F,"\u00d7");var e=c[0].charAt(1);if("'"===e||'"'===e)d=1+c.index,c="'s"===c[0].substr(1,2)?"\u2019":"'"===e?"\u2032":"\u2033",H(3,f.y,d,1).o(f.F,c)}}function g(){for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},b,d=/\((?:c|r|tm)\)/gi;b=d.exec(a);){var e=c[b[0].toLowerCase()];H(3,f.y,b.index,b[0].length).o(f.F,e)}}var f=
{F:"char",y:"FP"},n=0<=a.indexOf("'"),k=0<=a.indexOf('"');n&&d(a);(n||k||0<=a.indexOf("x"))&&e(a);n&&c("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019");k&&c('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d");(0<=a.indexOf("...")||0<=a.indexOf("--"))&&b();0<=a.indexOf("(")&&g()}},HTMLComments:{A:"\x3c!--",B:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,D:1E4,H:"warn",x:function(a,b){b.forEach(function(a){var b=ba(a[0][0].substr(4,a[0][0].length-7)),b=b.replace(/[<>]/g,""),b=b.replace(/--/g,"");H(3,"HC",a[0][1],a[0][0].length).o("content",
b)})}},HTMLEntities:{A:"&",B:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,D:1E4,H:"warn",x:function(a,b){b.forEach(function(a){var b=a[0][0],e=ba(b);e!==b&&H(3,"HE",a[0][1],b.length).o("char",e)})}},HTMLElements:{A:"<",B:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
D:1E4,H:"warn",x:function(a,b){var c={a:{"":"URL",href:"url"},hr:{"":"HR"},em:{"":"EM"},s:{"":"S"},strong:{"":"STRONG"},sub:{"":"SUB"},sup:{"":"SUP"}};b.forEach(function(b){var e="/"===a.charAt(b[0][1]+1),g=b[0][1],f=b[0][0].length,n=b[2-e][0].toLowerCase(),k=c&&c[n]&&c[n][""]?c[n][""]:"html:"+n;if(e)H(2,k,g,f);else for(e="/>"===b[0][0].substr(f-2)?I(k,g,f,g+f,0):H(1,k,g,f),b=b[3][0],g=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;k=g.exec(b);)J=k[0].indexOf("="),0>J&&(J=k[0].length,
k[0]+="="+k[0].toLowerCase()),f=k[0].substr(0,J).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),k=k[0].substr(1+J).replace(/^\s+/,"").replace("/s+$/",""),c&&c[n]&&c[n][f]&&(f=c[n][f]),/^["']/.test(k)&&(k=k.substr(1,k.length-2)),e.o(f,ba(k))})}},MediaEmbed:{A:":",B:/\b(?:spotify:|https?:\/\/(?:[-.\w]+\.)?(?:twitch\.tv|vi(?:meo\.com|ne\.co)|youtu(?:\.be|be\.com)|(?:bandcamp|dailymotion|grooveshark|liveleak|soundcloud|www\.facebook|(?:open|play)\.spotify)\.com)\/)[^["'\s]+(?!\S)/g,D:1E4,H:"warn",
x:function(a,b){b.forEach(function(a){var b=a[0][0];a=H(3,"MEDIA",a[0][1],b.length);a.o("url",b);a.u=-10})}}},J,pa={urlConfig:{W:/^(?:ftp|https?)$/i},mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion","www.facebook.com":"facebook","grooveshark.com":"grooveshark","liveleak.com":"liveleak","soundcloud.com":"soundcloud","open.spotify.com":"spotify","play.spotify.com":"spotify","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtube.com":"youtube","youtu.be":"youtube"}},
Da={d:[119],e:[4095],c:8},W={C:{b:[M],i:10,f:{c:66},j:1E3,g:0,d:[0],e:[0]},CODE:{l:{lang:{b:[Ea],k:0}},b:[M],i:10,f:{c:2132},j:1E3,g:1,d:[0],e:[0]},DEL:{b:[M],i:10,f:{c:256},j:1E3,g:0,d:[119],e:[4095]},EM:{b:[M],i:10,f:{c:2},j:1E3,g:0,d:[113],e:[4095]},H1:{b:[M],i:10,f:{c:2052},j:1E3,g:2,d:[113],e:[4095]},H2:{b:[M],i:10,f:{c:2052},j:1E3,g:2,d:[113],e:[4095]},H3:{b:[M],i:10,f:{c:2052},j:1E3,g:2,d:[113],e:[4095]},H4:{b:[M],i:10,f:{c:2052},j:1E3,g:2,d:[113],e:[4095]},H5:{b:[M],i:10,f:{c:2052},j:1E3,
g:2,d:[113],e:[4095]},H6:{b:[M],i:10,f:{c:2052},j:1E3,g:2,d:[113],e:[4095]},HR:{b:[M],i:10,f:{c:3589},j:1E3,g:1,d:[96],e:[4095]},IMG:{l:{alt:{k:0},src:{b:[Q],k:1},title:{k:0}},b:[M],i:10,f:{c:1537},j:1E3,g:0,d:[96],e:[4095]},LI:{b:[M],i:10,f:{v:{LI:1,"html:li":1},c:2056},j:1E3,g:3,d:[119],e:[4095]},LIST:{l:{type:{b:[Ea],k:0}},b:[M],i:10,f:{c:3716},j:1E3,g:1,d:[40],e:[4095]},QUOTE:{b:[M],i:10,f:{c:2060},j:1E3,g:1,d:[119],e:[4095]},STRONG:{b:[M],i:10,f:{c:2},j:1E3,g:0,d:[113],e:[4095]},SUP:{b:[M],i:10,
f:{c:0},j:1E3,g:0,d:[113],e:[4095]},URL:{l:{title:{k:0},url:{b:[Q],k:1}},b:[M],i:10,f:{c:258},j:1E3,g:4,d:[103],e:[4079]},EMAIL:{l:{email:{b:[Ha],k:1}},b:[M],i:10,f:{c:258},j:1E3,g:4,d:[103],e:[4079]},ESC:{b:[M],i:10,f:{c:848},j:1E3,g:5,d:[0],e:[0]},FP:{l:{"char":{k:1}},b:[M],i:10,f:{c:1537},j:1E3,g:6,d:[96],e:[4095]},HC:{l:{content:{k:1}},b:[M],i:10,f:{c:1601},j:1E3,g:5,d:[0],e:[0]},HE:{l:{"char":{k:1}},b:[M],i:10,f:{c:1537},j:1E3,g:6,d:[96],e:[4095]},"html:abbr":{l:{title:{k:0}},b:[M],i:10,f:{c:0},
j:1E3,g:0,d:[113],e:[4095]},"html:b":{b:[M],i:10,f:{c:2},j:1E3,g:0,d:[113],e:[4095]},"html:br":{b:[M],i:10,f:{c:1665},j:1E3,g:0,d:[32],e:[4095]},"html:code":{b:[M],i:10,f:{c:66},j:1E3,g:0,d:[0],e:[0]},"html:del":{b:[M],i:10,f:{c:256},j:1E3,g:0,d:[119],e:[4095]},"html:div":{l:{"class":{k:0}},b:[M],i:10,f:{c:2060},j:1E3,g:1,d:[119],e:[4095]},"html:i":{b:[M],i:10,f:{c:2},j:1E3,g:0,d:[113],e:[4095]},"html:img":{l:{alt:{k:0},height:{k:0},src:{b:[Q],k:0},title:{k:0},width:{k:0}},b:[M],i:10,f:{c:1665},j:1E3,
g:0,d:[32],e:[4095]},"html:ins":{b:[M],i:10,f:{c:256},j:1E3,g:0,d:[119],e:[4095]},"html:li":{b:[M],i:10,f:{v:{LI:1,"html:li":1},c:2056},j:1E3,g:3,d:[119],e:[4095]},"html:ol":{b:[M],i:10,f:{c:3716},j:1E3,g:1,d:[40],e:[4095]},"html:pre":{b:[M],i:10,f:{c:2068},j:1E3,g:1,d:[113],e:[4095]},"html:rb":{b:[M],i:10,f:{v:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:2048},j:1E3,g:7,d:[113],e:[4095]},"html:rp":{b:[M],i:10,f:{v:{"html:rb":1,"html:rp":1,"html:rtc":1},c:2048},j:1E3,g:7,d:[113],e:[4095]},
"html:rt":{b:[M],i:10,f:{v:{"html:rb":1,"html:rp":1,"html:rt":1},c:2048},j:1E3,g:8,d:[113],e:[4095]},"html:rtc":{b:[M],i:10,f:{v:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:2048},j:1E3,g:7,d:[369],e:[4095]},"html:ruby":{b:[M],i:10,f:{c:0},j:1E3,g:0,d:[497],e:[4095]},"html:span":{l:{"class":{k:0}},b:[M],i:10,f:{c:0},j:1E3,g:0,d:[113],e:[4095]},"html:strong":{b:[M],i:10,f:{c:2},j:1E3,g:0,d:[113],e:[4095]},"html:sub":{b:[M],i:10,f:{c:0},j:1E3,g:0,d:[113],e:[4095]},"html:sup":{b:[M],i:10,f:{c:0},
j:1E3,g:0,d:[113],e:[4095]},"html:table":{b:[M],i:10,f:{c:3716},j:1E3,g:1,d:[2592],e:[4095]},"html:tbody":{b:[M],i:10,f:{v:{"html:tbody":1,"html:tfoot":1,"html:thead":1},c:3712},j:1E3,g:9,d:[2080],e:[4095]},"html:td":{l:{colspan:{k:0},rowspan:{k:0}},b:[M],i:10,f:{v:{"html:td":1,"html:th":1},c:2056},j:1E3,g:10,d:[119],e:[4095]},"html:tfoot":{b:[M],i:10,f:{v:{"html:tbody":1,"html:thead":1},c:3712},j:1E3,g:9,d:[2080],e:[4095]},"html:th":{l:{colspan:{k:0},rowspan:{k:0},scope:{k:0}},b:[M],i:10,f:{v:{"html:td":1,
"html:th":1},c:2056},j:1E3,g:10,d:[115],e:[4091]},"html:thead":{b:[M],i:10,f:{c:3712},j:1E3,g:9,d:[2080],e:[4095]},"html:tr":{b:[M],i:10,f:{v:{"html:tr":1},c:3712},j:1E3,g:11,d:[1056],e:[4095]},"html:u":{b:[M],i:10,f:{c:2},j:1E3,g:0,d:[113],e:[4095]},"html:ul":{b:[M],i:10,f:{c:3716},j:1E3,g:1,d:[40],e:[4095]},MEDIA:{b:[Ia],i:10,f:{c:321},j:1E3,g:5,d:[0],e:[0]},BANDCAMP:{l:{url:{b:[Q],k:0},album_id:{b:[R],k:0},track_num:{b:[R],k:0},track_id:{b:[R],k:0}},b:[Ja,M,Ka],i:10,f:{c:1601},j:1E3,g:4,d:[0],
e:[0]},DAILYMOTION:{l:{url:{b:[Q],k:0},id:{b:[La],k:1}},w:[["url",/dailymotion\.com\/(?:video\/|user\/[^#]+#video=)([A-Za-z0-9]+)/,["","id"]],["url",/^([A-Za-z0-9]+)$/,["","id"]]],b:[U,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},FACEBOOK:{l:{url:{b:[Q],k:0},id:{b:[R],k:1}},w:[["url",/www\.facebook\.com\/(?:[\w\/]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,["","id"]],["url",/^(\d+)$/,["","id"]]],b:[U,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},GROOVESHARK:{l:{url:{b:[Q],k:0},
songid:{b:[R],k:0},playlistid:{b:[R],k:0}},w:[["url",/grooveshark\.com(?:\/#!?)?\/playlist\/[^\/]+\/(\d+)/,["","playlistid"]]],b:[U,Ma,M,Ka],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},LIVELEAK:{l:{url:{b:[Q],k:0},id:{b:[Na],k:1}},w:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,["","id"]],["url",/^([a-f_0-9]+)$/,["","id"]]],b:[U,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},SOUNDCLOUD:{l:{url:{b:[Q],k:0},playlist_id:{b:[R],k:0},track_id:{b:[R],k:0},id:{b:[Oa],k:1},secret_token:{b:[Pa],k:0}},w:[["url",/(https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)/,
["","id","secret_token"]],["url",/^(https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)$/,["","id","secret_token"]]],b:[U,Qa,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},SPOTIFY:{l:{url:{b:[Q],k:0},uri:{b:[Ra],k:0},path:{b:[Sa],k:0}},w:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[\/\w]+)/,
["","path"]]],b:[U,M,Ka],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},TWITCH:{l:{url:{b:[Q],k:0},channel:{b:[Ta],k:0},archive_id:{b:[R],k:0},chapter_id:{b:[R],k:0}},w:[["url",/twitch\.tv\/((?!m\/)\w+)(?:\/b\/(\d+)|\/c\/(\d+))?/,["","channel","archive_id","chapter_id"]]],b:[U,Ua,M,Ka],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},VIMEO:{l:{url:{b:[Q],k:0},id:{b:[R],k:1}},w:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/)?(\d+)/,["","id"]],["url",/^(\d+)$/,["","id"]]],b:[U,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},VINE:{l:{url:{b:[Q],
k:0},id:{b:[Va],k:1}},w:[["url",/vine\.co\/v\/([^\/]+)/,["","id"]],["url",/^([^\/]+)$/,["","id"]]],b:[U,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]},YOUTUBE:{l:{url:{b:[Q],k:0},id:{b:[Pa],k:1},h:{b:[R],k:0},m:{b:[R],k:0},s:{b:[R],k:0},t:{b:[R],k:0},list:{b:[Pa],k:0}},w:[["url",/youtube\.com\/(?:watch.*?v=|v\/)([-\w]+)/,["","id"]],["url",/youtu\.be\/([-\w]+)/,["","id"]],["url",/[#&?]t=(?:(?:(\d+)h)?(\d+)m(\d+)|(\d+))/,["","h","m","s","t"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,["",
"id"]]],b:[U,M],i:10,f:{c:1601},j:1E3,g:4,d:[0],e:[0]}},X,Wa,Y,Xa,Ya=0,Z;
function Za(a){a=a.replace(/\r\n?/g,"\n",a);a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"",a);B=0;za=!1;Ba={};F="";Y=a;Xa=Y.length;X=[];Wa=!0;Z=0;++Ya;a=Ya;for(var b in Ca){var c=Ca[b];if(!(c.L||c.A&&0>Y.indexOf(c.A))){var d=[];if(c.B){var d=c.B,e=[],g=void 0;for(d.lastIndex=0;g=d.exec(Y);){for(var f=+g.index,n=[[g[0],f]],k=0;++k<g.length;){var w=g[k];void 0===w?n.push(["",-1]):(n.push([w,Y.indexOf(w,f)]),f+=w.length)}e.push(n)}d=e;e=d.length;if(!e)continue;e>c.D&&(d=d.slice(0,c.D))}c.x(Y,d)}}$a();
if(Ya!==a)throw"The parser has been reset during execution";return F}function ab(a,b){b.w&&b.w.forEach(function(b){var d=b[0],e=b[1];b=b[2];if(d in a.l){var g;(g=e.exec(a.l[d]))&&b.forEach(function(b,c){if(""!==b&&"string"===typeof g[c]){var e=g[c];b!==d&&b in a.l||a.o(b,e)}})}});return!0}
function bb(){var a;cb(Xa,0,!0);do a=F,F=F.replace(/<((?:\w+:)?\w+)[^>]*><\/\1>/g,"");while(F!==a);F=F.replace(/<\/i><i>/g,"",F);var b=za?"r":"t";a="<"+b;for(var c in Ba)a+=" xmlns:"+c+'="urn:s9e:TextFormatter:'+c+'"';F=a+">"+F+"</"+b+">"}
function db(a){za=!0;var b=a.p,c=a.n,d=a.z,e=a.c,g=0,f=0;e&2048&&(g=a.q&1?2:1,f=a.q&2?2:1);var n=!1;a.q&1?e&4&&(n=!0):n=!0;cb(c,g,n);g=d?da(Y.substr(c,d)):"";if(a.q&1){e&4||eb(c);e=b.indexOf(":");0<e&&(Ba[b.substr(0,e)]=0);F+="<"+b;var k=s(a),e=[],w;for(w in k)e.push([w]);e.sort(function(a,b){return a>b?1:-1});e.forEach(function(a){F+=" "+a+'="'+ca(k[a].toString())+'"'});F=3===a.q?d?F+(">"+g+"</"+b+">"):F+"/>":d?F+("><s>"+g+"</s>"):F+">"}else d&&(F+="<e>"+g+"</e>"),F+="</"+b+">";for(Z=J=c+d;f&&Z<
Xa&&"\n"===Y.charAt(Z);)--f,++Z}
function cb(a,b,c){c&&(x.c&8?b=-1:c=!1);J>=a&&c&&fb();if(Z>J){var d=Math.min(a,Z);F+=Y.substr(J,d-J);J=d;J>=a&&c&&fb()}if(x.c&128)d=a-J,b=Y.substr(J,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),F+=b,J=a,c&&fb();else{for(var e=a,d=0;b&&--e>=J;){var g=Y.charAt(e);if(" "!==g&&"\n"!==g&&"\t"!==g)break;"\n"===g&&--b;++d}a-=d;if(x.c&8)for(x.I||(gb(a),a>J&&eb(a)),b=Y.indexOf("\n\n",J);-1<b&&b<a;)cb(b,0,!0),eb(a),b=Y.indexOf("\n\n",J);a>J&&(b=da(Y.substr(J,a-J)),F+=b);c&&fb();d&&(F+=Y.substr(a,d));J=a+d}}
function hb(a){var b=a.n;a=a.z;var c=Y.substr(b,a);cb(b,0,!1);F+="<i>"+da(c)+"</i>";za=!0;J=b+a}function eb(a){!x.I&&x.c&8&&(gb(a),J<Xa&&(F+="<p>",x.I=!0))}function fb(){x.I&&(F+="</p>",x.I=!1)}function gb(a){for(;J<a&&-1<" \n\t".indexOf(Y.charAt(J));)F+=Y.charAt(J),++J}function ib(a,b){var c=a.p;a.c&2048&&(b=jb(b));p(H(2,c,b,0),a)}function jb(a){for(;a>J&&-1<" \n\t".indexOf(Y.charAt(a-1));)--a;return a}
function $a(){J=0;u={};ya={};E=[];D=null;x=Da;x.I=!1;for(var a in W)u[a]=0,ya[a]=0;do{for(;X.length;)Wa||(X.sort(kb),Wa=!0),D=X.pop(),x.c&64&&!ta(D,E[E.length-1])&&!ua(D)||lb();E.forEach(function(a){ib(a,Xa)})}while(X.length);bb()}
function lb(){if(!D.J){var a=D.n,b=D.z;if(J>a){var c;if((c=D.K)&&0<=E.indexOf(c))a=Math.max(0,a+b-J),a=H(2,c.p,J,a),p(a,c);else{if("i"===D.p&&(c=a+b-J,0<c)){H(3,"i",J,c);return}m(D)}}else if("i"===D.p)hb(D);else if("br"===D.p)x.c&512||(cb(D.n,0,!1),F+="<br/>");else if("pb"===D.p)cb(D.n,0,!0);else if(D.q&1)if(c=D,a=c.p,b=W[a],ya[a]>=b.j)m(c);else{var d=c,e=W[d.p],g=!0;if(e.b)for(var f=0;f<e.b.length;++f)if(!e.b[f](d,e)){g=!1;break}if(g){a:{d=c;if(E.length&&(e=W[d.p],e.f.v&&(g=E[E.length-1],e.f.v[g.p]))){X.push(d);
ib(g,d.n);d=!0;break a}d=!1}d||(u[a]>=b.i?m(c):(b=W[a].g,x.d[b>>5]&1<<(b&31)?(c.c&1&&!c.G&&(a=new l(3,a,c.n,c.z),xa(a,s(c)),a.c=c.c,c=a),db(c),mb(c)):m(c)))}else m(c)}else nb()}}
function nb(){var a=D;if(u[a.p]){for(var b=[],c=E.length;0<=--c;){var d=E[c];if(ta(a,d))break;if(1E3<++B)throw"Fixing cost exceeded";b.push(d)}if(!(0>c)){var e=1E3>B,g=[];b.forEach(function(b){var c=b.p;e&&(b.c&2?g.push(b):e=!1);var d=a.n;b.c&2048&&(d=jb(d));c=new l(2,c,d,0);c.c=b.c;db(c);ob()});db(a);ob();if(b.length&&1E3>B){d=J;for(c=X.length;0<=--c&&1E3>++B;){var f=X[c];if(f.n>d||f.q&1)break;for(var n=b.length;0<=--n&&1E3>++B;)if(ta(f,b[n])){b.splice(n,1);g[n]&&g.splice(n,1);d=Math.max(d,f.n+f.z);
break}}d>J&&hb(new l(3,"i",J,d-J))}g.forEach(function(a){var b=H(a.q,a.p,J,0);xa(b,s(a));b.u=a.u;(a=a.G)&&p(b,a)})}}}function ob(){var a=E.pop();--u[a.p];x=x.aa}function mb(a){function b(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=a[c]&b[c];return e}var c=a.p,d=a.c,e=W[c];++ya[c];3!==a.q&&(++u[c],E.push(a),a=b(e.d,e.d),d&256&&(a=b(a,x.d)),e=b(x.e,e.e),a=b(a,e),d|=x.c&32,d&16&&(d&=-33),x={d:a,e:e,c:d,aa:x})}
function H(a,b,c,d){a=new l(a,b,c,d);W[b]&&(a.c=W[b].f.c);W[b]||ua(a)?W[b]&&W[b].L?m(a):0>d||0>c||c+d>Xa?m(a):(Wa&&X.length&&a.n>=X[X.length-1].n&&(Wa=!1),X.push(a)):m(a);return a}function I(a,b,c,d,e){b=H(1,a,b,c);p(b,H(2,a,d,e));return b}function kb(a,b){var c=a.n,d=b.n;if(c!==d)return d-c;if(a.u!==b.u)return b.u-a.u;c=a.z;d=b.z;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.q]-c[a.q])}function pb(a){return(new DOMParser).parseFromString(a,"text/xml")}var qb=new XSLTProcessor;qb.importStylesheet(pb('<?xml version="1.0" encoding="utf-8"?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/><xsl:template match="BANDCAMP"><iframe width="400" height="400" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<xsl:choose><xsl:when test="@album_id">album=<xsl:value-of select="@album_id"/><xsl:if test="@track_num">/t=<xsl:value-of select="@track_num"/></xsl:if></xsl:when><xsl:otherwise>track=<xsl:value-of select="@track_id"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="C"><code><xsl:apply-templates/></code></xsl:template><xsl:template match="CODE"><pre><code class="{@lang}"><xsl:apply-templates/></code></pre></xsl:template><xsl:template match="DAILYMOTION"><iframe width="560" height="315" src="//www.dailymotion.com/embed/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="DEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|html:b|html:br|html:code|html:del|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element name="{translate(local-name(),\'DEGHILMNOPRSTU\',\'deghilmnoprstu\')}"><xsl:apply-templates/></xsl:element></xsl:template><xsl:template match="EMAIL"><a href="mailto:{@email}"><xsl:apply-templates/></a></xsl:template><xsl:template match="ESC"><xsl:apply-templates/></xsl:template><xsl:template match="FACEBOOK"><iframe width="560" height="315" src="//s9e.github.io/iframe/facebook.min.html#{@id}" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,src.substr(0,src.indexOf(\'/\',8)))" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="FP|HE"><xsl:value-of select="@char"/></xsl:template><xsl:template match="GROOVESHARK"><object type="application/x-shockwave-flash" typemustmatch="" width="400" height="{400-360*boolean(@songid)}" data="//grooveshark.com/{substring(\'songWw\',6-5*boolean(@songid),5)}idget.swf"><param name="allowfullscreen" value="true"/><param name="flashvars" value="playlistID={@playlistid}&amp;songID={@songid}"/><embed type="application/x-shockwave-flash" src="//grooveshark.com/{substring(\'songWw\',6-5*boolean(@songid),5)}idget.swf" width="400" height="{400-360*boolean(@songid)}" allowfullscreen="" flashvars="playlistID={@playlistid}&amp;songID={@songid}"/></object></xsl:template><xsl:template match="HC"><xsl:comment><xsl:value-of select="@content"/></xsl:comment></xsl:template><xsl:template match="HR"><hr/></xsl:template><xsl:template match="IMG"><img src="{@src}"><xsl:copy-of select="@alt"/><xsl:copy-of select="@title"/></img></xsl:template><xsl:template match="LIST"><xsl:choose><xsl:when test="not(@type)"><ul><xsl:apply-templates/></ul></xsl:when><xsl:otherwise><ol><xsl:apply-templates/></ol></xsl:otherwise></xsl:choose></xsl:template><xsl:template match="LIVELEAK"><iframe width="640" height="360" src="http://www.liveleak.com/ll_embed?i={@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="QUOTE"><blockquote><xsl:apply-templates/></blockquote></xsl:template><xsl:template match="SOUNDCLOUD"><iframe width="100%" height="166" style="max-width:900px" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://w.soundcloud.com/player/?url=<xsl:choose><xsl:when test="@secret_token and@playlist_id">https://api.soundcloud.com/playlists/<xsl:value-of select="@playlist_id"/>&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:when><xsl:when test="@secret_token and@track_id">https://api.soundcloud.com/tracks/<xsl:value-of select="@track_id"/>&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:when><xsl:otherwise><xsl:if test="not(contains(@id,\'://\'))">https://soundcloud.com/</xsl:if><xsl:value-of select="@id"/><xsl:if test="@secret_token">&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:if></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="SPOTIFY"><iframe width="400" height="480" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://embed.spotify.com/?view=coverart&amp;uri=<xsl:choose><xsl:when test="@uri"><xsl:value-of select="@uri"/></xsl:when><xsl:otherwise>spotify:<xsl:value-of select="translate(@path,\'/\',\':\')"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="TWITCH"><object type="application/x-shockwave-flash" typemustmatch="" width="620" height="378"><xsl:attribute name="data">//www.twitch.tv/widgets/<xsl:choose><xsl:when test="@archive_id or@chapter_id">arch</xsl:when><xsl:otherwise>l</xsl:otherwise></xsl:choose>ive_embed_player.swf</xsl:attribute><param name="allowfullscreen" value="true"/><param name="flashvars"><xsl:attribute name="value">channel=<xsl:value-of select="@channel"/><xsl:if test="@archive_id">&amp;archive_id=<xsl:value-of select="@archive_id"/></xsl:if><xsl:if test="@chapter_id">&amp;chapter_id=<xsl:value-of select="@chapter_id"/></xsl:if>&amp;auto_play=false</xsl:attribute></param><embed type="application/x-shockwave-flash" width="620" height="378" allowfullscreen=""><xsl:attribute name="src">//www.twitch.tv/widgets/<xsl:choose><xsl:when test="@archive_id or@chapter_id">arch</xsl:when><xsl:otherwise>l</xsl:otherwise></xsl:choose>ive_embed_player.swf</xsl:attribute><xsl:attribute name="flashvars">channel=<xsl:value-of select="@channel"/><xsl:if test="@archive_id">&amp;archive_id=<xsl:value-of select="@archive_id"/></xsl:if><xsl:if test="@chapter_id">&amp;chapter_id=<xsl:value-of select="@chapter_id"/></xsl:if>&amp;auto_play=false</xsl:attribute></embed></object></xsl:template><xsl:template match="URL"><a href="{@url}"><xsl:copy-of select="@title"/><xsl:apply-templates/></a></xsl:template><xsl:template match="VIMEO"><iframe width="560" height="315" src="//player.vimeo.com/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="VINE"><iframe width="480" height="480" src="https://vine.co/v/{@id}/embed/simple" allowfullscreen="" frameborder="0" scrolling="no"/><script async="" src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"/></xsl:template><xsl:template match="YOUTUBE"><iframe width="560" height="315" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//www.youtube.com/embed/<xsl:value-of select="@id"/><xsl:if test="@list">?list=<xsl:value-of select="@list"/></xsl:if><xsl:if test="@t or@m"><xsl:choose><xsl:when test="@list">&amp;</xsl:when><xsl:otherwise>?</xsl:otherwise></xsl:choose>start=<xsl:choose><xsl:when test="@t"><xsl:value-of select="@t"/></xsl:when><xsl:when test="@h"><xsl:value-of select="@h*3600+@m*60+@s"/></xsl:when><xsl:otherwise><xsl:value-of select="@m*60+@s"/></xsl:otherwise></xsl:choose></xsl:if></xsl:attribute></iframe></xsl:template><xsl:template match="br"><br/></xsl:template><xsl:template match="e|i|s"/><xsl:template match="html:abbr"><abbr><xsl:copy-of select="@title"/><xsl:apply-templates/></abbr></xsl:template><xsl:template match="html:div"><div><xsl:copy-of select="@class"/><xsl:apply-templates/></div></xsl:template><xsl:template match="html:img"><img><xsl:copy-of select="@alt"/><xsl:copy-of select="@height"/><xsl:copy-of select="@src"/><xsl:copy-of select="@title"/><xsl:copy-of select="@width"/><xsl:apply-templates/></img></xsl:template><xsl:template match="html:span"><span><xsl:copy-of select="@class"/><xsl:apply-templates/></span></xsl:template><xsl:template match="html:td"><td><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:apply-templates/></td></xsl:template><xsl:template match="html:th"><th><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:copy-of select="@scope"/><xsl:apply-templates/></th></xsl:template></xsl:stylesheet>'));
function M(a,b){var c;a:{if(b.l){var d,e=s(a);for(c in e){var g=e[c];if(b.l[c]){if(d=b.l[c],d.b){Aa.o(c);for(var f=0;f<d.b.length;++f)if(g=d.b[f](g,c),!1===g){delete a.l[c];break}!1!==g&&a.o(c,g)}}else delete a.l[c]}for(c in b.l)if(d=b.l[c],!(c in a.l)&&d.k){c=!1;break a}}else xa(a,{});c=!0}return c}function Ea(a){return/^[-\w+., ]+$/.test(a)?a:!1}function Q(a){return la(a)}function Ha(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}
function Ia(a){var b=pa.mediasites,c;if("media"in a.l)c=a.l.media,!("id"in a.l)&&"url"in a.l&&-1===a.l.url.indexOf("://")&&a.o("id",a.l.url);else if("url"in a.l){var d=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.l.url);if(d[1]&&b[d[1]+":"])c=b[d[1]+":"];else if(d[2]){d=d[2];do{if(b[d]){c=b[d];break}var e=d.indexOf(".");if(-1==e)break;d=d.substr(1+e)}while(""<d)}}c&&(b=a.G||a,d=a.n,c=H(3,c.toUpperCase(),d,b.n+b.z-d),xa(c,s(a)),c.u=a.u);return!1}function Ja(){return!0}
function Ka(a){a:{for(var b in s(a))if("url"!==b){a=!0;break a}a=!1}return a}function R(a){return h(a,/^(?:\d+)$/)}function U(a,b){return ab(a,b)}function La(a){return h(a,/^(?:[A-Za-z0-9]+)$/)}function Ma(){return!0}function Na(a){return h(a,/^(?:[a-f_0-9]+)$/)}function Qa(){return!0}function Oa(a){return h(a,/^(?:https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)$/)}
function Pa(a){return h(a,/^(?:[-\w]+)$/)}function Ra(a){return h(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)$/)}function Sa(a){return h(a,/^(?:(?:album|artist|track|user)\/[\/\w]+)$/)}function Ua(){return!0}function Ta(a){return h(a,/^(?:(?!m\/)\w+)$/)}function Va(a){return h(a,/^(?:[^\/]+)$/)}
window.s9e={TextFormatter:{disablePlugin:function(a){Ca[a]&&(Ca[a].L=!0)},enablePlugin:function(a){Ca[a]&&(Ca[a].L=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,q=c.length,N=e.length,z,G,t=0,v=0;t<q&&t<N;){z=c[t];G=e[t];if(!d(z,G))break;++t}for(var r=Math.min(q-t,N-t);v<r;){z=c[q-(v+1)];G=e[N-(v+1)];if(!d(z,G))break;++v}z=g.createDocumentFragment();for(r=t;r<N-v;)G=e[r].cloneNode(!0),z.appendChild(G),++r;for(r=q-v;--r>=t;)a.removeChild(c[r]);v?a.insertBefore(z,a.childNodes[t]):
a.appendChild(z)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,g=e.length,N=d.length;0<=--N;){var z=d[N],G=z.namespaceURI,z=z.name;b.hasAttributeNS(G,z)||a.removeAttributeNS(G,z)}for(N=g;0<=--N;)d=e[N],G=d.namespaceURI,z=d.name,d=d.value,d!==a.getAttributeNS(G,z)&&a.setAttributeNS(G,z,d);c(a,
b);return!0}var e=Za(a),e=pb(e),g=b.ownerDocument,e=g.importNode(qb.transformToFragment(e,g),!0);c(b,e)}}};
		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		window.setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.0.0/punycode.min.js"></script>
</body>
</html>