<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](http://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.0 KB (14.7 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[0,0],ba={d:0},n=["","id"],ea={d:514},fa={d:3201},q={d:3089},ga=[53191,32576],ka=[65527,32576],r=[49360,16384],la=[65521,32576],ma=[65344,32580],na=[64499,32576],oa={n:!0},t={n:!1},pa=[65352,32576],qa=[49344,16448],ra=[65344,32576],sa={"class":t},ta=["url",/^(\d+)$/,n],u={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1};function ua(a,b){return xa(a,b)}
function ya(a,b){a:{var c=Aa;if(b.j){var d,g=Ba(a);for(d in g){var f=g[d];if(b.j[d]){var e=b.j[d];if(e.b){c.o(d);for(var l=0;l<e.b.length;++l)if(f=e.b[l](f,d),!1===f){delete a.j[d];break}!1!==f&&a.o(d,f)}}else delete a.j[d]}for(d in b.j)if(e=b.j[d],!(d in a.j)&&e.n){c=!1;break a}}else Ca(a,{});c=!0}return c}
var x=[ya],Da=[function(a){return y(a,/^\d+$/)}],Ea=[function(a){return y(a,/^[-\w]+$/)}],Fa={b:[function(a){return/^[-\w+., ]+$/.test(a)?a:!1}],n:!1},Ma=[function(a){var b=Ga.urlConfig,c=Aa,d=Ha(a.replace(/^\s+/,"").replace(/\s+$/,""));Ka(b,d)?(c&&(d.attrValue=a),a=!1):a=La(d);return a}],A={b:Da,n:!1},Na={b:Da,n:!0},Oa={b:[function(a){return y(a,/^\w+$/)}],n:!1},Pa={b:Ea,n:!1},B={b:Ma,n:!1},Qa={b:Ma,n:!0},Ra={c:aa,f:0,b:x,g:10,e:{d:66},i:5E3},Sa={c:la,f:0,b:x,g:10,e:{d:2},i:5E3},Ta={c:la,f:0,b:x,
g:10,e:ba,i:5E3},Za={c:ka,f:0,b:x,g:10,e:{d:512},i:5E3},$a={q:u,d:256,u:u},ab={q:u,d:268,u:u},bb={q:u,d:3460,u:u},cb={q:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},d:256,u:u},db={c:qa,j:{"char":oa},f:7,b:x,g:10,e:q,i:5E3},eb=[ua,ya],fb={q:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},d:256,u:u},hb=[ua,gb,ya],ib={align:{b:[function(a){return a.toLowerCase()},
function(a){return y(a,/^(?:center|justify|left|right)$/)}],n:!1}};function jb(a){a:{for(var b in Ba(a))if("url"!==b){a=!0;break a}a=!1}return a}
var kb={c:la,f:2,b:x,g:10,e:{q:u,d:260,u:u},i:5E3},lb={c:pa,f:1,b:x,g:10,e:bb,i:5E3},mb={c:ma,f:8,b:x,g:10,e:{q:u,d:3456,u:u},i:5E3},nb={c:[65344,32581],f:1,b:x,g:10,e:bb,i:5E3},ob={c:ka,f:3,b:x,g:10,e:{q:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},d:264,u:u},i:5E3},pb={c:la,f:13,b:x,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},d:256,u:u},i:5E3},
qb={c:[65344,32578],f:10,b:x,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},d:3456,u:u},i:5E3},rb={c:ma,f:8,b:x,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,u:u},i:5E3},sb=[ua,ya,jb],tb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$s$ibandcamp"$k$g400px"><$s$k$c100%">$h$k$e><$n$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$o><$p$l@album_id">album=$b@album_id"/><$r$l@track_num">/t=$b@track_num"/></$r></$p><$m>track=$b@track_id"/></$m></$o></$n></iframe></$s></$s>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$l@lang"><$n$qclass">language-$b@lang"/></$n></$r>$f</code></pre>$d$aDAILYMOTION"><$s$idailymotion"$k$g640px"><$s$k$c56.25%">$h$t//www.dailymotion.com/embed/video/{@id}"$k$e/></$s></$s>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$thttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$b@char"/>$d$aHC"><xsl:comment>$b@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img$t{@src}">$jalt|@title"/></img>$d$aLIST"><$o><$p$lnot(@type)"><ul>$f</ul></$p><$m><ol>$jstart"/>$f</ol></$m></$o>$d$aLIVELEAK"><$s$iliveleak"$k$g640px"><$s$k$c56.25%">$h$t//www.liveleak.com/ll_embed?i={@id}"$k$e/></$s></$s>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$n$qsrc">https://w.soundcloud.com/player/?url=<$o><$p$l$u">https%3A//api.soundcloud.com/playlists/$b$u"/></$p><$p$l@track_id">https%3A//api.soundcloud.com/tracks/$b@track_id"/>&amp;secret_token=$b@secret_token"/></$p><$m><$r$lnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$b@id"/></$m></$o></$n><$n$qstyle">border:0;height:<$o><$p$l$u or contains(@id,\'/sets/\')">450</$p><$m>166</$m></$o>px;max-width:900px;width:100%</$n></iframe>$d$aSPOTIFY"><$s$ispotify"$k$g400px"><$s$k$c120%">$h$k$e><$n$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$o><$p$l@uri">$b@uri"/></$p><$m>spotify:$btranslate(@path,\'/\',\':\')"/></$m></$o></$n></iframe></$s></$s>$d$aTD"><td><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</td>$d$aTH"><th><$r$l@align"><$n$qstyle">text-align:$b@align"/></$n></$r>$f</th>$d$aTWITCH"><$s$itwitch"$k$g640px"><$s$k$c56.25%">$h$k$e><$n$qsrc"><$o><$p$l@clip_id">//clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$l@channel">$b@channel"/>/</$r>$b@clip_id"/></$p><$m>//player.twitch.tv/?autoplay=false&amp;<$o><$p$l@video_id">video=v$b@video_id"/></$p><$m>channel=$b@channel"/></$m></$o><$r$l@t">&amp;time=$b@t"/></$r></$m></$o></$n></iframe></$s></$s>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$s$ivimeo"$k$g640px"><$s$k$c56.25%">$h$t//player.vimeo.com/video/{@id}"$k$e/></$s></$s>$d$aVINE"><$s$ivine"$k$g480px"><$s$k$c100%">$h$thttps://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$s></$s>$d$aYOUTUBE"><$s$iyoutube"$k$g640px"><$s$k$c56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$n$qsrc">https://www.youtube.com/embed/$b@id"/><$r$l@list">?list=$b@list"/></$r><$r$l@t or@m"><$o><$p$l@list">&amp;</$p><$m>?</$m></$o>start=<$o><$p$l@t">$b@t"/></$p><$p$l@h">$b@h*3600+@m*60+@s"/></$p><$m>$b@m*60+@s"/></$m></$o></$r></$n></iframe></$s></$s>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$s"><$s>$jclass"/>$f</$s>$d$ahtml:td"><td>$jcol$s|@row$s"/>$f</td>$d$ahtml:th"><th>$jcol$s|@row$s|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-u]/g,
function(a){return{$a:'<xsl:template match="',$b:'<xsl:value-of select="',$c:"display:block;overflow:hidden;position:relative;padding-bottom:",$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:' test="',$m:"xsl:otherwise",$n:"xsl:attribute",$o:"xsl:choose",$p:"xsl:when",
$q:' name="',$r:"xsl:if",$s:"span",$t:' src="',$u:"@playlist_id"}[a]});function ub(a){var b=document.createElement("b");ub=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return ub(a)}function vb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function wb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function gb(){return!0}
function xb(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function y(a,b){return b.test(a)?a:!1}
function Ha(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,g){c[a]=""<b[g+1]?b[g+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function La(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=xb(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+xb(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment,c=c.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},c),b=b+c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,
"$1%3A",b));return b}
function Ka(a,b){if(""!==b.scheme&&!a.U.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,g=c.split(".");0<=--d;){if("0"===g[d].charAt(0)||255<g[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.X&&a.X.test(b.host)||a.aa&&!a.aa.test(b.host))return"URL host is not allowed"}}function yb(){}yb.prototype={o:function(){}};function zb(a,b,c,d,g){this.r=+a;this.l=b;this.k=+c;this.p=+d;"undefined"!==typeof g&&(this.E=+g);this.j={};this.M=[];isNaN(a+c+d)&&F(this)}zb.prototype.D=!1;function Ab(a,b){a.M.push(b);a.D&&F(b)}function F(a){a.D||(a.D=!0,a.M.forEach(function(a){F(a)}))}
function G(a,b){a.l===b.l&&(1===a.r&&2===b.r&&b.k>=a.k?(a.A=b,b.H=a,Ab(a,b)):2===a.r&&1===b.r&&b.k<=a.k&&(a.H=b,b.A=a))}function Ba(a){var b={},c;for(c in a.j)b[c]=a.j[c];return b}function Bb(a,b){return a.D||a.l!==b.l||1!==b.r||2!==a.r||a.k<b.k||a.H&&a.H!==b||b.A&&b.A!==a?!1:!0}zb.prototype.o=function(a,b){this.j[a]=b};function Ca(a,b){a.j={};for(var c in b)a.j[c]=b[c]}
var Cb,Db,K,Eb,L,Fb,Aa=new yb,Gb,O,P,Ib={Autoemail:{x:function(a,b){b.forEach(function(a){var b=Q(1,"EMAIL",a[0][1],0,0);b.o("email",a[0][0]);a=R("EMAIL",a[0][1]+a[0][0].length,0);G(b,a)})},y:"@",z:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,B:5E4},Autolink:{x:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=R("URL",b+a.length,0);"."===a.charAt(3)&&(a="http://"+a);b=Q(1,"URL",b,0,1);b.o("url",a);G(b,c)}})},y:"://",
z:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,B:5E4},Escaper:{x:function(a,b){b.forEach(function(a){S("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},y:"\\",z:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,B:5E4},FancyPants:{x:function(a){function b(a,b,c,d){a=Q(3,z,a,b,d||0||0);a.o(v,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,e;e=d.exec(a);)b(+e.index,
e[0].length,c[e[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153","1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,e=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=e.exec(a);)b(+d.index,d[0].length,c[d[0]])}function g(){if(!(0>a.indexOf("<<")))for(var c,
d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var e=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,2,"\u00bb");Ab(e,c)}}function f(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function e(c,d,e,g){for(var f;f=d.exec(a);){var p=b(+f.index+f[0].indexOf(c),1,e);f=b(+f.index+f[0].length-1,1,g);Ab(p,f)}}function l(){if(w)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),
1,"\u2019",10)}function h(){if(w||C||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032","'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,e=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=e.exec(a);){"x"===d[0].charAt(d[0].length-1)&&b(+d.index+d[0].length-1,1,"\u00d7");var g=d[0].substr(1,2);c[g]&&b(+d.index+1,1,c[g])}}function m(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,e;e=d.exec(a);)b(+e.index,e[0].length,c[e[0].toLowerCase()])}
var p={V:"char",L:"FP"},v=p.V,w=0<=a.indexOf("'"),C=0<=a.indexOf('"'),z=p.L;p.fa||(l(),w&&e("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),C&&e('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));p.ca||g();p.da||(f(),h(),d());p.ea||c();p.ga||m()}},HTMLComments:{x:function(a,b){b.forEach(function(a){var b=ub(a[0][0].substr(4,a[0][0].length-7)),b=b.replace(/[<>]/g,""),b=b.replace(/--/g,"");Q(3,"HC",a[0][1],a[0][0].length,0).o("content",b)})},y:"\x3c!--",z:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,B:5E4},HTMLElements:{x:function(a,
b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a.charAt(b[0][1]+1),f=b[0][1],e=b[0][0].length,l=b[2-d][0].toLowerCase(),h=c&&c[l]&&c[l][""]?c[l][""]:"html:"+l;if(d)R(h,f,e);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?S(h,f,e,f+e,0):Q(1,h,f,e,0);b=b[3][0];for(var f=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi,m;h=f.exec(b);)m=h[0].indexOf("="),0>m&&(m=h[0].length,h[0]+="="+h[0].toLowerCase()),
e=h[0].substr(0,m).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),h=h[0].substr(1+m).replace(/^\s+/,"").replace("/s+$/",""),c&&c[l]&&c[l][e]&&(e=c[l][e]),/^["']/.test(h)&&(h=h.substr(1,h.length-2)),d.o(e,ub(h))}})},y:"<",z:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
B:5E4},HTMLEntities:{x:function(a,b){b.forEach(function(a){var b=a[0][0],c=ub(b);c===b||32>c.charCodeAt(0)||Q(3,"HE",a[0][1],b.length,0).o("char",c)})},y:"&",z:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,B:5E4},Litedown:{x:function(a){function b(a,b,c,d,e){var k=S("IMG",a,2,b,c);D(k,d,"src");k.o("alt",f(e));z(a,b+c-a)}function c(a,b,c,d){var e=S("URL",a,1,b,c,1===c?1:-1);D(e,d,"url");z(a,1);z(b,c)}function d(a,b){G(R("LIST",b,0),a.Y);G(R("LI",b,0),a.J);a.S&&a.K.forEach(function(a){a.d&=-9})}function g(a,
b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function f(a){va.W&&-1<a.indexOf("&")&&(a=ub(a));a=a.replace(/\x1A/g,"");za&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`","\u001bC":"~"}[a]}));return a}function e(a){return a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2",
"\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6","\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]})}function l(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function h(){var b={};if(-1===a.indexOf("-")&&-1===a.indexOf("="))return b;for(var c,d=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;c=d.exec(a);){var e=c[0];c=c.index;for(var g=c-1;0<g&&" "===a[g-1];)--g;b[c-1]={O:c+e.length-g,P:g,$:e.length-e.replace(/>/g,"").length,
L:"="===e.charAt(0)?"H1":"H2"}}return b}function m(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function p(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function v(b,c){var d=a.indexOf(b);if(-1!==d){var e=[],g=[],f=f=a.indexOf("\u0017",d),k;for(c.lastIndex=d;k=c.exec(a);)d=k.index,k=k[0].length,d>f&&(g.push(e),e=[],f=a.indexOf("\u0017",d)),"_"===a[d]&&1===k&&0<d&&m(a[d-1])&&m(a[d+k])||e.push([d,k]);g.push(e);g.forEach(H)}}function w(){for(var b,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=
d.exec(a);){var e=b[1],g=b.index,f=3+e.length;c(g,g+b[0].length-f,f,e)}}function C(){for(var b={},d,e=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=e.exec(a);)b[d.index]=d[1].toLowerCase();for(var g in b){d=b[g];var e=+g+2+d.length,f=e-1,p=1;" "===a.charAt(e)&&++e;""<b[e]&&I[b[e]]&&(d=b[e],p=e+2+d.length-f);I[d]&&c(+g,f,p,I[d])}}function z(b,c){a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c)}function H(a){var b=0,c=-1,d=-1,e;a.forEach(function(a){var g=a[0];a=a[1];var f=Math.min(3,a),k=f&b&1,
f=f&b&2,p=g,l=g;2<b&&c===d&&(k?c+=2:++d);k&&f&&(c<d?p+=2:++l);e=a;k&&(--b,--e,S("EM",c,1,p,1));f&&(b-=2,e-=2,S("STRONG",d,2,l,2));e=Math.min(3,e);e&1&&(c=g+a-e);e&2&&(d=g+a-e);b+=e})}function D(a,b,c){b=b.replace(/^\s*/,"").replace(/\s*$/,"");var d="",e=b.indexOf(" ");-1!==e&&(d=b.substr(e).replace(/^\s*\S/,"").replace(/\S\s*$/,""),b=b.substr(0,e));a.o(c,f(b));""<d&&a.o("title",f(d))}var va={W:!0},ha,I,Ua,Va,Qb,Wa;if(0>a.indexOf("\\"))var za=!1;else za=!0,a=e(a);a+="\n\n\u0017";(function(){for(var b,
c=4,e,f=!0,m=[],v=0,w=!1,C=[],H=0,D=h(),V=0,I,da,va,N,ha,za,J,E,Xa,Ia,W,X,ja,Rb=[],Ya,Ja=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Ya=Ja.exec(a);)Rb.push(Ya),Ya.index===Ja.lastIndex&&++Ja.lastIndex;Rb.forEach(function(k){var h=k.index,wa=k[0].length;W=N=0;da=!f;J=a.indexOf("\n",h);f=J===h+wa&&!k[3]&&!k[4]&&!k[5];wa||++Ja.lastIndex;I=f&&da;k[1]&&(W=k[1].length-k[1].replace(/>/g,
"").length,N=k[1].length,e&&"quoteDepth"in e.j&&(W=Math.min(W,e.j.quoteDepth),N=g(k[1],W)),z(h,N));if(W<H&&!da){w=!0;do G(R("QUOTE",V,0),C.pop());while(W<--H)}if(W>H&&!f){w=!0;do{var ia=Q(1,"QUOTE",h,0,H-999||0);C.push(ia)}while(W>++H)}var M=0,ca=0;if(k[2]&&!b){ha=k[2];za=ha.length;do" "===ha.charAt(ca)?++M:M=M+4&-4;while(++ca<za&&M<c)}e&&!b&&M<c&&!f&&(w=!0);w&&(w=!1,e&&(z(e.k,V-e.k),va=R("CODE",V,0,-1),G(va,e),b=e=null),m.forEach(function(a){d(a,V)}),m=[],v=0,h&&p(h-1));if(M>=c){if(e||!da)N=(k[1]||
"").length+ca,e||(e=Q(1,"CODE",h+N,0,-999)),k={}}else{ia=!!k[4];if(M||da||ia)if(da&&!ia)E=v-1;else if(v)for(E=0;E<v&&M>m[E].Q;)++E;else E=!ia||da&&"\u0017"!==a.charAt(h-1)?-1:0;else E=-1;for(;E<v-1;)d(m.pop(),V),--v;E!==v||ia||--E;if(ia&&0<=E)if(I=!0,X=h+N+ca,ja=k[4].length,ca=Q(1,"LI",X,ja,0),z(X,ja),E<v)G(R("LI",V,0),m[E].J),m[E].J=ca,m[E].K.push(ca);else{++v;E?(Ia=m[E-1].Q+1,Xa=Math.max(Ia,4*E)):(Ia=0,Xa=M);M=Q(1,"LIST",X,0,0);if(-1<k[4].indexOf(".")){M.o("type","decimal");var Pb=+k[4];1!==Pb&&
M.o("start",Pb)}m.push({Y:M,J:ca,K:[ca],ha:Ia,Q:Xa,S:!0})}!v||da||f||(1<m[0].K.length||!ia)&&m.forEach(function(a){a.S=!1});c=4*(v+1)}if(k[5])if("#"===k[5].charAt(0))Ua=k[5].length,Va=h+wa-Ua,Wa=l(h+wa,J),Qb=J-Wa,S("H"+/#{1,6}/.exec(k[5])[0].length,Va,Ua,Qb,Wa),p(Va),p(J),da&&(I=!0);else{if("`"===k[5].charAt(0)||"~"===k[5].charAt(0))X=h+N,ja=J-X,e&&k[5]===b?(va=R("CODE",X,ja,-1),G(va,e),Hb(V,X-V),z(e.k,X+ja-e.k),b=e=null):e||(e=Q(1,"CODE",X,ja,0),b=k[5].replace(/[^`~]+/,""),e.o("quoteDepth",W),Hb(X+
ja,1),k=k[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==k&&e.o("lang",k))}else k[3]&&!v&&"\u0017"!==a.charAt(h+wa)?(Q(3,"HR",h+N,wa-N,0),I=!0,p(J)):!D[J]||D[J].$!==W||f||v||e||(S(D[J].L,h+N,0,D[J].P,D[J].O),p(D[J].P+D[J].O));I&&(Q(3,"pb",V,0,0),p(V));f||(V=J);N&&Hb(h,N,1E3)})})();(function(){ha=!1;I={};if(-1!==a.indexOf("]:"))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=c.exec(a);){Hb(b.index,b[0].length,-2);var d=b[1].toLowerCase();
I[d]||(ha=!0,I[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,e=[],f=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(f);)e.push({k:b.index,p:b[1].length,T:d,ba:b[2].length,R:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=e}f=-1;for(d=c.length;++f<d-1;)for(b=c[f].R,e=f,"`"!==a.charAt(c[f].k)&&(++c[f].k,--c[f].p);++e<d&&c[e].k===b;){if(c[e].p===c[f].p){var f=c[f],g=c[e],b=f.k,p=g.k-g.T,g=g.p+g.T;S("C",b,f.p+f.ba,p,g);z(b,
p+g-b);f=e;break}b=c[e].R}})();(function(){var c=a.indexOf("![");if(-1!==c){if(0<a.indexOf("](",c))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=d.exec(a);){var e=c[1],f=c.index,g=3+e.length;b(f,f+c[0].length-g,g,e,c[0].substr(2,c[0].length-g-2))}if(ha)for(d=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;c=d.exec(a);){var e=+c.index,f=e+2+c[1].length,g=1,p=c[1],h=p;if(""<c[2]&&I[c[2]])g=
c[0].length-p.length-2,h=c[2];else if(!I[h])continue;b(e,f,g,I[h],p)}}})();-1!==a.indexOf("](")&&w();ha&&C();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~/g;b=c.exec(a);){var d=b.index;S("DEL",d,2,d+b[0].length-2,2)}})();(function(){if(-1!==a.indexOf("^"))for(var b,c=/\^[^\x17\s]+/g;b=c.exec(a);){var d=b[0],e=b=b.index,f=b+d.length,d=d.split("^");d.shift();d.forEach(function(a){S("SUP",e,1,f,0);e+=1+a.length})}})();v("*",/\*+/g);v("_",/_+/g);(function(){for(var b=a.indexOf("  \n");-1!==
b;)Q(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{x:function(a,b){b.forEach(function(a){var b=a[0][0];Q(3,"MEDIA",a[0][1],b.length,-10).o("url",b)})},y:":",z:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,B:5E4},PipeTables:{x:function(a){function b(a,b){f=b.k;b.G.split("|").forEach(function(b,c){0<c&&(Ab(l,Hb(f,1,1E3)),++f);var d=e.N[c]?e.N[c]:"",g=f,h=g+b.length;f=h;var p=/^( *).*?( *)$/.exec(b);if(p[1]){var m=p[1].length;Ab(l,Hb(g,m,1E3));g+=m}p[2]&&(m=p[2].length,Ab(l,Hb(h-m,m,1E3)),h-=m);
h=g===h?Q(3,a,g,0,-101):S(a,g,0,h,0,-101);d&&h.o("align",d)});S("TR",b.k,0,f,0,-102)}function c(){if(e&&2<e.v.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(e.v[1].G)){for(var a=e,b=e.v[1].G,c=["","right","left","center"],d=[],f=/(:?)-+(:?)/g,g;g=f.exec(b);)d.push(c[(g[1]?2:0)+(g[2]?1:0)]);a.N=d;h.push(e)}e=null}function d(a){return a.replace(/>/g," ")}function g(a){return a.replace(/\|/g,".")}var f,e=null,l,h;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,g));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,
d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){e=null;h=[];f=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;e||(e={v:[]},d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");e.v.push({G:b,k:f+d})}f+=1+a.length});c()})();(function(){for(var a=-1,c=h.length;++a<c;){e=h[a];var d=e.v[e.v.length-1];l=S("TABLE",e.v[0].k,0,d.k+d.G.length,0,-104);b("TH",e.v[0]);S("THEAD",e.v[0].k,0,f,0,-103);d=e.v[1];Ab(l,Hb(d.k-
1,1+d.G.length,1E3));for(var d=1,g=e.v.length;++d<g;)b("TD",e.v[d]);S("TBODY",e.v[2].k,0,f,0,-103)}})()},y:"|"}},T,Ga={mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion","facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{U:/^(?:ftp|https?)$/i}},Jb={c:ka,d:8},
U={BANDCAMP:{c:r,j:{album_id:A,track_id:A,track_num:A,url:B},f:5,b:[gb,ya,jb],g:10,e:q,i:5E3},C:Ra,CODE:{c:aa,j:{lang:Fa},f:1,b:x,g:10,e:{q:u,d:4436,u:u},i:5E3},DAILYMOTION:{c:r,w:[["url",/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,n],["url",/^([A-Za-z0-9]+)$/,n]],j:{id:{b:[function(a){return y(a,/^[A-Za-z0-9]+$/)}],n:!0},url:B},f:5,b:eb,g:10,e:q,i:5E3},DEL:Za,EM:Sa,EMAIL:{c:ga,j:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],
n:!0}},f:5,b:x,g:10,e:ea,i:5E3},ESC:{c:aa,f:6,b:x,g:10,e:{d:1616},i:5E3},FACEBOOK:{c:r,w:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,n],["url",/\/(video)s?\//,["","type"]],ta],j:{id:Na,type:{b:[function(a){return y(a,/^video$/)}],n:!1},url:B},f:5,b:eb,g:10,e:q,i:5E3},FP:db,H1:kb,H2:kb,H3:kb,H4:kb,H5:kb,H6:kb,HC:{c:aa,j:{content:oa},f:6,b:x,g:10,e:{d:3153},i:5E3},HE:db,HR:{c:qa,f:1,b:x,g:10,e:{q:u,
d:3349},i:5E3},IMG:{c:qa,j:{alt:t,src:Qa,title:t},f:0,b:x,g:10,e:q,i:5E3},LI:ob,LIST:{c:pa,j:{start:{b:[function(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}],n:!1},type:Fa},f:1,b:x,g:10,e:bb,i:5E3},LIVELEAK:{c:r,w:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,n],["url",/^([a-f_0-9]+)$/,n]],j:{id:{b:[function(a){return y(a,/^[a-f_0-9]+$/)}],n:!0},url:B},f:5,b:eb,g:10,e:q,i:5E3},MEDIA:{c:[65527,32512],f:14,b:[function(a){return function(a,c){function b(a,b){var c=a.A||a;Ca(S(b.toUpperCase(),a.k,0,c.k+
c.p,0,a.E),Ba(a))}return function(a,c){if("site"in a.j){var d=a.j.site.toLowerCase();a:{for(f in c)if(c[f]===d){var f=!0;break a}f=!1}f&&b(a,d)}else if("url"in a.j){f=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.j.url);if(f[1]&&c[f[1]+":"])d=c[f[1]+":"];else if(f[2])a:{d=f[2];do{if(c[d]){d=c[d];break a}f=d.indexOf(".");if(0>f)break;d=d.substr(1+f)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Ga.mediasites)}],g:10,e:{d:513},i:5E3},QUOTE:{c:ka,f:1,b:x,g:10,e:ab,i:5E3},SOUNDCLOUD:{c:r,w:[["url",/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,
n],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/i,n]],j:{id:{b:[function(a){return y(a,/^(?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/i)}],n:!0},playlist_id:A,secret_token:Pa,track_id:A,url:B},f:5,b:hb,g:10,e:q,i:5E3},SPOTIFY:{c:r,
w:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,["","path"]]],j:{path:{b:[function(a){return y(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],n:!1},uri:{b:[function(a){return y(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],n:!1},url:B},f:5,b:sb,g:10,e:q,i:5E3},STRONG:Sa,SUP:Ta,TABLE:nb,TBODY:rb,TD:{c:ka,j:ib,f:9,b:x,g:10,e:fb,i:5E3},TH:{c:na,j:ib,f:9,b:x,g:10,e:fb,i:5E3},
THEAD:mb,TR:qb,TWITCH:{c:r,w:[["url",/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],["url",/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,["","t"]],["url",/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],j:{channel:Oa,clip_id:Oa,t:{b:[function(a){return y(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],n:!1},url:B,video_id:A},f:5,b:sb,g:10,e:q,i:5E3},URL:{c:ga,j:{title:t,url:Qa},f:4,b:x,g:10,e:ea,i:5E3},VIMEO:{c:r,w:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,
n],ta],j:{id:Na,url:B},f:5,b:eb,g:10,e:q,i:5E3},VINE:{c:r,w:[["url",/vine\.co\/v\/([^\/]+)/,n],["url",/^([^\/]+)$/,n]],j:{id:{b:[function(a){return y(a,/^[^\/]+$/)}],n:!0},url:B},f:5,b:eb,g:10,e:q,i:5E3},YOUTUBE:{c:r,w:[["url",/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,n],["url",/youtu\.be\/([-\w]+)/,n],["url",/[#&?]t=(?:(?:(\d+)h)?(\d+)m(\d+)|(\d+))/,["","h","m","s","t"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,n]],j:{h:A,id:{b:Ea,n:!0},list:Pa,m:A,s:A,t:A,
url:B},f:5,b:hb,g:10,e:q,i:5E3},"html:abbr":{c:la,j:{title:t},f:0,b:x,g:10,e:ba,i:5E3},"html:b":Sa,"html:br":{c:ra,f:0,b:x,g:10,e:fa,i:5E3},"html:code":Ra,"html:dd":{c:ka,f:11,b:x,g:10,e:cb,i:5E3},"html:del":Za,"html:div":{c:ka,j:sa,f:1,b:x,g:10,e:ab,i:5E3},"html:dl":{c:[65344,32584],f:1,b:x,g:10,e:bb,i:5E3},"html:dt":{c:na,f:11,b:x,g:10,e:cb,i:5E3},"html:i":Sa,"html:img":{c:ra,j:{alt:t,height:t,src:B,title:t,width:t},f:0,b:x,g:10,e:fa,i:5E3},"html:ins":Za,"html:li":ob,"html:ol":lb,"html:pre":{c:la,
f:1,b:x,g:10,e:{q:u,d:276,u:u},i:5E3},"html:rb":{c:la,f:12,b:x,g:10,e:$a,i:5E3},"html:rp":pb,"html:rt":pb,"html:rtc":{c:[65521,32608],f:12,b:x,g:10,e:$a,i:5E3},"html:ruby":{c:[65521,32624],f:0,b:x,g:10,e:ba,i:5E3},"html:span":{c:la,j:sa,f:0,b:x,g:10,e:ba,i:5E3},"html:strong":Sa,"html:sub":Ta,"html:sup":Ta,"html:table":nb,"html:tbody":rb,"html:td":{c:ka,j:{colspan:t,rowspan:t},f:9,b:x,g:10,e:fb,i:5E3},"html:tfoot":{c:ma,f:8,b:x,g:10,e:{q:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,
"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,u:u},i:5E3},"html:th":{c:na,j:{colspan:t,rowspan:t,scope:t},f:9,b:x,g:10,e:fb,i:5E3},"html:thead":mb,"html:tr":qb,"html:u":Sa,"html:ul":lb},Y,Kb,Z,Lb,Mb=0,Nb;
function Ob(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Cb={};Db={};Eb=0;L=null;Fb=!1;Gb={};O=[];P="";T=0;Y=[];Kb=!1;Z=a;Lb=Z.length;Nb=0;K=Jb;K.F=!1;++Mb;a=Mb;for(var b in Ib)if(!Ib[b].I)a:{var c=b,d=Ib[c];if(!(d.y&&0>Z.indexOf(d.y))){var g=[];if(d.z){var g=void 0,f=d.z,d=d.B;f.lastIndex=0;for(var e=[],l=0;++l<=d&&(g=f.exec(Z));){for(var h=+g.index,m=[[g[0],h]],p=0;++p<g.length;){var v=g[p];void 0===v?m.push(["",-1]):(m.push([v,Z.indexOf(v,h)]),h+=v.length)}e.push(m)}g=
e;if(!g.length)break a}(0,Ib[c].x)(Z,g)}}Sb();Tb(Lb,0,!0);do b=P,P=P.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(P!==b);P=P.replace(/<\/i><i>/g,"",P);P=P.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ub);c=Fb?"r":"t";b="<"+c;for(var w in Gb)b+=" xmlns:"+w+'="urn:s9e:TextFormatter:'+w+'"';P=b+">"+P+"</"+c+">";if(Mb!==a)throw"The parser has been reset during execution";return P}
function xa(a,b){b.w&&b.w.forEach(function(b){var c=b[0];if(c in a.j){b=Vb(a.j[c],b[1],b[2]);for(var g in b)g!==c&&g in a.j||a.o(g,b[g])}});return!0}function Vb(a,b,c){var d=b.exec(a);if(!d)return[];var g={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(g[a]=d[b])});return g}function Ub(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Wb(a){Fb=!0;var b=a.l,c=a.k,d=a.p,g=a.d,f=0,e=0;g&256&&(f=1,e=a.r&2?2:1);var l=!1;a.r&1?g&4&&(l=!0):l=!0;Tb(c,f,l);f=d?wb(Z.substr(c,d)):"";if(a.r&1){g&4||Xb(c);g=b.indexOf(":");0<g&&(Gb[b.substr(0,g)]=0);P+="<"+b;var h=Ba(a),g=[],m;for(m in h)g.push(m);g.sort(function(a,b){return a>b?1:-1});g.forEach(function(a){P+=" "+a+'="'+vb(h[a].toString()).replace(/\n/g,"&#10;")+'"'});P=3===a.r?d?P+(">"+f+"</"+b+">"):P+"/>":d?P+("><s>"+f+"</s>"):P+">"}else d&&(P+="<e>"+f+"</e>"),P+="</"+b+">";for(Nb=
T=c+d;e&&Nb<Lb&&"\n"===Z.charAt(Nb);)--e,++Nb}
function Tb(a,b,c){c&&(K.d&8?b=-1:c=!1);T>=a&&c&&Yb();if(Nb>T){var d=Math.min(a,Nb);P+=Z.substr(T,d-T);T=d;T>=a&&c&&Yb()}if(K.d&128)d=a-T,b=Z.substr(T,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),P+=b,T=a,c&&Yb();else{for(var g=a,d=0;b&&--g>=T;){var f=Z.charAt(g);if(" "!==f&&"\n"!==f&&"\t"!==f)break;"\n"===f&&--b;++d}a-=d;if(K.d&8)for(K.F||(Zb(a),a>T&&Xb(a)),b=Z.indexOf("\n\n",T);-1<b&&b<a;)Tb(b,0,!0),Xb(a),b=Z.indexOf("\n\n",T);a>T&&(b=wb(Z.substr(T,a-T)),P+=b);c&&Yb();d&&(P+=Z.substr(a,d));T=a+d}}
function $b(a){var b=a.k;a=a.p;var c=Z.substr(b,a);Tb(b,0,!1);P+="<i>"+wb(c)+"</i>";Fb=!0;T=b+a}function Xb(a){!K.F&&K.d&8&&(Zb(a),T<Lb&&(P+="<p>",K.F=!0))}function Yb(){K.F&&(P+="</p>",K.F=!1)}function Zb(a){for(;T<a&&-1<" \n\t".indexOf(Z.charAt(T));)P+=Z.charAt(T),++T}function ac(a,b){var c=a.l;(L.d|a.d)&256&&(b=bc(b));c=R(c,b,0);G(c,a)}function bc(a){for(;a>T&&-1<" \n\t".indexOf(Z.charAt(a-1));)--a;return a}
function Sb(){if(Y.length){for(var a in U)Cb[a]=0,Db[a]=0;do{for(;Y.length;)Kb||(Y.sort(cc),Kb=!0),L=Y.pop(),dc();O.forEach(function(a){ac(a,Lb)})}while(Y.length)}}
function dc(){K.d&64&&!Bb(L,O[O.length-1])&&!(-1<"br i pb v".indexOf(L.l))&&F(L);var a=L.k,b=L.p;if(T>a&&!L.D){var c;if((c=L.H)&&0<=O.indexOf(c)){G(R(c.l,T,Math.max(0,a+b-T)),c);return}if("i"===L.l&&(a=a+b-T,0<a)){Hb(T,a);return}F(L)}if(!L.D)if("i"===L.l)$b(L);else if("br"===L.l)K.d&1024||(Tb(L.k,0,!1),P+="<br/>");else if("pb"===L.l)Tb(L.k,0,!0);else if("v"===L.l)a=K.d,K.d=L.d,Tb(L.k+L.p,0,!1),K.d=a;else if(L.r&1)if(a=L,b=a.l,c=U[b],Db[b]>=c.i)F(a);else{var d=a,g=U[d.l],f=!0;if(g.b)for(var e=0;e<
g.b.length;++e)if(!g.b[e](d,g)){f=!1;break}if(f){if(d=1E4>Eb){a:{d=a;if(O.length&&(f=d.l,e=U[f],e.e.u)){var g=O[O.length-1],l=g.l;if(e.e.u[l]){if(l!==f&&1E4>Eb){f=d.k+d.p;Y.length?(e=Y[Y.length-1],e=e.k):e=Lb+1;for(;f<e&&-1<" \n\t".indexOf(Z[f]);)++f;f=ec(g,f);Ab(d,f)}Y.push(d);ac(g,d.k);Eb+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(O.length&&(g=U[d.l],g.e.q&&(f=O[O.length-1],g.e.q[f.l]))){++Eb;Y.push(d);ac(f,d.k);d=!0;break a}d=!1}d=d||!1}d||(Cb[b]>=c.g?F(a):(c=U[b].f,K.c[c>>3]&1<<(c&7)?(!(a.d&1)||a.A||
Y.length&&Bb(Y[Y.length-1],a)||(b=new zb(3,b,a.k,a.p),Ca(b,Ba(a)),b.d=a.d,a=b),a.d&4096&&!a.A&&"\n"===Z.charAt(a.k+a.p)&&Hb(a.k+a.p,1),Wb(a),fc(a)):F(a)))}else F(a)}else gc()}
function gc(){var a=L;if(Cb[a.l]){for(var b=[],c=O.length;0<=--c;){var d=O[c];if(Bb(a,d))break;b.push(d);++Eb}if(!(0>c)){var g=a.d;b.forEach(function(a){g|=a.d});var f=g&256,e=1E4>Eb,l=[];b.forEach(function(b){var c=b.l;e&&(b.d&2?l.push(b):e=!1);var d=a.k;f&&(d=bc(d));c=new zb(2,c,d,0);c.d=b.d;Wb(c);hc()});Wb(a);hc();if(b.length&&1E4>Eb){d=T;for(c=Y.length;0<=--c&&1E4>++Eb;){var h=Y[c];if(h.k>d||h.r&1)break;for(var m=b.length;0<=--m&&1E4>++Eb;)if(Bb(h,b[m])){b.splice(m,1);l[m]&&l.splice(m,1);d=Math.max(d,
h.k+h.p);break}}d>T&&$b(new zb(3,"i",T,d-T))}l.forEach(function(a){var b=ec(a,T);(a=a.A)&&G(b,a)})}}}function hc(){var a=O.pop();--Cb[a.l];K=K.Z}function fc(a){var b=a.l,c=a.d,d=U[b];++Db[b];if(3!==a.r){var g=[];c&512?K.c.forEach(function(a,b){g.push(d.c[b]&a)}):K.c.forEach(function(a,b){g.push(d.c[b]&(a&65280|a>>8))});c|=K.d&32;c&16&&(c&=-33);++Cb[b];O.push(a);K={c:g,d:c,Z:K}}}function R(a,b,c,d){return Q(2,a,b,c,d||0)}function Hb(a,b,c){return Q(3,"i",a,Math.min(b,Lb-a),c||0)}
function ec(a,b){var c=Q(a.r,a.l,b,0,a.E);Ca(c,Ba(a));return c}function Q(a,b,c,d,g){a=new zb(a,b,c,d,g||0);U[b]&&(a.d=U[b].e.d);if(U[b]||-1<"br i pb v".indexOf(a.l))if(U[b]&&U[b].I)F(a);else if(0>d||0>c||c+d>Lb)F(a);else if(Kb){for(b=Y.length;0<b&&0<cc(Y[b-1],a);)Y[b]=Y[b-1],--b;Y[b]=a}else Y.push(a);else F(a);return a}function S(a,b,c,d,g,f){d=R(a,d,g,-f||0);a=Q(1,a,b,c,f||0||0);G(a,d);return a}
function cc(a,b){var c=a.k,d=b.k;if(c!==d)return d-c;if(a.E!==b.E)return b.E-a.E;c=a.p;d=b.p;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.r]-c[a.r])}var ic="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function jc(a,b){if(ic){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function kc(a,b){if(ic){var c=b.createElement("div"),d=b.createDocumentFragment();lc.input=jc(a,"MSXML2.DOMDocument.6.0");lc.transform();for(c.innerHTML=lc.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(lc.transformToFragment(jc(a),b),!0)}var lc,mc=jc(tb,"MSXML2.FreeThreadedDOMDocument.6.0");if(ic){var nc=new ActiveXObject("MSXML2.XSLTemplate.6.0");nc.stylesheet=mc;lc=nc.createProcessor()}else lc=new XSLTProcessor,lc.importStylesheet(mc);
window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Ib[a]&&(Ib[a].I=!0)},enablePlugin:function(a){Ib[a]&&(Ib[a].I=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,f=c.length,l=e.length,w,C,z=0,H=0;z<f&&z<l;){w=c[z];C=e[z];if(!d(w,C))break;++z}for(var D=Math.min(f-z,l-z);H<D;){w=c[f-(H+1)];C=e[l-(H+1)];if(!d(w,C))break;++H}w=g.createDocumentFragment();for(D=z;D<l-H;)C=e[D].cloneNode(!0),w.appendChild(C),++D;for(D=f-H;--D>=z;)a.removeChild(c[D]);H?a.insertBefore(w,a.childNodes[z]):
a.appendChild(w)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d,e,f=a.attributes,g=b.attributes,l=g.length,C=f.length;0<=--C;)d=f[C],e=d.namespaceURI,d=d.name,b.hasAttributeNS(e,d)||a.removeAttributeNS(e,d);for(C=l;0<=--C;)f=g[C],e=f.namespaceURI,d=f.name,f=f.value,f!==a.getAttributeNS(e,d)&&a.setAttributeNS(e,d,f);c(a,
b);return!0}var g=b.ownerDocument,f=kc(Ob(a),g);c(b,f)}};})();

		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>