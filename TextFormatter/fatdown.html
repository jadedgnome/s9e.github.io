<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](http://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.3 KB (14.9 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[0,0],ba=["","t"],ca={d:0},p=["","id"],da={d:514},q={d:3089},ha={d:3201},ia=[65521,32576],r=[49360,16384],ja=[49344,16448],ka=[65527,32576],la=[64499,32576],ma=[53191,32576],na=[65344,32576],u={l:!1},oa=[65352,32576],pa={l:!0},qa=[65344,32580],ra={"class":u},sa=["url",/^(\d+)$/,p],w={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1};function ta(a,b){return ua(a,b)}var xa=[function(a){return z(a,/^\d+$/)}],ya=[function(a){return z(a,/^[-\w]+$/)}];
function za(a,b){a:{var c=Aa;if(b.i){var d,g=Ba(a);for(d in g){var e=g[d];if(b.i[d]){var f=b.i[d];if(f.b){c.n(d);for(var h=0;h<f.b.length;++h)if(e=f.b[h](e,d),!1===e){delete a.i[d];break}!1!==e&&a.n(d,e)}}else delete a.i[d]}for(d in b.i)if(f=b.i[d],!(d in a.i)&&f.l){c=!1;break a}}else Ca(a,{});c=!0}return c}
var A=[za],Ka=[function(a){var b=Da.urlConfig,c=Aa,d=Ea(a.replace(/^\s+/,"").replace(/\s+$/,""));Fa(b,d)?(c&&(d.attrValue=a),a=!1):a=Ja(d);return a}],La={b:[function(a){return z(a,/^\w+$/)}],l:!1},Ma={b:xa,l:!1},Na={b:xa,l:!0},Oa={b:ya,l:!1},Pa={b:[function(a){return z(a,/^[- +,.0-9A-Za-z_]+$/)}],l:!1},B={b:Ka,l:!1},Qa={b:Ka,l:!0},Ra={c:aa,f:0,b:A,g:10,e:{d:66},h:5E3},Wa={c:ia,f:0,b:A,g:10,e:ca,h:5E3},Xa={c:ia,f:0,b:A,g:10,e:{d:2},h:5E3},Ya={c:ka,f:0,b:A,g:10,e:{d:512},h:5E3},Za={o:w,d:268,q:w},$a=
{o:w,d:256,q:w},ab={o:w,d:3460,q:w},bb={o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},d:256,q:w},cb={c:ja,i:{"char":pa},f:7,b:A,g:10,e:q,h:5E3},db=[ta,za],eb={o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},d:256,q:w},gb=[ta,fb,za],hb={align:{b:[function(a){return a.toLowerCase()},function(a){return z(a,/^(?:center|justify|left|right)$/)}],
l:!1}};function ib(a){a:{for(var b in Ba(a))if("url"!==b){a=!0;break a}a=!1}return a}
var jb={c:ia,f:2,b:A,g:10,e:{o:w,d:260,q:w},h:5E3},kb={c:[65344,32581],f:1,b:A,g:10,e:ab,h:5E3},lb={c:oa,f:1,b:A,g:10,e:ab,h:5E3},mb={c:qa,f:8,b:A,g:10,e:{o:w,d:3456,q:w},h:5E3},nb={c:ka,f:3,b:A,g:10,e:{o:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},d:264,q:w},h:5E3},ob={c:ia,f:13,b:A,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},d:256,q:w},h:5E3},
pb={c:[65344,32578],f:10,b:A,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},qb={c:qa,f:8,b:A,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},rb=[ta,za,ib],sb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$s$ibandcamp"$k$g400px"><$s$k$b100%">$h$k$e><$l$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$o><$p$m@album_id">album=$c@album_id"/><$r$m@track_num">/t=$c@track_num"/></$r></$p><$n>track=$c@track_id"/></$n></$o></$l></iframe></$s></$s>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$m@lang"><$l$qclass">language-$c@lang"/></$l></$r>$f</code></pre>$d$aDAILYMOTION"><$s$idailymotion"$k$g640px"><$s$k$b56.25%">$h$t//www.dailymotion.com/embed/video/{@id}"$k$e/></$s></$s>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUB|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$thttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$c@char"/>$d$aHC"><xsl:comment>$c@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img$t{@src}">$jalt|@title"/></img>$d$aLIST"><$o><$p$mnot(@type)"><ul>$f</ul></$p><$n><ol>$jstart"/>$f</ol></$n></$o>$d$aLIVELEAK"><$s$iliveleak"$k$g640px"><$s$k$b56.25%">$h$t//www.liveleak.com/ll_embed?i={@id}"$k$e/></$s></$s>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$l$qsrc">https://w.soundcloud.com/player/?url=<$o><$p$m$u">https%3A//api.soundcloud.com/playlists/$c$u"/></$p><$p$m@track_id">https%3A//api.soundcloud.com/tracks/$c@track_id"/>&amp;secret_token=$c@secret_token"/></$p><$n><$r$mnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$c@id"/></$n></$o></$l><$l$qstyle">border:0;height:<$o><$p$m$u or contains(@id,\'/sets/\')">450</$p><$n>166</$n></$o>px;max-width:900px;width:100%</$l></iframe>$d$aSPOTIFY"><$s$ispotify"$k$g400px"><$s$k$b120%">$h$k$e><$l$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$o><$p$m@uri">$c@uri"/></$p><$n>spotify:$ctranslate(@path,\'/\',\':\')"/></$n></$o></$l></iframe></$s></$s>$d$aTD"><td><$r$m@align"><$l$qstyle">text-align:$c@align"/></$l></$r>$f</td>$d$aTH"><th><$r$m@align"><$l$qstyle">text-align:$c@align"/></$l></$r>$f</th>$d$aTWITCH"><$s$itwitch"$k$g640px"><$s$k$b56.25%">$h$k$e><$l$qsrc">//<$o><$p$m@clip_id">clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$m@channel">$c@channel"/>/</$r>$c@clip_id"/></$p><$n>player.twitch.tv/?autoplay=false&amp;<$o><$p$m@video_id">video=v$c@video_id"/></$p><$n>channel=$c@channel"/></$n></$o><$r$m@t">&amp;time=$c@t"/></$r></$n></$o></$l></iframe></$s></$s>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$s$ivimeo"$k$g640px"><$s$k$b56.25%">$h$t//player.vimeo.com/video/{@id}"$k$e/></$s></$s>$d$aVINE"><$s$ivine"$k$g480px"><$s$k$b100%">$h$thttps://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$s></$s>$d$aYOUTUBE"><$s$iyoutube"$k$g640px"><$s$k$b56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$l$qsrc">https://www.youtube.com/embed/$c@id"/><$r$m@list">?list=$c@list"/></$r><$r$m@t"><$o><$p$m@list">&amp;</$p><$n>?</$n></$o>start=$c@t"/></$r></$l></iframe></$s></$s>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$s"><$s>$jclass"/>$f</$s>$d$ahtml:td"><td>$jcol$s|@row$s"/>$f</td>$d$ahtml:th"><th>$jcol$s|@row$s|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-u]/g,
function(a){return{$a:'<xsl:template match="',$b:"display:block;overflow:hidden;position:relative;padding-bottom:",$c:'<xsl:value-of select="',$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:"xsl:attribute",$m:' test="',$n:"xsl:otherwise",$o:"xsl:choose",$p:"xsl:when",
$q:' name="',$r:"xsl:if",$s:"span",$t:' src="',$u:"@playlist_id"}[a]});function tb(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}function z(a,b){return b.test(a)?a:!1}
function Ea(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,g){c[a]=""<b[g+1]?b[g+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Ja(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=ub(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+ub(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/g,function(a){return a.toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A",
b));return b}
function Fa(a,b){if(""!==b.scheme&&!a.S.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,g=c.split(".");0<=--d;){if("0"===g[d][0]||255<g[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^([\da-f]{0,4}:){2,7}(?:[\da-f]{0,4}|\d+\.\d+\.\d+\.\d+)$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.U&&a.U.test(b.host)||a.Y&&!a.Y.test(b.host))return"URL host is not allowed"}}function vb(a){var b=document.createElement("b");vb=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return vb(a)}function wb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function xb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}
function ub(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function fb(){return!0}function yb(){}yb.prototype={n:function(){}};function zb(a,b,c,d,g){this.p=+a;this.k=b;this.j=+c;this.m=+d;"undefined"!==typeof g&&(this.B=+g);this.i={};this.K=[];isNaN(a+c+d)&&C(this)}zb.prototype.A=!1;function Ab(a,b){a.K.push(b);a.A&&C(b)}function C(a){a.A||(a.A=!0,a.K.forEach(function(a){C(a)}))}
function D(a,b){a.k===b.k&&(1===a.p&&2===b.p&&b.j>=a.j?(a.y=b,b.F=a,Ab(a,b)):2===a.p&&1===b.p&&b.j<=a.j&&(a.F=b,b.y=a))}function Ba(a){var b={},c;for(c in a.i)b[c]=a.i[c];return b}function Bb(a,b){return a.A||a.k!==b.k||1!==b.p||2!==a.p||a.j<b.j||a.F&&a.F!==b||b.y&&b.y!==a?!1:!0}zb.prototype.n=function(a,b){this.i[a]=b};function Ca(a,b){a.i={};for(var c in b)a.i[c]=b[c]}
var Cb,Db,G,I,J,Eb,Aa=new yb,Fb,K,L,Hb={Autoemail:{v:function(a,b){b.forEach(function(a){var b=N(1,"EMAIL",a[0][1],0,0);b.n("email",a[0][0]);a=O("EMAIL",a[0][1]+a[0][0].length,0);D(b,a)})},w:"@",x:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,z:5E4},Autolink:{v:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=O("URL",b+a.length,0);"."===a[3]&&(a="http://"+a);b=N(1,"URL",b,0,1);b.n("url",a);D(b,c)}})},w:"://",x:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
z:5E4},Escaper:{v:function(a,b){b.forEach(function(a){P("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},w:"\\",x:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,z:5E4},FancyPants:{v:function(a){function b(a,b,c,d){a=N(3,v,a,b,d||0);a.n(m,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,k;k=d.exec(a);)b(+k.index,k[0].length,c[k[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,k=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=k.exec(a);)b(+d.index,d[0].length,c[d[0]])}function g(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var k=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,
2,"\u00bb");Ab(k,c)}}function e(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function f(c,d,k,f){for(var m;m=d.exec(a);){var g=b(+m.index+m[0].indexOf(c),1,k);m=b(+m.index+m[0].length-1,1,f);Ab(g,m)}}function h(){if(y)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)}function l(){if(y||t||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,k=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=k.exec(a);){"x"===d[0][d[0].length-1]&&b(+d.index+d[0].length-1,1,"\u00d7");var m=d[0].substr(1,2);c[m]&&b(+d.index+1,1,c[m])}}function n(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,k;k=d.exec(a);)b(+k.index,k[0].length,c[k[0].toLowerCase()])}var k={T:"char",J:"FP"},m=k.T,y=0<=a.indexOf("'"),t=0<=a.indexOf('"'),v=k.J;k.ca||(h(),y&&f("'",
/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),t&&f('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));k.$||g();k.aa||(e(),l(),d());k.ba||c();k.da||n()}},HTMLComments:{v:function(a,b){b.forEach(function(a){var b=vb(a[0][0].substr(4,a[0][0].length-7));b=b.replace(/[<>]/g,"");b=b.replace(/--/g,"");N(3,"HC",a[0][1],a[0][0].length,0).n("content",b)})},w:"\x3c!--",x:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,z:5E4},HTMLElements:{v:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},
sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a[b[0][1]+1],e=b[0][1],f=b[0][0].length,h=b[2-d][0].toLowerCase(),l=c&&c[h]&&c[h][""]?c[h][""]:"html:"+h;if(d)O(l,e,f);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?P(l,e,f,e+f,0):N(1,l,e,f,0);b=b[3][0];e=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;for(var n;l=e.exec(b);)n=l[0].indexOf("="),0>n&&(n=l[0].length,l[0]+="="+l[0].toLowerCase()),f=l[0].substr(0,n).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),l=l[0].substr(1+n).replace(/^\s+/,
"").replace("/s+$/",""),c&&c[h]&&c[h][f]&&(f=c[h][f]),/^["']/.test(l)&&(l=l.substr(1,l.length-2)),d.n(f,vb(l))}})},w:"<",x:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
z:5E4},HTMLEntities:{v:function(a,b){b.forEach(function(a){var b=a[0][0],c=vb(b);c===b||32>c.charCodeAt(0)||N(3,"HE",a[0][1],b.length,0).n("char",c)})},w:"&",x:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,z:5E4},Litedown:{v:function(a){function b(a){-1<a.indexOf("&")&&(a=vb(a));a=a.replace(/\x1A/g,"");h&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`",
"\u001bC":"~"}[a]}));return a}function c(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function d(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function g(b,c){0<c&&(a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c))}function e(b,c,d,f){function k(d){d=a.indexOf(c+"(",d);if(-1!==d){var m;for(f.lastIndex=d;m=f.exec(a);){var v=m[0];m=+m.index;var e=v.length;P(b,m,2,m+e-1,1);g(m,e)}v&&k(d)}}var m=a.indexOf(c);-1!==m&&(function(k){var m;for(d.lastIndex=k;m=
d.exec(a);){k=m[0];m=+m.index;var f=k.substr(-1)===c?1:0;P(b,m,1,m+k.length-f,f)}}(m),k(m))}function f(a,c,d){c=c.replace(/^\s*/,"").replace(/\s*$/,"");var k="",f=c.indexOf(" ");-1!==f&&(k=c.substr(f).replace(/^\s*\S/,"").replace(/\S\s*$/,""),c=c.substr(0,f));a.n(d,b(c));""<k&&a.n("title",b(k))}var h=!1,l=!1,n={};0<=a.indexOf("\\")&&(h=!0,a=a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6",
"\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]}));a+="\n\n\u0017";(function(){function b(a,b){D(O("LIST",b,0),a.V);D(O("LI",b,0),a.H);a.Q&&a.I.forEach(function(a){a.d&=-9})}function c(a,b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function f(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function e(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var b,c=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=c.exec(a);){var d=
b[0];b=b.index;for(var f=b-1;0<f&&" "===a[f-1];)--f;v[b-1]={M:b+d.length-f,N:f,X:d.length-d.replace(/>/g,"").length,J:"="===d[0]?"H1":"H2"}}}var v={};(function(){e();for(var k,m=4,h,l=!0,y=[],t=0,n=!1,Pb=[],va=0,Q=0,wa,ea,Ga,M,Ta,Qb,H,E,Ua,Ha,V,W,fa,Rb=[],Va,Ia=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Va=Ia.exec(a);)Rb.push(Va),Va.index===Ia.lastIndex&&++Ia.lastIndex;
Rb.forEach(function(e){var x=e.index,Z=e[0].length,F;V=M=0;ea=!l;H=a.indexOf("\n",x);l=H===x+Z&&!e[3]&&!e[4]&&!e[5];Z||++Ia.lastIndex;wa=l&&ea;e[1]&&(V=e[1].length-e[1].replace(/>/g,"").length,M=e[1].length,h&&"quoteDepth"in h.i&&(V=Math.min(V,h.i.quoteDepth),M=c(e[1],V)),g(x,M));if(V<va&&!ea){n=!0;do D(O("QUOTE",Q,0),Pb.pop());while(V<--va)}if(V>va&&!l){n=!0;do{var U=N(1,"QUOTE",x,0,va-999||0);Pb.push(U)}while(V>++va)}var R=F=0;if(e[2]&&!k){Ta=e[2];Qb=Ta.length;do" "===Ta[R]?++F:F=F+4&-4;while(++R<
Qb&&F<m)}h&&!k&&F<m&&!l&&(n=!0);n&&(n=!1,h&&(Q>h.j?(g(h.j,Q-h.j),Ga=O("CODE",Q,0,-1),D(Ga,h)):C(h),k=h=null),y.forEach(function(a){b(a,Q)}),y=[],t=0,x&&d(x-1));if(F>=m){if(h||!ea)M=(e[1]||"").length+R,h||(h=N(1,"CODE",x+M,0,-999)),e={}}else{U=!!e[4];if(F||ea||U)if(ea&&!U)E=t-1;else if(t)for(E=0;E<t&&F>y[E].O;)++E;else E=U?0:-1;else E=-1;for(;E<t-1;)b(y.pop(),Q),--t;E!==t||U||--E;if(U&&0<=E)if(wa=!0,W=x+M+R,fa=e[4].length,R=N(1,"LI",W,fa,0),g(W,fa),E<t)D(O("LI",Q,0),y[E].H),y[E].H=R,y[E].I.push(R);
else{++t;E?(Ha=y[E-1].O+1,Ua=Math.max(Ha,4*E)):(Ha=0,Ua=F);F=N(1,"LIST",W,0,0);if(-1<e[4].indexOf(".")){F.n("type","decimal");var Ob=+e[4];1!==Ob&&F.n("start",Ob)}y.push({V:F,H:R,I:[R],ea:Ha,O:Ua,Q:!0})}!t||ea||l||(1<y[0].I.length||!U)&&y.forEach(function(a){a.Q=!1});m=4*(t+1)}if(e[5])if("#"===e[5][0])R=e[5].length,U=x+Z-R,F=f(x+Z,H),Z=H-F,P("H"+/#{1,6}/.exec(e[5])[0].length,U,R,Z,F),d(U),d(H),ea&&(wa=!0);else{if("`"===e[5][0]||"~"===e[5][0])W=x+M,fa=H-W,h&&e[5]===k?(Ga=O("CODE",W,fa,-1),D(Ga,h),
Gb(Q,W-Q),g(h.j,W+fa-h.j),k=h=null):h||(h=N(1,"CODE",W,fa,0),k=e[5].replace(/[^`~]+/,""),h.n("quoteDepth",V),Gb(W+fa,1),e=e[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==e&&h.n("lang",e))}else e[3]&&!t&&"\u0017"!==a[x+Z]?(N(3,"HR",x+M,Z-M,0),wa=!0,d(H)):!v[H]||v[H].X!==V||l||t||h||(P(v[H].J,x+M,0,v[H].N,v[H].M),d(v[H].N+v[H].M));wa&&(N(3,"pb",Q,0,0),d(Q));l||(Q=H);M&&Gb(x,M,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=
c.exec(a);){Gb(b.index,b[0].length,-2);var d=b[1].toLowerCase();n[d]||(l=!0,n[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,f=[],e=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(e);)f.push({j:b.index,m:b[1].length,R:d,Z:b[2].length,P:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=f}e=-1;for(d=c.length;++e<d-1;)for(b=c[e].P,f=e,"`"!==a[c[e].j]&&(++c[e].j,--c[e].m);++f<d&&c[f].j===b;){if(c[f].m===c[e].m){e=c[e];var h=
c[f];b=e.j;var l=h.j-h.R;h=h.m+h.R;P("C",b,e.m+e.Z,l,h);g(b,l+h-b);e=f;break}b=c[f].P}})();(function(){function c(a,c,d,e,k){var m=P("IMG",a,2,c,d);f(m,e,"src");m.n("alt",b(k));g(a,c+d-a)}(function(){var b=a.indexOf("![");if(-1!==b){if(0<a.indexOf("](",b))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=d.exec(a);){var f=b[1],e=b.index,k=3+f.length;c(e,e+b[0].length-k,k,f,b[0].substr(2,b[0].length-k-
2))}if(l)for(d=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;b=d.exec(a);){f=+b.index;e=f+2+b[1].length;k=1;var g=b[1],h=g;if(""<b[2]&&n[b[2]])k=b[0].length-g.length-2,h=b[2];else if(!n[h])continue;c(f,e,k,n[h],g)}}})()})();(function(){function b(a,b,c,d){var e=P("URL",a,1,b,c,1===c?1:-1);f(e,d,"url");g(a,1);g(b,c)}function c(){for(var c,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=d.exec(a);){var f=
c[1],e=c.index,k=3+f.length;b(e,e+c[0].length-k,k,f)}}function d(){for(var c={},d,f=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=f.exec(a);)c[d.index]=d[1].toLowerCase();for(var e in c){d=c[e];f=+e+2+d.length;var k=f-1,g=1;" "===a[f]&&++f;""<c[f]&&n[c[f]]&&(d=c[f],g=f+2+d.length-k);n[d]&&b(+e,k,g,n[d])}}-1!==a.indexOf("](")&&c();l&&d()})();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~(?!~)/g;b=c.exec(a);){var d=b.index;b=d+b[0].length-2;P("DEL",d,2,b,2);g(d,2);g(b,2)}})();e("SUB","~",
/~(?!\()[^\x17\s~()]+~?/g,/~\([^\x17()]+\)/g);e("SUP","^",/\^(?!\()[^\x17\s^()]+\^?/g,/\^\([^\x17()]+\)/g);(function(){function b(b,f){var e=a.indexOf(b);if(-1!==e){var g=[],k=[],h=a.indexOf("\u0017",e),m;for(f.lastIndex=e;m=f.exec(a);)e=m.index,m=m[0].length,e>h&&(k.push(g),g=[],h=a.indexOf("\u0017",e)),"_"===a.charAt(e)&&1===m&&0<e&&c(a[e-1])&&c(a[e+m])||g.push([e,m]);k.push(g);k.forEach(d)}}function d(b){n=g=null;b.forEach(function(b){var c=b[0];b=b[1];var d=!(-1<" \n\t".indexOf(a[c+b-1+1])),k=
0<c&&-1<" \n\t".indexOf(a.charAt(c-1))?0:Math.min(b,3);f=k&1&&null!==g;e=k&2&&null!==n;Sa=h=c;l=b;null!==g&&g===n&&(f?g+=2:++n);f&&e&&(g<n?h+=2:++Sa);f&&(--l,P("EM",g,1,h,1),g=null);e&&(l-=2,P("STRONG",n,2,Sa,2),n=null);l=d?Math.min(l,3):0;c+=b;l&1&&(g=c-l);l&2&&(n=c-l)})}var f,e,g,h,l,n,Sa;b("*",/\*+/g);b("_",/_+/g)})();(function(){for(var b=a.indexOf("  \n");0<b;)N(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{v:function(a,b){b.forEach(function(a){var b=a[0][0];N(3,"MEDIA",a[0][1],b.length,
-10).n("url",b)})},w:":",x:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,z:5E4},PipeTables:{v:function(a){function b(a,b){e=b.j;b.E.split("|").forEach(function(b,c){0<c&&(Ab(h,Gb(e,1,1E3)),++e);var d=f.L[c]?f.L[c]:"",g=e,k=g+b.length;e=k;var m=/^( *).*?( *)$/.exec(b);if(m[1]){var l=m[1].length;Ab(h,Gb(g,l,1E3));g+=l}m[2]&&(l=m[2].length,Ab(h,Gb(k-l,l,1E3)),k-=l);k=g===k?N(3,a,g,0,-101):P(a,g,0,k,0,-101);d&&k.n("align",d)});P("TR",b.j,0,e,0,-102)}function c(){if(f&&2<f.r.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(f.r[1].E)){for(var a=
f,b=f.r[1].E,c=["","right","left","center"],d=[],e=/(:?)-+(:?)/g,g;g=e.exec(b);)d.push(c[(g[1]?2:0)+(g[2]?1:0)]);a.L=d;l.push(f)}f=null}function d(a){return a.replace(/>/g," ")}function g(a){return a.replace(/\|/g,".")}var e,f=null,h,l;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,g));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){f=null;l=[];e=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;f||(f={r:[]},
d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");f.r.push({E:b,j:e+d})}e+=1+a.length});c()})();(function(){for(var a=-1,c=l.length;++a<c;){f=l[a];var d=f.r[f.r.length-1];h=P("TABLE",f.r[0].j,0,d.j+d.E.length,0,-104);b("TH",f.r[0]);P("THEAD",f.r[0].j,0,e,0,-103);d=f.r[1];Ab(h,Gb(d.j-1,1+d.E.length,1E3));d=1;for(var g=f.r.length;++d<g;)b("TD",f.r[d]);P("TBODY",f.r[2].j,0,e,0,-103)}})()},w:"|"}},S,Da={mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion",
"facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{S:/^(?:ftp|https?)$/i}},Ib={c:ka,d:8},T={BANDCAMP:{c:r,i:{album_id:Ma,track_id:Ma,track_num:Ma,url:B},f:5,b:[fb,za,ib],g:10,e:q,h:5E3},C:Ra,CODE:{c:aa,i:{lang:Pa},f:1,b:A,g:10,e:{o:w,d:4436,q:w},h:5E3},DAILYMOTION:{c:r,u:[["url",
/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,p],["url",/^([A-Za-z0-9]+)$/,p]],i:{id:{b:[function(a){return z(a,/^[A-Za-z0-9]+$/)}],l:!0},url:B},f:5,b:db,g:10,e:q,h:5E3},DEL:Ya,EM:Xa,EMAIL:{c:ma,i:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],l:!0}},f:5,b:A,g:10,e:da,h:5E3},ESC:{c:aa,f:6,b:A,g:10,e:{d:1616},h:5E3},FACEBOOK:{c:r,u:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,
p],["url",/\/(video)s?\//,["","type"]],sa],i:{id:Na,type:{b:[function(a){return z(a,/^video$/)}],l:!1},url:B},f:5,b:db,g:10,e:q,h:5E3},FP:cb,H1:jb,H2:jb,H3:jb,H4:jb,H5:jb,H6:jb,HC:{c:aa,i:{content:pa},f:6,b:A,g:10,e:{d:3153},h:5E3},HE:cb,HR:{c:ja,f:1,b:A,g:10,e:{o:w,d:3349},h:5E3},IMG:{c:ja,i:{alt:u,src:Qa,title:u},f:0,b:A,g:10,e:q,h:5E3},LI:nb,LIST:{c:oa,i:{start:{b:[function(a){return tb(a)}],l:!1},type:Pa},f:1,b:A,g:10,e:ab,h:5E3},LIVELEAK:{c:r,u:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,p],
["url",/^([a-f_0-9]+)$/,p]],i:{id:{b:[function(a){return z(a,/^[a-f_0-9]+$/)}],l:!0},url:B},f:5,b:db,g:10,e:q,h:5E3},MEDIA:{c:[65527,32512],f:14,b:[function(a){return function(a,c){function b(a,b){var c=a.y;if(c){var d=a.j,e=a.m,g=c.j;c=c.m}else d=a.j,e=0,g=a.j+a.m,c=0;Ca(P(b.toUpperCase(),d,e,g,c,a.B),Ba(a))}return function(a,c){if("site"in a.i){var d=a.i.site.toLowerCase();a:{for(e in c)if(c[e]===d){var e=!0;break a}e=!1}e&&b(a,d)}else if("url"in a.i){e=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.i.url);
if(e[1]&&c[e[1]+":"])d=c[e[1]+":"];else if(e[2])a:{d=e[2];do{if(c[d]){d=c[d];break a}e=d.indexOf(".");if(0>e)break;d=d.substr(1+e)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Da.mediasites)}],g:10,e:{d:513},h:5E3},QUOTE:{c:ka,f:1,b:A,g:10,e:Za,h:5E3},SOUNDCLOUD:{c:r,u:[["url",/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,p],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,
["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/i,p]],i:{id:{b:[function(a){return z(a,/^(?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/i)}],l:!0},playlist_id:Ma,secret_token:Oa,track_id:Ma,url:B},f:5,b:gb,g:10,e:q,h:5E3},SPOTIFY:{c:r,u:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,
["","path"]]],i:{path:{b:[function(a){return z(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],l:!1},uri:{b:[function(a){return z(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],l:!1},url:B},f:5,b:rb,g:10,e:q,h:5E3},STRONG:Xa,SUB:Wa,SUP:Wa,TABLE:kb,TBODY:qb,TD:{c:ka,i:hb,f:9,b:A,g:10,e:eb,h:5E3},TH:{c:la,i:hb,f:9,b:A,g:10,e:eb,h:5E3},THEAD:mb,TR:pb,TWITCH:{c:r,u:[["url",/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],["url",/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],
["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,ba],["url",/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],i:{channel:La,clip_id:La,t:{b:[function(a){return z(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],l:!1},url:B,video_id:Ma},f:5,b:rb,g:10,e:q,h:5E3},URL:{c:ma,i:{title:u,url:Qa},f:4,b:A,g:10,e:da,h:5E3},VIMEO:{c:r,u:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,p],sa],i:{id:Na,url:B},f:5,b:db,g:10,e:q,h:5E3},VINE:{c:r,u:[["url",/vine\.co\/v\/([^\/]+)/,p],["url",/^([^\/]+)$/,p]],i:{id:{b:[function(a){return z(a,
/^[^\/]+$/)}],l:!0},url:B},f:5,b:db,g:10,e:q,h:5E3},YOUTUBE:{c:r,u:[["url",/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,p],["url",/youtu\.be\/([-\w]+)/,p],["url",/[#&?]t=(\d[\dhms]*)/,ba],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,p]],i:{id:{b:ya,l:!0},list:Oa,t:{b:[function(a){var b=/^(?=\d)(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/.exec(a);return b?3600*(b[1]||0)+60*(b[2]||0)+(+b[3]||0):tb(a)}],l:!1},url:B},f:5,b:gb,g:10,e:q,h:5E3},"html:abbr":{c:ia,i:{title:u},f:0,
b:A,g:10,e:ca,h:5E3},"html:b":Xa,"html:br":{c:na,f:0,b:A,g:10,e:ha,h:5E3},"html:code":Ra,"html:dd":{c:ka,f:11,b:A,g:10,e:bb,h:5E3},"html:del":Ya,"html:div":{c:ka,i:ra,f:1,b:A,g:10,e:Za,h:5E3},"html:dl":{c:[65344,32584],f:1,b:A,g:10,e:ab,h:5E3},"html:dt":{c:la,f:11,b:A,g:10,e:bb,h:5E3},"html:i":Xa,"html:img":{c:na,i:{alt:u,height:u,src:B,title:u,width:u},f:0,b:A,g:10,e:ha,h:5E3},"html:ins":Ya,"html:li":nb,"html:ol":lb,"html:pre":{c:ia,f:1,b:A,g:10,e:{o:w,d:276,q:w},h:5E3},"html:rb":{c:ia,f:12,b:A,
g:10,e:$a,h:5E3},"html:rp":ob,"html:rt":ob,"html:rtc":{c:[65521,32608],f:12,b:A,g:10,e:$a,h:5E3},"html:ruby":{c:[65521,32624],f:0,b:A,g:10,e:ca,h:5E3},"html:span":{c:ia,i:ra,f:0,b:A,g:10,e:ca,h:5E3},"html:strong":Xa,"html:sub":Wa,"html:sup":Wa,"html:table":kb,"html:tbody":qb,"html:td":{c:ka,i:{colspan:u,rowspan:u},f:9,b:A,g:10,e:eb,h:5E3},"html:tfoot":{c:qa,f:8,b:A,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,
"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},"html:th":{c:la,i:{colspan:u,rowspan:u,scope:u},f:9,b:A,g:10,e:eb,h:5E3},"html:thead":mb,"html:tr":pb,"html:u":Xa,"html:ul":lb},X,Jb,Y,Kb,Lb=0,Mb;
function Nb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Cb={};Db={};I=0;J=null;Eb=!1;Fb={};K=[];L="";S=0;X=[];Jb=!1;Y=a;Kb=Y.length;Mb=0;G=Ib;G.D=!1;++Lb;a=Lb;for(var b in Hb)if(!Hb[b].G)a:{var c=b,d=Hb[c];if(!(d.w&&0>Y.indexOf(d.w))){var g=[];if(d.x){g=void 0;var e=d.x;d=d.z;e.lastIndex=0;for(var f=[],h=0;++h<=d&&(g=e.exec(Y));){for(var l=+g.index,n=[[g[0],l]],k=0;++k<g.length;){var m=g[k];void 0===m?n.push(["",-1]):(n.push([m,Y.indexOf(m,l)]),l+=m.length)}f.push(n)}g=
f;if(!g.length)break a}(0,Hb[c].v)(Y,g)}}Sb();Tb(Kb,0,!0);do b=L,L=L.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(L!==b);L=L.replace(/<\/i><i>/g,"",L);L=L.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ub);c=Eb?"r":"t";b="<"+c;for(var y in Fb)b+=" xmlns:"+y+'="urn:s9e:TextFormatter:'+y+'"';L=b+">"+L+"</"+c+">";if(Lb!==a)throw"The parser has been reset during execution";return L}
function ua(a,b){b.u&&b.u.forEach(function(b){var c=b[0];if(c in a.i){b=Vb(a.i[c],b[1],b[2]);for(var g in b)g!==c&&g in a.i||a.n(g,b[g])}});return!0}function Vb(a,b,c){var d=b.exec(a);if(!d)return[];var g={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(g[a]=d[b])});return g}function Ub(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Wb(a){Eb=!0;var b=a.k,c=a.j,d=a.m,g=a.d,e=0,f=0;g&256&&(e=1,f=a.p&2?2:1);var h=!1;a.p&1?g&4&&(h=!0):h=!0;Tb(c,e,h);e=d?xb(Y.substr(c,d)):"";if(a.p&1){g&4||Xb(c);g=b.indexOf(":");0<g&&(Fb[b.substr(0,g)]=0);L+="<"+b;var l=Ba(a);g=[];for(var n in l)g.push(n);g.sort(function(a,b){return a>b?1:-1});g.forEach(function(a){L+=" "+a+'="'+wb(l[a].toString()).replace(/\n/g,"&#10;")+'"'});L=3===a.p?d?L+(">"+e+"</"+b+">"):L+"/>":d?L+("><s>"+e+"</s>"):L+">"}else d&&(L+="<e>"+e+"</e>"),L+="</"+b+">";for(Mb=
S=c+d;f&&Mb<Kb&&"\n"===Y[Mb];)--f,++Mb}
function Tb(a,b,c){c&&(G.d&8?b=-1:c=!1);S>=a&&c&&Yb();if(Mb>S){var d=Math.min(a,Mb);L+=Y.substr(S,d-S);S=d;S>=a&&c&&Yb()}if(G.d&128)d=a-S,b=Y.substr(S,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),L+=b,S=a,c&&Yb();else{var g=a;for(d=0;b&&--g>=S;){var e=Y[g];if(" "!==e&&"\n"!==e&&"\t"!==e)break;"\n"===e&&--b;++d}a-=d;if(G.d&8)for(G.D||(Zb(a),a>S&&Xb(a)),b=Y.indexOf("\n\n",S);-1<b&&b<a;)Tb(b,0,!0),Xb(a),b=Y.indexOf("\n\n",S);a>S&&(b=xb(Y.substr(S,a-S)),L+=b);c&&Yb();d&&(L+=Y.substr(a,d));S=a+d}}
function $b(a){var b=a.j;a=a.m;var c=Y.substr(b,a);Tb(b,0,!1);L+="<i>"+xb(c)+"</i>";Eb=!0;S=b+a}function Xb(a){!G.D&&G.d&8&&(Zb(a),S<Kb&&(L+="<p>",G.D=!0))}function Yb(){G.D&&(L+="</p>",G.D=!1)}function Zb(a){for(;S<a&&-1<" \n\t".indexOf(Y[S]);)L+=Y[S],++S}function ac(a,b){var c=a.k;(J.d|a.d)&256&&(b=bc(b));c=O(c,b,0);D(c,a)}function bc(a){for(;a>S&&-1<" \n\t".indexOf(Y[a-1]);)--a;return a}
function Sb(){if(X.length){for(var a in T)Cb[a]=0,Db[a]=0;do{for(;X.length;)Jb||(X.sort(cc),Jb=!0),J=X.pop(),dc();K.forEach(function(a){ac(a,Kb)})}while(X.length)}}
function dc(){G.d&64&&!Bb(J,K[K.length-1])&&!(-1<"br i pb v".indexOf(J.k))&&C(J);var a=J.j,b=J.m;if(S>a&&!J.A){var c;if((c=J.F)&&0<=K.indexOf(c)){D(O(c.k,S,Math.max(0,a+b-S)),c);return}if("i"===J.k&&(a=a+b-S,0<a)){Gb(S,a);return}C(J)}if(!J.A)if("i"===J.k)$b(J);else if("br"===J.k)G.d&1024||(Tb(J.j,0,!1),L+="<br/>");else if("pb"===J.k)Tb(J.j,0,!0);else if("v"===J.k)a=G.d,G.d=J.d,Tb(J.j+J.m,0,!1),G.d=a;else if(J.p&1)if(a=J,b=a.k,c=T[b],Db[b]>=c.h)C(a);else{var d=a,g=T[d.k],e=!0;if(g.b)for(var f=0;f<
g.b.length;++f)if(!g.b[f](d,g)){e=!1;break}if(e){if(d=1E4>I){a:{d=a;if(K.length&&(e=d.k,f=T[e],f.e.q)){g=K[K.length-1];var h=g.k;if(f.e.q[h]){if(h!==e&&1E4>I){e=d.j+d.m;X.length?(f=X[X.length-1],f=f.j):f=Kb+1;for(;e<f&&-1<" \n\t".indexOf(Y[e]);)++e;e=ec(g,e);Ab(d,e)}X.push(d);ac(g,d.j);I+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(K.length&&(g=T[d.k],g.e.o&&(e=K[K.length-1],g.e.o[e.k]))){++I;X.push(d);ac(e,d.j);d=!0;break a}d=!1}d=d||!1}d||(Cb[b]>=c.g?C(a):(c=T[b].f,G.c[c>>3]&1<<(c&7)?(!(a.d&1)||a.y||X.length&&
Bb(X[X.length-1],a)||(b=new zb(3,b,a.j,a.m),Ca(b,Ba(a)),b.d=a.d,a=b),a.d&4096&&!a.y&&"\n"===Y[a.j+a.m]&&Gb(a.j+a.m,1),Wb(a),fc(a)):C(a)))}else C(a)}else gc()}
function gc(){var a=J;if(Cb[a.k]){for(var b=[],c=K.length;0<=--c;){var d=K[c];if(Bb(a,d))break;b.push(d);++I}if(!(0>c)){var g=a.d;b.forEach(function(a){g|=a.d});var e=g&256,f=1E4>I,h=[];b.forEach(function(b){var c=b.k;f&&(b.d&2?h.push(b):f=!1);var d=a.j;e&&(d=bc(d));c=new zb(2,c,d,0);c.d=b.d;Wb(c);hc()});Wb(a);hc();if(b.length&&1E4>I){d=S;for(c=X.length;0<=--c&&1E4>++I;){var l=X[c];if(l.j>d||l.p&1)break;for(var n=b.length;0<=--n&&1E4>++I;)if(Bb(l,b[n])){b.splice(n,1);h[n]&&h.splice(n,1);d=Math.max(d,
l.j+l.m);break}}d>S&&$b(new zb(3,"i",S,d-S))}h.forEach(function(a){var b=ec(a,S);(a=a.y)&&D(b,a)})}}}function hc(){var a=K.pop();--Cb[a.k];G=G.W}function fc(a){var b=a.k,c=a.d,d=T[b];++Db[b];if(3!==a.p){var g=[];c&512?G.c.forEach(function(a,b){g.push(d.c[b]&a)}):G.c.forEach(function(a,b){g.push(d.c[b]&(a&65280|a>>8))});c|=G.d&32;c&16&&(c&=-33);++Cb[b];K.push(a);G={c:g,d:c,W:G}}}function O(a,b,c,d){return N(2,a,b,c,d||0)}function Gb(a,b,c){return N(3,"i",a,Math.min(b,Kb-a),c||0)}
function ec(a,b){var c=N(a.p,a.k,b,0,a.B);Ca(c,Ba(a));return c}function N(a,b,c,d,g){a=new zb(a,b,c,d,g||0);T[b]&&(a.d=T[b].e.d);if(T[b]||-1<"br i pb v".indexOf(a.k))if(T[b]&&T[b].G)C(a);else if(0>d||0>c||c+d>Kb)C(a);else if(Jb){for(b=X.length;0<b&&0<cc(X[b-1],a);)X[b]=X[b-1],--b;X[b]=a}else X.push(a);else C(a);return a}function P(a,b,c,d,g,e){d=O(a,d,g,-e||0);a=N(1,a,b,c,e||0);D(a,d);return a}
function cc(a,b){var c=a.j,d=b.j;if(c!==d)return d-c;if(a.B!==b.B)return b.B-a.B;c=a.m;d=b.m;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.p]-c[a.p])}var ic="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function jc(a,b){if(ic){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function kc(a,b){if(ic){var c=b.createElement("div"),d=b.createDocumentFragment();lc.input=jc(a,"MSXML2.DOMDocument.6.0");lc.transform();for(c.innerHTML=lc.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(lc.transformToFragment(jc(a),b),!0)}var lc,mc=jc(sb,"MSXML2.FreeThreadedDOMDocument.6.0");if(ic){var nc=new ActiveXObject("MSXML2.XSLTemplate.6.0");nc.stylesheet=mc;lc=nc.createProcessor()}else lc=new XSLTProcessor,lc.importStylesheet(mc);
window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Hb[a]&&(Hb[a].G=!0)},enablePlugin:function(a){Hb[a]&&(Hb[a].G=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,f=c.length,h=e.length,y,t,v=0,x=0;v<f&&v<h;){y=c[v];t=e[v];if(!d(y,t))break;++v}for(var Z=Math.min(f-v,h-v);x<Z;){y=c[f-(x+1)];t=e[h-(x+1)];if(!d(y,t))break;++x}for(f-=x;--f>=v;)a.removeChild(c[f]);c=h-x;if(!(v>=c)){h=g.createDocumentFragment();for(f=v;f<c;)t=e[f].cloneNode(!0),h.appendChild(t),++f;x?a.insertBefore(h,
a.childNodes[v]):a.appendChild(h)}}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,f=e.length,g=d.length;0<=--g;){var h=d[g],t=h.namespaceURI;h=h.name;b.hasAttributeNS(t,h)||a.removeAttributeNS(t,h)}for(g=f;0<=--g;)d=e[g],t=d.namespaceURI,h=d.name,d=d.value,d!==a.getAttributeNS(t,h)&&a.setAttributeNS(t,
h,d);c(a,b);return!0}var g=b.ownerDocument,e=kc(Nb(a),g);c(b,e)}};})();

		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>