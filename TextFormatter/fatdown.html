<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="Content-Security-Policy" content="script-src 'sha384-fLy4XxOe9MYiuTv5w3nKResNzj/VZrw0jlrtL3joZI2ezE4D6t0klZM8rXvo7htn' cdn.jsdelivr.net">
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="https://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
		ul > li[data-task-id]
		{
			list-style-type: none;
		}
		li[data-task-state="checked"]
		{
			text-decoration: line-through rgba(0, 0, 0, .6);
		}
		#plugins
		{
			font-size: 18px;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as https://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   https://youtu.be/QH2-TGUlwu4
 - **PipeTables** --- ASCII-style tables are supported. See [its syntax](https://s9etextformatter.readthedocs.io/Plugins/PipeTables/Syntax/)

***

The parser/renderer used on this page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 38.9 KB (16.3 KB compressed)</textarea>
		</form>
	</div>

	<div style="float:left">
		<form id="plugins"><input type="checkbox" id="Autoemail" checked><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked><label for="PipeTables">&nbsp;PipeTables</label><br><input type="checkbox" id="TaskLists" checked><label for="TaskLists">&nbsp;TaskLists</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script>(function(){const aa=[""],ba=[0,0],ca=["","t"],da=["","id"],ia={flags:0},ja=["","type"],ka={flags:514},ma={flags:3089},na={flags:3201},oa=[65519,65457],ra=[32960,33025],sa=[65477,65409],ta=[39819,65457],ua=[32896,33153],va=[65519,65441],wa=[65424,65408],xa=[65408,65416],ya=[63463,65441],za=[65408,65408],Ba=["","album_id"],Ca=["","track_id"],Da=["","type","id"],Ea=["","playlist_id"],Fa=["","user","type","id"],Ga=["","channel","clip_id"],x={c:[],p:!1},Ha={c:[],p:!0},Ia={"class":x},A={C:1,EM:1,EMAIL:1,STRONG:1,
URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},Ja=[[/(?:open|play)\.spotify\.com\/(?:user\/[-.\w]+\/)?((?:album|artist|episode|playlist|show|track)(?:[:\/][-.\w]+)+)/,da]],Ka={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1};
function La(a,b){let c={},d;for(d in b.b){let v=b.b[d];var l=!1;if(d in a.b){l=v.c;var k=d,g=a.b[d];for(let p=0;p<l.length&&(g=l[p](g,k),!1!==g);++p);l=g}!1!==l?c[d]=l:v.p&&B(a)}Ma(a,c)}
const C=[La],Oa=[function(a){return Na(a,/^[-0-9A-Za-z_]+$/)}],Ra={c:[function(a){let b=/^(?=\d)(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/.exec(a);return b?3600*(b[1]||0)+60*(b[2]||0)+(+b[3]||0):/^(?:0|[1-9]\d*)$/.test(a)?a:!1}],p:!1},Xa=[function(a){{var b=Sa.urlConfig,c=Ta;let d=Ua(a.replace(/^\s+/,"").replace(/\s+$/,""));Va(b,d)?(c&&(d.attrValue=a),a=!1):a=Wa(d)}return a}],Ya={c:Oa,p:!0},Za={c:[function(a){return Na(a,/^[- +,.0-9A-Za-z_]+$/)}],p:!1},$a={c:Xa,p:!0},ab={l:A,flags:268,m:A},bb={l:A,flags:3460,
m:A},cb={l:A,flags:3456,m:A},db={d:ba,b:{},f:0,c:C,g:10,e:{flags:66},i:5E3},hb={d:sa,b:{},f:0,c:C,g:10,e:{flags:2},i:5E3},ib={d:sa,b:{},f:0,c:C,g:10,e:ia,i:5E3},jb={d:oa,b:{},f:0,c:C,g:10,e:{flags:512},i:5E3},kb={l:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},flags:264,m:A},lb={l:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},flags:256,m:A},mb={l:{C:1,EM:1,
EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},flags:256,m:A},nb={d:ra,b:{id:x},f:2,c:C,g:10,e:ma,i:5E3},ob={d:ua,b:{"char":Ha},f:8,c:C,g:10,e:ma,i:5E3},pb={align:{c:[function(a){return a.toLowerCase()},function(a){return Na(a,/^(?:center|justify|left|right)$/)}],p:!1}},qb={d:sa,b:{},f:3,c:C,g:10,e:{l:A,flags:260,m:A},i:5E3},rb={d:[65408,65418],b:{},f:1,c:C,g:10,e:bb,i:5E3},sb={d:xa,b:{},f:9,c:C,g:10,e:cb,i:5E3},tb={d:wa,b:{},
f:1,c:C,g:10,e:bb,i:5E3},ub={d:za,b:{},f:14,c:C,g:10,e:cb,i:5E3},vb={d:[65408,65412],b:{},f:11,c:C,g:10,e:{l:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},flags:3456,m:A},i:5E3},wb={d:xa,b:{},f:9,c:C,g:10,e:{l:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},
flags:3456,m:A},i:5E3},xb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/><xsl:decimal-format decimal-separator="."/><xsl:param$pMEDIAEMBED_THEME"/><xsl:param$pTASKLISTS_EDITABLE"/>$aBANDCAMP"><$w$hbandcamp"$k$g400px"><$w$k$d100%"><$v$i"$q$x$ono"$k$f><$l$psrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$t><$u$m@album_id">album=$b@album_id"/><$s$m@track_num">/t=$b@track_num"/></$s></$u><$r>track=$b@track_id"/></$r></$t><$s$m$MEDIAEMBED_THEME=\'dark\'">/bgcol=333333/linkcol=0f91ff</$s></$l></$v></$w></$w>$c$aC"><code>$e</code>$c$aCODE"><pre><code><$s$m@lang"><$l$pclass">language-$b@lang"/></$l></$s>$e</code></pre>$c$aDAILYMOTION"><$w$hdailymotion"$k$g640px"><$w$k$d56.25%"><$v$i"$q$x$ono"$k$f><$l$psrc">//www.dailymotion.com/embed/video/$b@id"/><$s$m@t">?start=$b@t"/></$s></$l></$v></$w></$w>$c$aDEL|EM|H1|H2|H3|H4|H5|H6|STRONG|SUB|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$p{translate(local-name(),\'ABDEGHLMNOPRSTUY\',\'abdeghlmnoprstuy\')}">$e</xsl:element>$c$aEMAIL"><a href="mailto:{@email}">$e</a>$c$aESC">$e$c$aFACEBOOK"><$v$hfacebook"$i"$nstyle"$q$x onload="let c=new MessageChannel;c.port1.onmessage=e=&gt;this.style.height=e.data+\'px\';this.contentWindow.postMessage(\'s9e:init\',\'*\',[c.port2])"$ono"$kborder:0;height:360px;max-width:640px;width:100%"><$l$psrc">https://s9e.github.io/$v/2/facebook.min.html#<$t><$u$m@id">$b@type"/>$b@id"/></$u><$r>pfbid$b@pfbid"/></$r></$t></$l></$v>$c$aFP|HE">$b@char"/>$c$aHC"><xsl:comment>$b@content"/></xsl:comment>$c$aHR"><hr/>$c$aIMG"><img$y{@src}">$jalt|@title"/></img>$c$aISPOILER"><$w class="spoiler"$nstyle" onclick="removeAttribute(\'style\')"$kbackground:#444;color:transparent">$e</$w>$c$aLI"><li><$s$mTASK"><$l$pdata-s9e-livepreview-ignore-attrs">data-task-id</$l><$l$pdata-task-id">$bTASK/@id"/></$l><$l$pdata-task-state">$bTASK/@state"/></$l></$s>$e</li>$c$aLIST"><$t><$u$mnot(@type)"><ul>$e</ul></$u><$r><ol>$jstart"/>$e</ol></$r></$t>$c$aLIVELEAK"><$w$hliveleak"$k$g640px"><$w$k$d56.25%"><$v$i"$q$x$ono"$y//www.liveleak.com/e/{@id}"$k$f/></$w></$w>$c$aQUOTE"><blockquote>$e</blockquote>$c$aSOUNDCLOUD"><$v$hsoundcloud"$i"$q$x$ono"><$l$psrc">https://w.soundcloud.com/player/?url=<$t><$u$m$z">https%3A//api.soundcloud.com/playlists/$b$z"/>%3Fsecret_token%3D$b@secret_token"/></$u><$u$m@track_id">https%3A//api.soundcloud.com/tracks/$b@track_id"/>%3Fsecret_token%3D$b@secret_token"/></$u><$r><$s$mnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$s>$b@id"/></$r></$t></$l><$l$pstyle">border:0;height:<$t><$u$m$z or contains(@id,\'/sets/\')">450</$u><$r>166</$r></$t>px;max-width:900px;width:100%</$l></$v>$c$aSPOILER"><details class="spoiler"$nopen">$e</details>$c$aSPOTIFY"><$t><$u$mstarts-with(@id,\'episode/\')or starts-with(@id,\'show/\')"><$v$hspotify" allow="encrypted-media"$i"$q$x$ono"$yhttps://open.spotify.com/embed/{@id}"$kborder:0;height:152px;max-width:900px;width:100%"/></$u><$r><$w$hspotify"$k$g320px"><$w$k$d125%;padding-bottom:calc(100% + 80px)"><$v allow="encrypted-media"$i"$q$x$ono"$yhttps://open.spotify.com/embed/{translate(@id,\':\',\'/\')}{@path}"$k$f/></$w></$w></$r></$t>$c$aTASK"><input data-task-id="{@id}"$ndata-task-id" type="checkbox"><$s$m@state=\'checked\'"><$l$pchecked"/></$s><$s$mnot($TASKLISTS_EDITABLE)"><$l$pdisabled"/></$s></input>$c$aTD"><td><$s$m@align"><$l$pstyle">text-align:$b@align"/></$l></$s>$e</td>$c$aTH"><th><$s$m@align"><$l$pstyle">text-align:$b@align"/></$l></$s>$e</th>$c$aTWITCH"><$w$htwitch"$k$g640px"><$w$k$d56.25%"><$v$i"$q$x onload="this.contentWindow.postMessage(\'\',\'*\')"$ono"$yhttps://s9e.github.io/$v/2/twitch.min.html#channel={@channel};clip_id={@clip_id};t={@t};video_id={@video_id}"$k$f/></$w></$w>$c$aURL"><a href="{@url}">$jtitle"/>$e</a>$c$aVIMEO"><$w$hvimeo"$k$g640px"><$w$k$d56.25%"><$v$i"$q$x$ono"$k$f><$l$psrc">//player.vimeo.com/video/$b@id"/><$s$m@h">?h=$b@h"/></$s><$s$m@t">#t=$b@t"/></$s></$l></$v></$w></$w>$c$aVINE"><$w$hvine"$k$g480px"><$w$k$d100%"><$v$i"$q$x$ono"$yhttps://vine.co/v/{@id}/embed/simple?audio=1"$k$f/></$w></$w>$c$aYOUTUBE"><$w$hyoutube"$k$g640px"><$w$k$d56.25%"><$v$i"$q$x$ono"$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$f><$l$psrc">https://www.youtube.com/embed/$b@id"/><$s$m@list">?list=$b@list"/></$s><$s$m@t"><$t><$u$m@list">&amp;</$u><$r>?</$r></$t>start=$b@t"/></$s></$l></$v></$w></$w>$c$abr"><br/>$c$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$e</abbr>$c$ahtml:div"><div>$jclass"/>$e</div>$c$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$e</img>$c$ahtml:$w"><$w>$jclass"/>$e</$w>$c$ahtml:td"><td>$jcol$w|@row$w"/>$e</td>$c$ahtml:th"><th>$jcol$w|@row$w|@scope"/>$e</th>$c</xsl:stylesheet>'.replace(/\$[a-z]/g,
function(a){return{$a:'<xsl:template match="',$b:'<xsl:value-of select="',$c:"</xsl:template>",$d:"display:block;overflow:hidden;position:relative;padding-bottom:",$e:"<xsl:apply-templates/>",$f:'border:0;height:100%;left:0;position:absolute;width:100%"',$g:"display:inline-block;width:100%;max-width:",$h:' data-s9e-mediaembed="',$i:' allowfullscreen="',$j:'<xsl:copy-of select="@',$k:' style="',$l:"xsl:attribute",$m:' test="',$n:' data-s9e-livepreview-ignore-attrs="',$o:' scrolling="',$p:' name="',
$q:' loading="',$r:"xsl:otherwise",$s:"xsl:if",$t:"xsl:choose",$u:"xsl:when",$v:"iframe",$w:"span",$x:'lazy"',$y:' src="',$z:"@playlist_id"}[a]});function Na(a,b){return b.test(a)?a:!1}
function Ua(a){let b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(d,l){c[d]=""<b[l+1]?b[l+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Wa(a){let b="";""!==a.scheme&&(b+=a.scheme+":");""!==a.host?(b+="//",""!==a.user&&(b+=yb(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+yb(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port)):"file"===a.scheme&&(b+="//");let c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/g,function(d){return d.toUpperCase()},c);b+=zb(c);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A"));return b}
function zb(a){return a.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,function(b){return"%"+b[0].charCodeAt(0).toString(16).toUpperCase()})}
function Va(a,b){if(""!==b.scheme&&!a.R.test(b.scheme))return"URL scheme is not allowed";if(""!==b.host){var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,l=c.split(".");0<=--d;){if("0"===l[d][0]||255<l[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^([\da-f]{0,4}:){2,7}(?:[\da-f]{0,4}|\d+\.\d+\.\d+\.\d+)$/.test(c)&&c)}if(c)return"URL host is invalid";if(a.U&&
a.U.test(b.host)||a.X&&!a.X.test(b.host))return"URL host is not allowed"}else if(/^(?:(?:f|ht)tps?)$/.test(b.scheme))return"Missing host"}function Ab(a){let b=document.createElement("b");Ab=function(c){b.innerHTML=c.replace(/</g,"&lt;");return b.textContent};return Ab(a)}function Bb(a){return a.replace(/[<>&"]/g,b=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"})[b])}function Cb(a){return a.replace(/[<>&]/g,b=>({"<":"&lt;",">":"&gt;","&":"&amp;"})[b])}
function yb(a){return encodeURIComponent(a).replace(/[!'()*]/g,b=>"%"+b.charCodeAt(0).toString(16).toUpperCase())}function Db(){}Db.prototype={add:function(){}};function Eb(a,b,c,d,l){this.o=+a;this.name=b;this.j=+c;this.k=+d;this.y=+l||0;this.b={};this.N=[];isNaN(a+c+d)&&B(this)}Eb.prototype.u=!1;function Fb(a,b){a.N.push(b);a.u&&B(b)}function B(a){a.u||(a.u=!0,a.N.forEach(function(b){B(b)}))}function F(a,b){Gb(a,b)?(a.z=b,b.D=a,Fb(a,b)):Gb(b,a)&&(a.D=b,b.z=a)}
function Gb(a,b){return a.name===b.name&&1===a.o&&2===b.o&&a.j<=a.j}function Hb(a){let b={};for(let c in a.b)b[c]=a.b[c];return b}function Ib(a,b){return a.u||!Gb(b,a)||a.D&&a.D!==b||b.z&&b.z!==a?!1:!0}function Ma(a,b){a.b={};for(let c in b)a.b[c]=b[c]}let Jb,Kb,G,Lb,H,Mb,Ta=new Db,Nb,I,J;
const Qb={Autoemail:{q:function(a,b){b.forEach(c=>{let d=L(1,"EMAIL",c[0][1],0,0);d.b.email=c[0][0];c=Ob("EMAIL",c[0][1]+c[0][0].length,0);F(d,c)})},r:"@",v:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,w:5E4},Autolink:{q:function(a,b){b.forEach(c=>{var d=c[0][1],l=c[0][0].replace(/(?:(?![-=+)\/_])[\s!-.:-@[-`{-~])+$/,"");let k=d+l.length,g=Ob("URL",k,0);"."===l[3]&&(l="http://"+l);c=L(1,"URL",d,0,1);c.b.url=l;F(c,g);d=L(3,"v",d,k-d,1E3);Fb(c,d)})},r:":",v:/\b(?:ftp|https?|mailto):(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
w:5E4},Escaper:{q:function(a,b){b.forEach(c=>{M("ESC",c[0][1],1,c[0][1]+c[0][0].length,0)})},r:"\\",v:/\\[-!#()*+.:<>@[\\\]^_`{|}~]/g,w:5E4},FancyPants:{q:function(a){function b(f,m,n,t){f=L(3,q,f,m,t||0);f.b[e]=n;return f}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var f={"--":"\u2013","---":"\u2014","...":"\u2026"},m=/---?|\.\.\./g,n;n=m.exec(a);)b(n.index,n[0].length,f[n[0]])}function d(){if(!(0>a.indexOf("/")))for(var f={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},m,n=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;m=n.exec(a);)b(m.index,m[0].length,f[m[0]])}function l(){if(!(0>a.indexOf("<<")))for(var f,m=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;f=m.exec(a);){let n=b(f.index,2,"\u00ab");f=b(f.index+f[0].length-2,2,
"\u00bb");Fb(n,f)}}function k(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var f,m=/\b (?:!|=\/)=(?= \b)/g;f=m.exec(a);)b(f.index+1,f[0].length-1,"\u2260")}function g(f,m,n,t){for(var y;y=m.exec(a);){let z=b(y.index+y[0].indexOf(f),1,n);y=b(y.index+y[0].length-1,1,t);Fb(z,y)}}function v(){if(h)for(var f,m=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;f=m.exec(a);)b(f.index+f[0].indexOf("'"),1,"\u2019",10)}function p(){if(h||r||!(0>a.indexOf("x")))for(var f={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},m,n=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;m=n.exec(a);){"x"===m[0][m[0].length-1]&&b(m.index+m[0].length-1,1,"\u00d7");let t=m[0].substring(1,3);f[t]&&b(m.index+1,1,f[t])}}function u(){if(!(0>a.indexOf("(")))for(var f={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},m=/\((?:c|r|tm)\)/gi,n;n=m.exec(a);)b(n.index,n[0].length,f[n[0].toLowerCase()])}const w={S:"char",J:"FP"};let e=w.S,h=0<=a.indexOf("'"),r=0<=a.indexOf('"'),q=w.J;"undefined"===
typeof w.ba&&(v(),h&&g("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),r&&g('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));"undefined"===typeof w.Z&&l();"undefined"===typeof w.$&&(k(),p(),d());"undefined"===typeof w.aa&&c();"undefined"===typeof w.ca&&u()}},HTMLComments:{q:function(a,b){b.forEach(c=>{let d=Ab(c[0][0].substring(4,c[0][0].length-3));d=d.replace(/[<>]/g,"");d=d.replace(/-+$/,"");d=d.replace(/--/g,"");L(3,"HC",c[0][1],c[0][0].length,0).b.content=d})},r:"\x3c!--",v:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,
w:5E4},HTMLElements:{q:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},sup:{"":"SUP"}};b.forEach(d=>{var l="/"===a[d[0][1]+1],k=d[0][1],g=d[0][0].length;let v=d[2-l][0].toLowerCase();var p=c&&c[v]&&c[v][""]?c[v][""]:"html:"+v;if(l)Ob(p,k,g);else for(l=/(<\S+|['"\s])\/>$/.test(d[0][0])?M(p,k,g,k+g,0):L(1,p,k,g,0),d=d[3][0],k=/([a-z][-a-z0-9]*)(?:\s*=\s*("[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;p=k.exec(d);)g=p[1].toLowerCase(),p="undefined"!==typeof p[2]?
p[2]:g,c&&c[v]&&c[v][g]&&(g=c[v][g]),/^["']/.test(p)&&(p=p.substring(1,p.length-1)),p=Ab(p),l.b[g]=p})},r:"<",v:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:pan|trong|u[bp])?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:pan|trong|u[bp])?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,w:5E4},
HTMLEntities:{q:function(a,b){b.forEach(c=>{let d=c[0][0],l=Ab(d);l===d||32>l.charCodeAt(0)||(L(3,"HE",c[0][1],d.length,0).b["char"]=l)})},r:"&",v:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,w:5E4},Litedown:{q:function(a){function b(e){-1<e.indexOf("&")&&(e=Ab(e));e=e.replace(/\x1A/g,"");p&&(e=e.replace(/\x1B./g,function(h){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"<","\u001b7":">","\u001b8":"[","\u001b9":"\\","\u001bA":"]","\u001bB":"^","\u001bC":"_",
"\u001bD":"`","\u001bE":"~"}[h]}));return e}function c(e){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(e)}function d(e){a=a.substring(0,e)+"\u0017"+a.substring(e+1)}function l(e,h){0<h&&(a=a.substring(0,e)+Array(1+h).join("\u001a")+a.substring(e+h))}function k(e,h,r){if(-1!==a.indexOf(e))for(var q;q=h.exec(a);)e=q.index,q=e+q[0].length-2,M(r,e,2,q,2),l(e,2),l(q,2)}function g(e,h,r,q){function f(n){n=a.indexOf(h+"(",n);if(-1!==n){var t,y=!1;for(q.lastIndex=n;t=
q.exec(a);)y=t.index,t=t[0].length,M(e,y,2,y+t-1,1),l(y,t),y=!0;y&&f(n)}}let m=a.indexOf(h);-1!==m&&(function(n){var t;for(r.lastIndex=n;t=r.exec(a);){n=t[0];t=t.index;let y=n.length;n=n.charAt(y-1)===h?1:0;M(e,t,1,t+y-n,n)}}(m),f(m))}function v(e,h,r){var q=h.replace(/^\s*/,"").replace(/\s*$/,"");h="";let f=q.indexOf(" ");-1!==f&&(h=q.substring(f).replace(/^\s*\S/,"").replace(/\S\s*$/,""),q=q.substring(0,f));/^<.+>$/.test(q)&&(q=q.replace(/^<(.+)>$/,"$1").replace(/\\>/g,">"));q=b(q);e.b[r]=q;""<
h&&(r=b(h),e.b.title=r)}let p=!1,u=!1,w={};0<=a.indexOf("\\")&&(p=!0,a=a.replace(/\\[!"'()*<>[\\\]^_`~]/g,function(e){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\<":"\u001b6","\\>":"\u001b7","\\[":"\u001b8","\\\\":"\u001b9","\\]":"\u001bA","\\^":"\u001bB","\\_":"\u001bC","\\`":"\u001bD","\\~":"\u001bE"}[e]}));a+="\n\n\u0017";(function(){function e(m,n){F(Ob("LIST",n,0),m.V);F(Ob("LI",n,0),m.H);m.P&&m.I.forEach(t=>{t.flags&=-9})}function h(m,
n){let t=m;for(;0<=--n;)t=t.replace(/^ *>!? ?/,"");return m.length-t.length}function r(m){let n=[],t=/>!?/g,y;for(;y=t.exec(m);)n.push(y[0]);return n}function q(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var m,n=/^(?=[-=>])(?:>!? ?)*(?=[-=])(?:-+|=+) *$/gm;m=n.exec(a);){let t=m[0];m=m.index;let y=m-1;for(;0<y&&" "===a[y-1];)--y;f[m-1]={L:m+t.length-y,M:y,T:t.length-t.replace(/>/g,"").length,J:"="===t[0]?"H1":"H2"}}}let f={};(function(){q();let m=[],n=0,t,y=4,z,N=!0,E=[],K=0,X=!1,S=0,la,ea,
Q,eb,Xb,T,O,fb,Pa,fa,ha,pa,Yb=[],gb,Qa=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}>(?:(?!!)|!(?![^\n>]*?!<)) ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;for(;gb=Qa.exec(a);)Yb.push(gb),gb.index===Qa.lastIndex&&++Qa.lastIndex;Yb.forEach(D=>{var Y=[];let U=D.index;var qa=D[0].length,P;fa=Q=0;ea=!N;T=a.indexOf("\n",U);N=T===U+qa&&!D[3]&&!D[4]&&!D[5];qa||++Qa.lastIndex;la=N&&ea;D[1]&&(Y=r(D[1]),fa=Y.length,Q=D[1].length,
z&&"blockDepth"in z.b&&(fa=Math.min(fa,z.b.blockDepth),Q=h(D[1],fa)),l(U,Q));if(fa<n&&!ea){X=!0;do{var V=m.pop();F(Ob(V.name,S,0),V)}while(fa<--n)}if(fa>n&&!N){X=!0;do m.push(L(1,">!"===Y[n]?"SPOILER":"QUOTE",U,0,-999));while(fa>++n)}V=P=0;if(D[2]&&!t){eb=D[2];Xb=eb.length;do" "===eb[V]?++P:P=P+4&-4;while(++V<Xb&&P<y)}z&&!t&&P<y&&!N&&(X=!0);X&&(X=!1,z&&(S>z.j?(l(z.j,S-z.j),F(z,Ob("CODE",S,0,-1))):B(z),t=z=null),E.forEach(Aa=>{e(Aa,S)}),E=[],K=0,U&&d(U-1));if(P>=y){if(z||!ea)Q=(D[1]||"").length+V,
z||=L(1,"CODE",U+Q,0,-999),D={}}else if(!z){Y=!!D[4];if(P||ea||Y)if(ea&&!Y)O=K-1;else if(K)for(O=0;O<K&&P>E[O].O;)++O;else O=Y?0:-1;else O=-1;for(;O<K-1;)e(E.pop(),S),--K;O!==K||Y||--O;if(Y&&0<=O)if(la=!0,ha=U+Q+V,pa=D[4].length,V=L(1,"LI",ha,pa,0),l(ha,pa),O<K)F(Ob("LI",S,0),E[O].H),E[O].H=V,E[O].I.push(V);else{++K;O?(Pa=E[O-1].O+1,fb=Math.max(Pa,4*O)):(Pa=0,fb=P);P=L(1,"LIST",ha,0,0);if(-1<D[4].indexOf(".")){P.b.type="decimal";let Aa=+D[4];1!==Aa&&(P.b.start=Aa)}E.push({V:P,H:V,I:[V],da:Pa,O:fb,
P:!0})}!K||ea||N||(1<E[0].I.length||!Y)&&E.forEach(Aa=>{Aa.P=!1});y=4*(K+1)}if(D[5])if("#"===D[5][0])V=D[5].length,Y=U+qa-V,P=/[ \t]*#*[ \t]*$/.exec(a.substring(U+qa,T))[0].length,qa=T-P,M("H"+/#{1,6}/.exec(D[5])[0].length,Y,V,qa,P),d(Y),d(T),ea&&(la=!0);else{if("`"===D[5][0]||"~"===D[5][0])ha=U+Q,pa=T-ha,z&&D[5]===t?(F(z,Ob("CODE",ha,pa,-1)),Pb(S,ha-S),l(z.j,ha+pa-z.j),t=z=null):z||(z=L(1,"CODE",ha,pa,0),t=D[5].replace(/[^`~]+/,""),z.b.blockDepth=fa,Pb(ha+pa,1),D=D[5].replace(/^[`~\s]*/,"").replace(/\s+$/,
""),""!==D&&(z.b.lang=D))}else D[3]&&!K&&"\u0017"!==a[U+qa]?(L(3,"HR",U+Q,qa-Q,0),la=!0,d(T)):!f[T]||f[T].T!==fa||N||K||z||(M(f[T].J,U+Q,0,f[T].M,f[T].L),d(f[T].M+f[T].L));la&&(L(3,"pb",S,0,0),d(S));N||(S=T);Q&&Pb(U,Q,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var e,h=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^[\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?) *(?=$|\x17)\n?/gm;e=h.exec(a);){Pb(e.index,e[0].length);let r=e[1].toLowerCase();w[r]||(u=!0,w[r]=e[2])}})();(function(){var e=a.indexOf("`");
if(0>e)var h=[];else{h=/(`+)(\s*)[^\x17`]*/g;var r=0,q=[],f=a.replace(/\x1BD/g,"\\`");for(h.lastIndex=e;e=h.exec(f);)q.push({j:e.index,k:e[1].length,Q:r,Y:e[2].length,next:e.index+e[0].length}),r=e[0].length-e[0].replace(/\s+$/,"").length;h=q}f=-1;for(r=h.length;++f<r-1;)for(e=h[f].next,q=f,"`"!==a[h[f].j]&&(++h[f].j,--h[f].k);++q<r&&h[q].j===e;){if(h[q].k===h[f].k){f=h[f];var m=h[q];e=f.j;let n=m.j-m.Q;m=m.k+m.Q;M("C",e,f.k+f.Y,n,m);l(e,n+m-e);f=q;break}e=h[q].next}})();(function(){function e(h,
r,q,f,m){let n=M("IMG",h,2,r,q);v(n,f,"src");f=b(m);n.b.alt=f;l(h,r+q-h)}(function(){var h=a.indexOf("![");if(-1!==h){if(0<a.indexOf("](",h))for(var r=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;h=r.exec(a);){var q=h[1],f=h.index,m=3+q.length;e(f,f+h[0].length-m,m,q,h[0].substring(2,h[0].length-m))}if(u)for(r=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;h=r.exec(a);){q=h.index;f=q+2+h[1].length;
m=1;let n=h[1],t=n;if(""<h[2]&&w[h[2]])m=h[0].length-n.length-2,t=h[2];else if(!w[t])continue;e(q,f,m,w[t],n)}}})()})();k(">!",/>![^\x17]+?!</g,"ISPOILER");k("||",/\|\|[^\x17]+?\|\|/g,"ISPOILER");(function(){function e(f,m,n,t){let y=M("URL",f,1,m,n,1===n?1:-1);v(y,t,"url");l(f,1);l(m,n)}function h(){let f,m=/<[-+.\w]+([:@])[^\x17\s>]+?(?:>|\x1B7)/g;for(;f=m.exec(a);){let n=b(f[0].replace(/\x1B/g,"\\\u001b")).replace(/^<(.+)>$/,"$1"),t=f.index,y=":"===f[1]?"URL":"EMAIL",z=y.toLowerCase();M(y,t,1,
t+f[0].length-1,1).b[z]=n}}function r(){let f,m=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:\([^\x17\s()]*\)|[^\x17\s)])*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;for(;f=m.exec(a);){let n=f[1],t=f.index,y=3+n.length;e(t,t+f[0].length-y,y,n)}}function q(){let f={};for(var m,n=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;m=n.exec(a);)f[m.index]=m[1].toLowerCase();let t;for(t in f){m=f[t];n=+t+2+m.length;let y=n-1,z=1;" "===a[n]&&++n;""<f[n]&&w[f[n]]&&(m=f[n],z=n+2+m.length-y);w[m]&&e(+t,
y,z,w[m])}}-1!==a.indexOf("](")&&r();-1!==a.indexOf("<")&&h();u&&q()})();k("~~",/~~[^\x17]+?~~(?!~)/g,"DEL");g("SUB","~",/~[^\x17\s!"#$%&'()*+,\-.\/:;<=>?@[\]^_`{}|~]+~?/g,/~\([^\x17()]+\)/g);g("SUP","^",/\^[^\x17\s!"#$%&'()*+,\-.\/:;<=>?@[\]^_`{}|~]+\^?/g,/\^\([^\x17()]+\)/g);(function(){function e(z,N){var E=a.indexOf(z);if(-1!==E){z=[];let la=[],ea=a.indexOf("\u0017",E);var K;for(N.lastIndex=E;K=N.exec(a);){E=K.index;let Q=K[0].length;E>ea&&(la.push(z),z=[],ea=a.indexOf("\u0017",E));var X=E,S=
Q;if(K="_"===a.charAt(X)&&1===S)K=0<X&&c(a[X-1])&&c(a[X+S]);K||z.push([E,Q])}la.push(z);la.forEach(h)}}function h(z){t=f=-1;z.forEach(N=>{var E=N[0];N=N[1];let K=!(-1<" \n\t".indexOf(a[E+N-1+1])),X=0<E&&-1<" \n\t".indexOf(a.charAt(E-1))?0:Math.min(N,3);r=!!(X&1)&&0<=f;q=!!(X&2)&&0<=t;y=m=E;n=N;0<=f&&f===t&&(r?f+=2:++t);r&&q&&(f<t?m+=2:++y);r&&(--n,M("EM",f,1,m,1),f=-1);q&&(n-=2,M("STRONG",t,2,y,2),t=-1);n=K?Math.min(n,3):0;E+=N;n&1&&(f=E-n);n&2&&(t=E-n)})}let r,q,f,m,n,t,y;e("*",/\*+/g);e("_",/_+/g)})();
(function(){let e=a.indexOf("  \n");for(;0<e;)Fb(L(3,"br",e+2,0,0),L(3,"v",e+2,1,0)),e=a.indexOf("  \n",e+3)})()}},MediaEmbed:{q:function(a,b){b.forEach(c=>{let d=c[0][0];L(3,"MEDIA",c[0][1],d.length,-10).b.url=d})},r:"://",v:/\bhttps?:\/\/[^["'\s]+/ig,w:5E4},PipeTables:{q:function(a){function b(w,e){k=e.j;e.B.split("|").forEach((h,r)=>{0<r&&(Fb(v,Pb(k,1,1E3)),++k);r=g.K[r]?g.K[r]:"";var q=k,f=q+h.length;k=f;let m=/^( *).*?( *)$/.exec(h);m[1]&&(h=m[1].length,Fb(v,Pb(q,h,1E3)),q+=h);m[2]&&(h=m[2].length,
Fb(v,Pb(f-h,h,1E3)),f-=h);f=q===f?L(3,w,q,0,-101):M(w,q,0,f,0,-101);r&&(f.b.align=r)});M("TR",e.j,0,k,0,-102)}function c(){if(g&&2<g.n.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(g.n[1].B)){var w=g,e=g.n[1].B;let h=["","right","left","center"],r=[],q=/(:?)-+(:?)/g,f;for(;f=q.exec(e);)r.push(h[(f[1]?2:0)+(f[2]?1:0)]);w.K=r;p.push(g)}g=null}function d(w){return w.replace(/[!>]/g," ")}function l(w){return w.replace(/\|/g,".")}let k,g=null,v,p,u=a;-1<u.indexOf("`")&&(u=u.replace(/`[^`]*`/g,l));
-1<u.indexOf(">")&&(u=u.replace(/^(?:>!? ?)+/gm,d));-1<u.indexOf("\\|")&&(u=u.replace(/\\[\\|]/g,".."));(function(){g=null;p=[];k=0;u.split("\n").forEach(w=>{if(0>w.indexOf("|"))c();else{var e=w;let h=0;g||(g={n:[]},h=/^ */.exec(e)[0].length,e=e.substring(h));e=e.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");g.n.push({B:e,j:k+h})}k+=1+w.length});c()})();(function(){let w=-1,e=p.length;for(;++w<e;){g=p[w];var h=g.n[g.n.length-1];v=M("TABLE",g.n[0].j,0,h.j+h.B.length,0,-104);b("TH",g.n[0]);M("THEAD",
g.n[0].j,0,k,0,-103);h=g.n[1];Fb(v,Pb(h.j-1,1+h.B.length,1E3));h=1;let r=g.n.length;for(;++h<r;)b("TD",g.n[h]);M("TBODY",g.n[2].j,0,k,0,-103)}})()},r:"|"}};let R;
const Sa={"MediaEmbed.hosts":{"bandcamp.com":"bandcamp","dai.ly":"dailymotion","dailymotion.com":"dailymotion","facebook.com":"facebook","fb.watch":"facebook","link.tospotify.com":"spotify","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},"MediaEmbed.sites":{bandcamp:[[],[{x:[[/\/album=(\d+)/,Ba]],match:[[/bandcamp\.com\/album\/./,
aa]]},{x:[[/"album_id":(\d+)/,Ba],[/"track_num":(\d+)/,["","track_num"]],[/\/track=(\d+)/,Ca]],match:[[/bandcamp\.com\/track\/./,aa]]}]],dailymotion:[[[/dai\.ly\/([a-z0-9]+)/i,da],[/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([a-z0-9]+)/i,da],[/start=(\d+)/,ca]],[]],facebook:[[[/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!marketplace\/|pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,da],[/facebook\.com\/([.\w]+)\/(?=(?:post|video)s?\/)([pv])/,
["","user","type"]],[/facebook\.com\/video\/(?=post|video)([pv])/,ja],[/facebook\.com\/watch\/\?([pv])=/,ja],[/facebook.com\/groups\/[^\/]*\/(p)osts\/(\d+)/,Da],[/facebook\.com\/([.\w]+)\/posts\/pfbid(\w+)/,["","user","pfbid"]]],[{x:[[/facebook\.com\/([.\w]+)\/([pv])\w+\/(\d+)(?!\w)/,Fa]],F:"User-agent: PHP (not Mozilla)",match:[[/facebook\.com\/[.\w]+\/posts\/pfbid/,aa]],ea:"https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2F{@user}%2Fposts%2Fpfbid{@pfbid}"},{x:[[/facebook\.com\/watch\/\?(v)=(\d+)/,
Da],[/facebook\.com\/([.\w]+)\/(v)ideos\/(\d+)/,Fa]],F:"User-agent: PHP (not Mozilla)",match:[[/fb\.watch\/./,aa]]}]],liveleak:[[[/liveleak\.com\/(?:e\/|view\?i=)(\w+)/,da]],[{x:[[/liveleak\.com\/e\/(\w+)/,da]],match:[[/liveleak\.com\/view\?t=/,aa]]}]],soundcloud:[[[/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,da],[/api\.soundcloud\.com\/playlists\/(\d+)/,Ea],[/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,["","track_id","secret_token"]],
[/soundcloud\.com\/(?!playlists\/|tracks\/)[-\w]+\/(?:sets\/)?[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]]],[{x:[[/soundcloud(?::\/)?:tracks:(\d+)/,Ca]],F:"User-agent: PHP (not Mozilla)",match:[[/soundcloud\.com\/(?!playlists\/\d|tracks\/\d)[-\w]+\/[-\w]/,aa]]},{x:[[/soundcloud(?::\/)?\/playlists:(\d+)/,Ea]],F:"User-agent: PHP (not Mozilla)",match:[[/soundcloud\.com\/[-\w]+\/sets\//,aa]]}]],spotify:[Ja,[{x:Ja,F:"User-agent: PHP (not Mozilla)",match:[[/link\.tospotify\.com\/./,aa]]}]],twitch:[[[/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,
["","video_id"]],[/www\.twitch\.tv\/(?!videos\/)(\w+)(?:\/clip\/([-\w]+))?/,Ga],[/t=((?:(?:\d+h)?\d+m)?\d+s)/,ca],[/clips\.twitch\.tv\/(?:(\w+)\/)?([-\w]+)/,Ga]],[]],vimeo:[[[/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)(?:\/(\w+))?\b/,["","id","h"]],[/#t=([\dhms]+)/,ca]],[]],vine:[[[/vine\.co\/v\/([^\/]+)/,da]],[]],youtube:[[[/youtube\.com\/(?:watch.*?v=|shorts\/|v\/|attribution_link.*?v%3D)([-\w]+)/,da],[/youtu\.be\/([-\w]+)/,da],[/[#&?]t=(\d[\dhms]*)/,ca],[/[&?]list=([-\w]+)/,["","list"]]],
[]]},urlConfig:{R:/^(?:ftp|https?|mailto)$/i}},Rb={d:oa,flags:8},Sb={BANDCAMP:{d:ra,b:{album_id:x,track_id:x,track_num:x},f:2,c:C,g:10,e:ma,i:5E3},C:db,CODE:{d:ba,b:{lang:Za},f:1,c:C,g:10,e:{l:A,flags:4436,m:A},i:5E3},DAILYMOTION:{d:ra,b:{id:x,t:x},f:2,c:C,g:10,e:ma,i:5E3},DEL:jb,EM:hb,EMAIL:{d:ta,b:{email:{c:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],p:!0}},f:2,c:C,g:10,e:ka,i:5E3},ESC:{d:ba,b:{},f:7,c:C,g:10,e:{flags:1616},i:5E3},FACEBOOK:{d:ra,b:{id:x,pfbid:x,type:x,user:x},f:2,c:C,
g:10,e:ma,i:5E3},FP:ob,H1:qb,H2:qb,H3:qb,H4:qb,H5:qb,H6:qb,HC:{d:ba,b:{content:Ha},f:7,c:C,g:10,e:{flags:3153},i:5E3},HE:ob,HR:{d:ua,b:{},f:1,c:C,g:10,e:{l:A,flags:3349},i:5E3},IMG:{d:ua,b:{alt:x,src:$a,title:x},f:0,c:C,g:10,e:ma,i:5E3},ISPOILER:ib,LI:{d:va,b:{},f:4,c:[La,function(a){for(var b=a.j+a.k;" "===W.charAt(b);)++b;var c=W.substring(b,b+3);if(/\[[ Xx]\]/.test(c)){var d=Math.random().toString(16).substring(2);c="[ ]"===c?"unchecked":"checked";b=L(3,"TASK",b,3,0);b.b.id=d;b.b.state=c;Fb(a,
b)}}],g:10,e:kb,i:5E3},LIST:{d:wa,b:{start:{c:[function(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}],p:!1},type:Za},f:1,c:C,g:10,e:bb,i:5E3},LIVELEAK:nb,MEDIA:{d:[65519,65329],b:{},f:15,c:[function(a){return function(b,c,d){function l(k,g,v){let p=!1;v.forEach(u=>{let w=u[1],e=u[0].exec(g);e&&(p=!0,w.forEach((h,r)=>{""<e[r]&&""<h&&(k[h]=e[r])}))});return p}(function(k,g,v){B(k);if("url"in k.b){var p=k.b.url;a:{for(var u=/^https?:\/\/([^\/]+)/.exec(p.toLowerCase())[1]||"";""<u;){if(g[u]){g=g[u];break a}u=
u.replace(/^[^.]*./,"")}g=""}if(v[g]){u={};l(u,p,v[g][0]);v=u;a:{for(w in v){var w=!1;break a}w=!0}if(!w){w=k.j;var e=k.z;e?(p=k.k,u=e.j,e=e.k):(p=0,u=k.j+k.k,e=0);k=M(g.toUpperCase(),w,p,u,e,k.y);Ma(k,v)}}}})(b,c,d)}(a,Sa["MediaEmbed.hosts"],Sa["MediaEmbed.sites"],Sa.cacheDir)}],g:10,e:{flags:513},i:5E3},QUOTE:{d:va,b:{},f:1,c:C,g:10,e:ab,i:5E3},SOUNDCLOUD:{d:ra,b:{id:x,playlist_id:x,secret_token:x,track_id:x},f:2,c:C,g:10,e:ma,i:5E3},SPOILER:{d:va,b:{},f:5,c:C,g:10,e:ab,i:5E3},SPOTIFY:nb,STRONG:hb,
SUB:ib,SUP:ib,TABLE:rb,TASK:{d:ua,b:{id:Ya,state:Ya},f:2,c:C,g:10,e:ma,i:5E3},TBODY:wb,TD:{d:va,b:pb,f:10,c:C,g:10,e:mb,i:5E3},TH:{d:ya,b:pb,f:10,c:C,g:10,e:mb,i:5E3},THEAD:sb,TR:vb,TWITCH:{d:ra,b:{channel:x,clip_id:x,t:x,video_id:x},f:2,c:C,g:10,e:ma,i:5E3},URL:{d:ta,b:{title:x,url:$a},f:6,c:C,g:10,e:ka,i:5E3},VIMEO:{d:ra,b:{h:x,id:x,t:Ra},f:2,c:C,g:10,e:ma,i:5E3},VINE:nb,YOUTUBE:{d:ra,b:{id:{c:Oa,p:!1},list:x,t:Ra},f:2,c:C,g:10,e:ma,i:5E3},"html:abbr":{d:sa,b:{title:x},f:0,c:C,g:10,e:ia,i:5E3},
"html:b":hb,"html:br":{d:za,b:{},f:0,c:C,g:10,e:na,i:5E3},"html:code":db,"html:dd":{d:va,b:{},f:12,c:C,g:10,e:lb,i:5E3},"html:del":jb,"html:div":{d:oa,b:Ia,f:13,c:C,g:10,e:ab,i:5E3},"html:dl":{d:[65408,65456],b:{},f:1,c:C,g:10,e:bb,i:5E3},"html:dt":{d:ya,b:{},f:12,c:C,g:10,e:lb,i:5E3},"html:i":hb,"html:img":{d:za,b:{alt:x,height:x,src:{c:Xa,p:!1},title:x,width:x},f:0,c:C,g:10,e:na,i:5E3},"html:ins":jb,"html:li":{d:va,b:{},f:4,c:C,g:10,e:kb,i:5E3},"html:ol":tb,"html:pre":{d:sa,b:{},f:1,c:C,g:10,e:{l:A,
flags:276,m:A},i:5E3},"html:rb":ub,"html:rp":{d:ua,b:{},f:14,c:C,g:10,e:{l:Ka,flags:3344,m:A},i:5E3},"html:rt":{d:sa,b:{},f:14,c:C,g:10,e:{l:Ka,flags:256,m:A},i:5E3},"html:rtc":ub,"html:ruby":{d:[65477,65473],b:{},f:0,c:C,g:10,e:ia,i:5E3},"html:span":{d:sa,b:Ia,f:0,c:C,g:10,e:ia,i:5E3},"html:strong":hb,"html:sub":ib,"html:sup":ib,"html:table":rb,"html:tbody":wb,"html:td":{d:va,b:{colspan:x,rowspan:x},f:10,c:C,g:10,e:mb,i:5E3},"html:tfoot":wb,"html:th":{d:ya,b:{colspan:x,rowspan:x,scope:x},f:10,c:C,
g:10,e:mb,i:5E3},"html:thead":sb,"html:tr":vb,"html:u":hb,"html:ul":tb};let Z,Tb,W,Ub,Vb=0,Wb;
function Zb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Jb={};Kb={};Lb=0;H=null;Mb=!1;Nb={};I=[];J="";R=0;Z=[];Tb=!1;W=a;Ub=W.length;Wb=0;G=Rb;G.A=!1;++Vb;a=Vb;for(var b in Qb)if(!Qb[b].G)a:{var c=b,d=Qb[c];if(!(d.r&&0>W.indexOf(d.r))){var l=[];if("undefined"!==typeof d.v&&"undefined"!==typeof d.w){let k=void 0;l=d.v;d=d.w;l.lastIndex=0;let g=[],v=0;for(;++v<=d&&(k=l.exec(W));){let p=k.index,u=[[k[0],p]],w=0;for(;++w<k.length;){let e=k[w];void 0===e?u.push(["",-1]):
(u.push([e,W.indexOf(e,p)]),p+=e.length)}g.push(u)}l=g;if(!l.length)break a}(0,Qb[c].q)(W,l)}}$b();ac(Ub,0,!0);do b=J,J=J.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(J!==b);J=J.replace(/<\/i><i>/g,"");J=J.replace(/[\x00-\x08\x0B-\x1F]/g,"");J=J.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bc);c=Mb?"r":"t";b="<"+c;for(let k in Nb)b+=" xmlns:"+k+'="urn:s9e:TextFormatter:'+k+'"';J=b+">"+J+"</"+c+">";if(Vb!==a)throw"The parser has been reset during execution";return J}
function bc(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function cc(a){Mb=!0;let b=a.name,c=a.j,d=a.k;var l=a.flags,k=0;let g=0;l&256&&(k=1,g=a.o&2?2:1);ac(c,k,!(a.o&1&&!(l&4)));k=d?Cb(W.substring(c,c+d)):"";if(a.o&1){l&4||dc(c);l=b.indexOf(":");0<l&&(Nb[b.substring(0,l)]=0);J+="<"+b;let v=Hb(a);l=[];for(let p in v)l.push(p);l.sort((p,u)=>p>u?1:-1);l.forEach(p=>{J+=" "+p+'="'+Bb(v[p].toString()).replace(/\n/g,"&#10;")+'"'});J=3===a.o?d?J+(">"+k+"</"+b+">"):J+"/>":d?J+("><s>"+k+"</s>"):J+">"}else d&&(J+="<e>"+k+"</e>"),J+="</"+b+">";for(Wb=R=c+d;g&&Wb<
Ub&&"\n"===W[Wb];)--g,++Wb}
function ac(a,b,c){c&&(G.flags&8?b=-1:c=!1);R>=a&&c&&ec();if(Wb>R){var d=Math.min(a,Wb);J+=W.substring(R,d);R=d;R>=a&&c&&ec()}if(G.flags&128)b=W.substring(R,a),/^[ \n\t]*$/.test(b)||(b="<i>"+Cb(b)+"</i>"),J+=b,R=a,c&&ec();else{var l=a;for(d=0;b&&--l>=R;){let k=W[l];if(" "!==k&&"\n"!==k&&"\t"!==k)break;"\n"===k&&--b;++d}a-=d;if(G.flags&8)for(G.A||(fc(a),a>R&&dc(a)),b=W.indexOf("\n\n",R);-1<b&&b<a;)ac(b,0,!0),dc(a),b=W.indexOf("\n\n",R);a>R&&(b=Cb(W.substring(R,a)),J+=b);c&&ec();d&&(J+=W.substring(a,
a+d));R=a+d}}function gc(a){let b=a.j;a=a.k;let c=W.substring(b,b+a);ac(b,0,!1);J+="<i>"+Cb(c)+"</i>";Mb=!0;R=b+a}function dc(a){!G.A&&G.flags&8&&(fc(a),R<Ub&&(J+="<p>",G.A=!0))}function ec(){G.A&&(J+="</p>",G.A=!1)}function fc(a){for(;R<a&&-1<" \n\t".indexOf(W[R]);)J+=W[R],++R}function hc(a,b,c){let d=a.name;(H.flags|a.flags)&256&&(b=ic(b));b=Ob(d,b,0,c||0);F(b,a)}function ic(a){for(;a>R&&-1<" \n\t".indexOf(W[a-1]);)--a;return a}
function $b(){if(Z.length){for(let a in Sb)Jb[a]=0,Kb[a]=0;do{for(;Z.length;)Tb||jc(),H=Z.pop(),kc();I.forEach(a=>{hc(a,Ub)})}while(Z.length)}}
function kc(){G.flags&64&&!Ib(H,I[I.length-1])&&!(-1<"br i pb v".indexOf(H.name))&&B(H);var a=H.j,b=H.k;if(R>a&&!H.u){var c;if((c=H.D)&&0<=I.indexOf(c)){F(Ob(c.name,R,Math.max(0,a+b-R)),c);return}if("i"===H.name&&(a=a+b-R,0<a)){Pb(R,a);return}B(H)}if(!H.u)if("i"===H.name)gc(H);else if("br"===H.name)G.flags&1024||(ac(H.j,0,!1),J+="<br/>");else if("pb"===H.name)ac(H.j,0,!0);else if("v"===H.name)a=G.flags,G.flags=H.flags,ac(H.j+H.k,0,!1),G.flags=a;else if(H.o&1)if(a=H,b=a.name,c=Sb[b],Kb[b]>=c.i)B(a);
else{var d=a,l=Sb[d.name];for(var k=0;k<l.c.length&&!d.u;++k)l.c[k](d,l);if(!(d=a.u)&&(d=1E4>Lb)){a:{d=a;if(I.length){k=d.name;var g=Sb[k];if(g.e.m){l=I[I.length-1];let v=l.name;if(g.e.m[v]){if(v!==k&&1E4>Lb){k=d.j+d.k;Z.length?(g=Z[Z.length-1],g=g.j):g=Ub+1;for(;k<g&&-1<" \n\t".indexOf(W[k]);)++k;k=lc(l,k);Fb(d,k)}Z.push(d);hc(l,d.j,d.y-1);Lb+=4;d=!0;break a}}}d=!1}if(!d)a:{d=a;if(I.length&&(l=Sb[d.name],l.e.l&&(k=I[I.length-1],l.e.l[k.name]))){++Lb;Z.push(d);hc(k,d.j,d.y-1);d=!0;break a}d=!1}d=
d||!1}d||(Jb[b]>=c.g?B(a):(c=Sb[b].f,G.d[c>>3]&1<<(c&7)?(!(a.flags&1&&3!==a.o)||a.z||Z.length&&Ib(Z[Z.length-1],a)||(b=new Eb(3,b,a.j,a.k),Ma(b,Hb(a)),b.flags=a.flags,a=b),a.flags&4096&&"\n"===W[a.j+a.k]&&Pb(a.j+a.k,1),cc(a),mc(a)):B(a)))}else nc()}
function nc(){var a=H;if(Jb[a.name]){for(var b=[],c=I.length;0<=--c;){var d=I[c];if(Ib(a,d))break;b.push(d);++Lb}if(!(0>c)){var l=a.flags;b.forEach(p=>{l|=p.flags});var k=l&256,g=1E4>Lb,v=[];b.forEach(p=>{var u=p.name;g&&(p.flags&2?v.push(p):g=!1);let w=a.j;k&&(w=ic(w));u=new Eb(2,u,w,0);u.flags=p.flags;cc(u);oc()});cc(a);oc();if(b.length&&1E4>Lb){d=R;for(c=Z.length;0<=--c&&1E4>++Lb;){let p=Z[c];if(p.j>d||p.o&1)break;let u=b.length;for(;0<=--u&&1E4>++Lb;)if(Ib(p,b[u])){b.splice(u,1);v[u]&&v.splice(u,
1);d=Math.max(d,p.j+p.k);break}}d>R&&gc(new Eb(3,"i",R,d-R))}v.forEach(p=>{let u=lc(p,R);(p=p.z)&&F(u,p)})}}}function oc(){let a=I.pop();--Jb[a.name];G=G.W}function mc(a){let b=a.name,c=a.flags,d=Sb[b];++Kb[b];if(3!==a.o){var l=[];G.d.forEach((g,v)=>{c&512||(g=g&65280|g>>8);l.push(d.d[v]&g)});var k=c|G.flags&32;k&16&&(k&=-33);++Jb[b];I.push(a);G={W:G};G.d=l;G.flags=k}}function Ob(a,b,c,d){return L(2,a,b,c,d||0)}function Pb(a,b,c){return L(3,"i",a,Math.min(b,Ub-a),c||0)}
function lc(a,b){b=L(a.o,a.name,b,0,a.y);Ma(b,Hb(a));return b}function L(a,b,c,d,l){a=new Eb(a,b,c,d,l||0);Sb[b]&&(a.flags=Sb[b].e.flags);if(!(Sb[b]||-1<"br i pb v".indexOf(a.name))||0>d||0>c||c+d>Ub||/[\uDC00-\uDFFF]/.test(W.substring(c,c+1)+W.substring(c+d,c+d+1)))B(a);else if(Sb[b]&&Sb[b].G)B(a);else if(Tb){b=Z.length;for(c=pc(a);0<b&&c>pc(Z[b-1]);)Z[b]=Z[b-1],--b;Z[b]=a}else Z.push(a);return a}function M(a,b,c,d,l,k){d=Ob(a,d,l,-k||0);a=L(1,a,b,c,k||0);F(a,d);return a}
function jc(){let a={},b=[],c=Z.length;for(;0<=--c;){let d=Z[c],l=pc(d,c);b.push(l);a[l]=d}b.sort();c=b.length;for(Z=[];0<=--c;)Z.push(a[b[c]]);Tb=!0}function pc(a,b){let c=0<=a.y,d=a.y;c||(d+=1073741824);let l=0<a.k,k;l?k=Ub-a.k:k={2:0,3:1,1:2}[a.o];return qc(a.j)+ +c+qc(d)+ +l+qc(k)+qc(b||0)}function qc(a){a=a.toString(16);return"        ".substring(a.length)+a}function rc(a){const b=(new DOMParser).parseFromString(a,"text/xml");if(!b)throw"Cannot parse "+a;return b}
function sc(a,b){return tc.transformToFragment(rc(a),b)}var tc;tc=new XSLTProcessor;tc.importStylesheet(rc(xb));window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Qb[a]&&(Qb[a].G=!0)},enablePlugin:function(a){Qb[a]&&(Qb[a].G=!1)},preview:function(a,b){function c(g,v){var p=g.childNodes;v=v.childNodes;var u=p.length,w=v.length;let e,h,r=0,q=0;for(;r<u&&r<w;){e=p[r];h=v[r];if(!d(e,h))break;++r}let f=Math.min(u-r,w-r);for(;q<f;){e=p[u-(q+1)];h=v[w-(q+1)];if(!d(e,h))break;++q}for(u-=q;--u>=r;)g.removeChild(p[u]),k=g;p=w-q;if(!(r>=p)){w=l.createDocumentFragment();u=r;do h=v[u],k=w.appendChild(h);while(u<--p);q?
g.insertBefore(w,g.childNodes[r]):g.appendChild(w)}}function d(g,v){if(g.nodeName!==v.nodeName||g.nodeType!==v.nodeType)return!1;if(g instanceof HTMLElement&&v instanceof HTMLElement){if(!g.isEqualNode(v)){var p=g.attributes;let h=v.attributes;var u=h.length;let r=p.length,q=" "+g.getAttribute("data-s9e-livepreview-ignore-attrs")+" ";for(;0<=--r;){var w=p[r],e=w.namespaceURI;w=w.name;-1<q.indexOf(" "+w+" ")||v.hasAttributeNS(e,w)||(g.removeAttributeNS(e,w),k=g)}for(r=u;0<=--r;)e=h[r],p=e.namespaceURI,
u=e.name,e=e.value,-1<q.indexOf(" "+u+" ")||e===g.getAttributeNS(p,u)||(g.setAttributeNS(p,u,e),k=g);c(g,v)}}else 3!==g.nodeType&&8!==g.nodeType||g.nodeValue===v.nodeValue||(g.nodeValue=v.nodeValue,k=g);return!0}let l=b.ownerDocument;if(!l)throw"Target does not have a ownerDocument";a=sc(Zb(a).replace(/<[eis]>[^<]*<\/[eis]>/g,""),l);let k=b;"undefined"!==typeof window&&"chrome"in window&&a.querySelectorAll("script").forEach(function(g){let v=document.createElement("script");for(let p of g.attributes)v.setAttribute(p.name,
p.value);v.textContent=g.textContent;g.parentNode.replaceChild(v,g)});c(b,a);return k}};})();
		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		document.querySelectorAll('input[type="checkbox"]').forEach(
			(el) => el.addEventListener(
				'change',
				function ()
				{
					(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
								 : s9e.TextFormatter.disablePlugin(el.id);

					text = '';
				}
			)
		);
	</script>
</body>
</html>