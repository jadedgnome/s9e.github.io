<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments
 - **HTMLElements** --- several HTML elements are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:<br/>
   http://youtu.be/QH2-TGUlwu4

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.3 KB (12.1 KB compressed)

***

[![Build Status](https://travis-ci.org/s9e/TextFormatter.png?branch=master)](https://travis-ci.org/s9e/TextFormatter)
[![Coverage Status](https://coveralls.io/repos/s9e/TextFormatter/badge.png)](https://coveralls.io/r/s9e/TextFormatter)
[![Scrutinizer Quality Score](https://scrutinizer-ci.com/g/s9e/TextFormatter/badges/quality-score.png?s=3942dab3c410fb9ce02001e7446d1083fa91172c)](https://scrutinizer-ci.com/g/s9e/TextFormatter/)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">function aa(a){var b=document.createElement("b");b.innerHTML=a.replace(/</g,"&lt;");return b.textContent}function ba(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function ca(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function fa(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}
function h(a,b){return b.test(a)?a:!1}
function ga(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,e){c[a]=""<b[e+1]?b[e+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&punycode&&(c.host=punycode.toASCII(c.host));return c}
function la(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=fa(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+fa(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path;""!==a.query&&(c+="?"+a.query);""!==a.fragment&&(c+="#"+a.fragment);c=c.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z]/g,
escape);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A",b));return b}
function ma(a,b){if(""!==b.scheme&&!a.P.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,e=c.split(".");0<=--d;){if("0"===e[d].charAt(0)||255<e[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(c)&&
c)}if(c)return"URL host is invalid";if(a.Q&&a.Q.test(b.host)||a.W&&!a.W.test(b.host))return"URL host is not allowed"}}function na(){}na.prototype={q:function(){}};function l(a,b,c,d){this.r=a;this.p=b;this.o=c;this.w=d;this.l={};this.M=[];isNaN(a+c+d)&&n(this)}l.prototype.H=!1;l.prototype.u=0;function oa(a,b){a.M.push(b);a.H&&n(b)}function n(a){a.H||(a.H=!0,a.M.forEach(function(a){n(a)}))}
function q(a,b){a.p===b.p&&(1===a.r&&2===b.r&&b.o>=a.o?(a.E=b,b.I=a,oa(a,b)):2===a.r&&1===b.r&&b.o<=a.o&&(a.I=b,b.E=a))}function pa(a){a.u=1E3}function ta(a){var b={},c;for(c in a.l)b[c]=a.l[c];return b}function ua(a,b){return a.H||a.p!==b.p||1!==b.r||2!==a.r||a.o<b.o||a.I&&a.I!==b||b.E&&b.E!==a?!1:!0}function va(a){return"br"===a.p||"i"===a.p||"pb"===a.p}l.prototype.q=function(a,b){this.l[a]=b};function wa(a,b){a.l={};for(var c in b)a.l[c]=b[c]}
var xa,Aa,u,x,y,Ba,Ca=new na,Da,B,C,I={Litedown:{y:function(a){function b(a,c){q(F(2,"LIST",c,0),a.T);q(F(2,"LI",c,0),a.K);a.O&&a.L.forEach(function(a){a.c&=-9})}function c(a){a=a.replace(/[\\\x1A]/g,"");f&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":")","\u001b3":"*","\u001b4":"[","\u001b5":"\\","\u001b6":"]","\u001b7":"^","\u001b8":"_","\u001b9":"`","\u001bA":"~"}[a]}));return a}function d(){var c={};if(-1===a.indexOf("-")&&-1===a.indexOf("="))return c;for(var b,
d=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=d.exec(a);){var e=b[0];b=b.index;for(var f=b-1;0<f&&" "===a[f-1];)--f;c[b-1]={R:b+e.length-f,S:f,V:e.length-e.replace(/>/g,"").length,z:"="===e.charAt(0)?"H1":"H2"}}return c}function e(c,b){var d=a.indexOf(c);if(-1!==d)for(var e=0,d=a.indexOf("\u0017",d),f,g,k,m;g=b.exec(a);){var p=g.index,r=g[0].length;p>d&&(e=0,d=a.indexOf("\u0017",p));if(3<=r){var E=r;3>e?m=g=p:f<k?(m=p,g=p+2):(m=p+1,g=p,k===f&&(f+=2));e&2&&(H("STRONG",k,2,m,2),E-=2);e&1&&(H("EM",
f,1,g,1),--E);E?(e=Math.min(E,3),e&1&&(f=p+r-e),e&2&&(k=p+r-e)):e=0}else 2===r?3===e&&k===f?(H("STRONG",f+1,2,p,2),e=1):e&2?(H("STRONG",k,2,p,2),e-=2):(e+=2,k=p):"_"===c&&0<p&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(p-1))&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(p+1))||(3===e&&k===f?(H("EM",k+2,1,p,1),e=2):e&1?(H("EM",f,1,p,1),--e):(++e,f=p))}}function g(c,b){a=a.substr(0,c)+Array(1+b).join("\u001a")+a.substr(c+
b)}var f,m,k,r,p;(function(){0>a.indexOf("\\")?f=!1:(f=!0,a=a.replace(/\\[!")*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\)":"\u001b2","\\*":"\u001b3","\\[":"\u001b4","\\\\":"\u001b5","\\]":"\u001b6","\\^":"\u001b7","\\_":"\u001b8","\\`":"\u001b9","\\~":"\u001bA"}[a]}));a+="\n\n\u0017"})();(function(){for(var c=[],e=4,f,v=!0,z=[],t=0,ha=!1,Ma=[],ia=0,ja=d(),E=0,ka,S,ya,P,N,A,za,qa,Y,Na=[],da,ra=/^(?:(?=[-*+\d \t>`#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=.))?[ \t]*(#+[ \t]*(?=.)|```+)?)?/gm;da=
ra.exec(a);)Na.push(da),da.index===ra.lastIndex&&++ra.lastIndex;Na.forEach(function(d){var O=d.index,sa=d[0].length;P=0;S=!v;N=a.indexOf("\n",O);v=N===O+sa&&!d[3]&&!d[4]&&!d[5];sa||++ra.lastIndex;ka=v&&S;d[1]?(Y=d[1].length-d[1].replace(/>/g,"").length,P=d[1].length):Y=0;if(Y<ia&&!S&&!v){ha=!0;do q(F(2,"QUOTE",E,0),Ma.pop());while(Y<--ia)}if(Y>ia&&!v){ha=!0;do{var G=F(1,"QUOTE",O,0);G.u=ia;Ma.push(G)}while(Y>++ia)}var T=G=0,Q,ea;if(d[2]){Q=d[2];ea=Q.length;do" "===Q.charAt(T)?++G:G=G+4&-4;while(++T<
ea&&G<e)}G<e&&f&&!v&&(ha=!0);ha&&(ha=!1,f&&(g(f.o,E-f.o),ya=F(2,"CODE",E,0),q(ya,f),ya.u=-1,f=null),z.forEach(function(a){b(a,E)}),z=[],t=0,O&&c.push(O-1));if(G>=e){if(f||!S)P=(d[1]||"").length+T,f||(f=F(1,"CODE",O+P,0)),d={}}else{Q=!!d[4];if(G||S||Q||v)if(S&&!Q)A=t-1;else if(t)for(A=0;A<t&&G>z[A].N;)++A;else A=!S&&Q?0:-1;else A=-1;for(;A<t-1;)b(z.pop(),E),--t;A!==t||Q||--A;if(Q&&0<=A){ka=!0;ea=O+P+T;var da=d[4].length,T=F(1,"LI",ea,da);g(ea,da);A<t?(q(F(2,"LI",E,0),z[A].K),z[A].K=T,z[A].L.push(T)):
(++t,A?(qa=z[A-1].N+1,za=Math.max(qa,4*A)):(qa=0,za=G),G=F(1,"LIST",ea,0),-1<d[4].indexOf(".")&&G.q("type","decimal"),z.push({T:G,K:T,L:[T],X:qa,N:za,O:!0}))}!t||S||v||(1<z[0].L.length||!Q)&&z.forEach(function(a){a.O=!1});e=4*(t+1)}if(d[5]){if("#"===d[5].charAt(0)){m=d[5].length;k=O+sa-m;r=N;for(p=0;-1<" #\t".indexOf(a.charAt(r-1));)--r,++p;H("H"+/#{1,6}/.exec(d[5])[0].length,k,m,r,p);c.push(k);c.push(r);S&&(ka=!0)}}else d[3]&&!t?(F(3,"HR",O+P,sa-P),ka=!0,g(N,1)):!ja[N]||ja[N].V!==Y||v||t||f||(H(ja[N].z,
O+P,0,ja[N].S,ja[N].R),g(N,1));ka&&(F(3,"pb",E,0),c.push(E));v||(E=N);P&&pa(F(3,"i",O,P))});c.forEach(function(c){a=a.substr(0,c)+"\u0017"+a.substr(1+c)})})();(function(){if(-1!==a.indexOf("`"))for(var c,b=/(``?)[^\x17]*?[^`]\1(?!`)/g;c=b.exec(a);){var d=c.index,e=c[0].length;c=c[1].length;H("C",d,c,d+e-c,c);g(d,e)}})();(function(){if(-1!==a.indexOf("!["))for(var b,d=/!\[([^\x17\]]+)] ?\(([^\x17 ")]+)(?: "([^\x17"]*)")?\)/g;b=d.exec(a);){var e=b.index,f=b[0].length,k=b[1].length,p=e,k=H("IMG",p,2,
p+2+k,f-2-k);k.q("alt",c(b[1]));k.q("src",c(b[2]));""<b[3]&&k.q("title",c(b[3]));g(e,f)}})();(function(){if(-1!==a.indexOf("["))for(var b,d=/\[([^\x17\]]+)] ?\(([^\x17)]+)\)/g;b=d.exec(a);){var e=b[1].length,f=b.index,k=f+1+e,e=b[0].length-1-e,p=b[2],m="";if(b=/^(.+?) "(.*?)"$/.exec(p))p=b[1],m=b[2];b=H("URL",f,1,k,e);b.q("url",c(p));""!==m&&b.q("title",c(m));g(f,1);g(k,e)}})();(function(){if(-1!==a.indexOf("~~"))for(var c,b=/~~[^\x17]+?~~/g;c=b.exec(a);){var d=c.index;H("DEL",d,2,d+c[0].length-2,
2)}})();(function(){if(-1!==a.indexOf("^"))for(var c,b=/\^[^\x17\s]+/g;c=b.exec(a);){var d=c[0],e=c=c.index,f=c+d.length,d=d.split("^");d.shift();d.forEach(function(a){H("SUP",e,1,f,0);e+=1+a.length})}})();e("*",/\*+/g);e("_",/_+/g);(function(){for(var c=a.indexOf("  \n");-1!==c;)F(3,"br",c+2,0),c=a.indexOf("  \n",c+3)})()}},Autoemail:{A:"@",B:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,F:1E4,y:function(a,b){b.forEach(function(a){var b=F(1,"EMAIL",a[0][1],0);b.q("email",a[0][0]);a=F(2,"EMAIL",a[0][1]+
a[0][0].length,0);q(b,a)})}},Autolink:{B:/(?:ftp|https?):\/\/\S(?:[^\s\[\]]*(?:\[\w*\])?)+/ig,A:"://",F:1E4,y:function(a,b){b.forEach(function(c){var b=c[0][0],e=c[0][1];if(!(0<e&&-1<"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(e-1)))){for(;;)if(b=b.replace(/[\s!"',.<>?]+$/,""),")"===b.substr(-1)&&b.replace(/[^(]+/g,"").length<b.replace(/[^)]+/g,"").length)b=b.substr(0,b.length-1);else break;c=F(2,"URL",e+b.length,0);"."===b.charAt(3)&&(b="http://"+b);e=F(1,"URL",
e,0);e.q("url",b);q(e,c)}})}},Escaper:{A:"\\",B:/\\[-!#()*+.:<>@[\\\]^_`{}]/g,F:1E4,y:function(a,b){b.forEach(function(a){H("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})}},FancyPants:{y:function(a){function b(){for(var b={"--":"\u2013","---":"\u2014","...":"\u2026"},c,d=/---?|\.\.\./g;c=d.exec(a);){var e=b[c[0]];F(3,f.z,+c.index,c[0].length).q(f.D,e)}}function c(b,c,d,e){for(var k;k=c.exec(a);){var g=F(3,f.z,+k.index+k[0].indexOf(b),1);k=F(3,f.z,+k.index+k[0].length-1,1);g.q(f.D,d);k.q(f.D,e);oa(g,
k)}}function d(a){for(var b,c=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;b=c.exec(a);)b=F(3,f.z,+b.index+b[0].indexOf("'"),1),b.q(f.D,"\u2019"),b.u=10}function e(a){for(var b,c=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;b=c.exec(a);){var d=+b.index+b[0].length-1;"x"===b[0].charAt(d)&&F(3,f.z,d,1).q(f.D,"\u00d7");var e=b[0].charAt(1);if("'"===e||'"'===e)d=+b.index+1,b="'s"===b[0].substr(1,2)?"\u2019":"'"===e?"\u2032":"\u2033",F(3,f.z,d,1).q(f.D,b)}}function g(){for(var b={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},
c,d=/\((?:c|r|tm)\)/gi;c=d.exec(a);){var e=b[c[0].toLowerCase()];F(3,f.z,+c.index,c[0].length).q(f.D,e)}}var f={D:"char",z:"FP"},m=0<=a.indexOf("'"),k=0<=a.indexOf('"');m&&d(a);(m||k||0<=a.indexOf("x"))&&e(a);m&&c("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019");k&&c('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d");(0<=a.indexOf("...")||0<=a.indexOf("--"))&&b();0<=a.indexOf("(")&&g()}},HTMLComments:{A:"\x3c!--",B:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,F:1E4,y:function(a,b){b.forEach(function(a){var b=aa(a[0][0].substr(4,
a[0][0].length-7)),b=b.replace(/[<>]/g,""),b=b.replace(/--/g,"");F(3,"HC",a[0][1],a[0][0].length).q("content",b)})}},HTMLEntities:{A:"&",B:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,F:1E4,y:function(a,b){b.forEach(function(a){var b=a[0][0],e=aa(b);e!==b&&F(3,"HE",a[0][1],b.length).q("char",e)})}},HTMLElements:{A:"<",B:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
F:1E4,y:function(a,b){var c={a:{"":"URL",href:"url"},hr:{"":"HR"},em:{"":"EM"},s:{"":"S"},strong:{"":"STRONG"},sub:{"":"SUB"},sup:{"":"SUP"}};b.forEach(function(b){var e="/"===a.charAt(b[0][1]+1),g=b[0][1],f=b[0][0].length,m=b[2-e][0].toLowerCase(),k=c&&c[m]&&c[m][""]?c[m][""]:"html:"+m;if(e)F(2,k,g,f);else{e="/>"===b[0][0].substr(f-2)?H(k,g,f,g+f,0):F(1,k,g,f);b=b[3][0];for(var g=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi,r;k=g.exec(b);)r=k[0].indexOf("="),0>r&&(r=k[0].length,
k[0]+="="+k[0].toLowerCase()),f=k[0].substr(0,r).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),k=k[0].substr(1+r).replace(/^\s+/,"").replace("/s+$/",""),c&&c[m]&&c[m][f]&&(f=c[m][f]),/^["']/.test(k)&&(k=k.substr(1,k.length-2)),e.q(f,aa(k))}})}},MediaEmbed:{A:":",B:/\b(?:spotify:|https?:\/\/(?:[-.\w]+\.)?(?:twitch\.tv|vi(?:meo\.com|ne\.co)|youtu(?:\.be|be\.com)|(?:bandcamp|dailymotion|liveleak|soundcloud|www\.facebook|(?:open|play)\.spotify)\.com)\/)[^["'\s]+(?!\S)/g,F:1E4,y:function(a,b){b.forEach(function(a){var b=
a[0][0];a=F(3,"MEDIA",a[0][1],b.length);a.q("url",b);a.u=-10})}}},K,Ea={urlConfig:{P:/^(?:ftp|https?)$/i},mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion","www.facebook.com":"facebook","liveleak.com":"liveleak","soundcloud.com":"soundcloud","open.spotify.com":"spotify","play.spotify.com":"spotify","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtube.com":"youtube","youtu.be":"youtube"}},Fa={d:[119],f:[4095],c:8},V={C:{b:[L],i:10,e:{c:66},j:1E3,
g:0,d:[0],f:[0]},CODE:{l:{lang:{b:[Ga],k:!1}},b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:4436},j:1E3,g:1,d:[0],f:[0]},DEL:{b:[L],i:10,e:{c:512},j:1E3,g:0,d:[119],f:[4095]},EM:{b:[L],i:10,e:{c:2},j:1E3,g:0,d:[113],f:[4095]},H1:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},j:1E3,g:2,d:[113],f:[4095]},H2:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,
"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},j:1E3,g:2,d:[113],f:[4095]},H3:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},j:1E3,g:2,d:[113],f:[4095]},H4:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},j:1E3,g:2,d:[113],f:[4095]},H5:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},
c:260},j:1E3,g:2,d:[113],f:[4095]},H6:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},j:1E3,g:2,d:[113],f:[4095]},HR:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3333},j:1E3,g:1,d:[96],f:[4095]},IMG:{l:{alt:{k:!1},src:{b:[M],k:!0},title:{k:!1}},b:[L],i:10,e:{c:3073},j:1E3,g:0,d:[96],f:[4095]},LI:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,
"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{LI:1,"html:li":1},c:264},j:1E3,g:3,d:[119],f:[4095]},LIST:{l:{type:{b:[Ga],k:!1}},b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},j:1E3,g:1,d:[40],f:[4095]},QUOTE:{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:268},j:1E3,g:1,d:[119],f:[4095]},STRONG:{b:[L],i:10,e:{c:2},j:1E3,g:0,d:[113],f:[4095]},SUP:{b:[L],
i:10,e:{c:0},j:1E3,g:0,d:[113],f:[4095]},URL:{l:{title:{k:!1},url:{b:[M],k:!0}},b:[L],i:10,e:{c:514},j:1E3,g:4,d:[103],f:[4079]},EMAIL:{l:{email:{b:[Ha],k:!0}},b:[L],i:10,e:{c:514},j:1E3,g:4,d:[103],f:[4079]},ESC:{b:[L],i:10,e:{c:1616},j:1E3,g:5,d:[0],f:[0]},FP:{l:{"char":{k:!0}},b:[L],i:10,e:{c:3073},j:1E3,g:6,d:[96],f:[4095]},HC:{l:{content:{k:!0}},b:[L],i:10,e:{c:3137},j:1E3,g:5,d:[0],f:[0]},HE:{l:{"char":{k:!0}},b:[L],i:10,e:{c:3073},j:1E3,g:6,d:[96],f:[4095]},"html:abbr":{l:{title:{k:!1}},b:[L],
i:10,e:{c:0},j:1E3,g:0,d:[113],f:[4095]},"html:b":{b:[L],i:10,e:{c:2},j:1E3,g:0,d:[113],f:[4095]},"html:br":{b:[L],i:10,e:{c:3201},j:1E3,g:0,d:[32],f:[4095]},"html:code":{b:[L],i:10,e:{c:66},j:1E3,g:0,d:[0],f:[0]},"html:del":{b:[L],i:10,e:{c:512},j:1E3,g:0,d:[119],f:[4095]},"html:div":{l:{"class":{k:!1}},b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:268},j:1E3,g:1,d:[119],f:[4095]},"html:i":{b:[L],i:10,e:{c:2},j:1E3,g:0,d:[113],
f:[4095]},"html:img":{l:{alt:{k:!1},height:{k:!1},src:{b:[M],k:!1},title:{k:!1},width:{k:!1}},b:[L],i:10,e:{c:3201},j:1E3,g:0,d:[32],f:[4095]},"html:ins":{b:[L],i:10,e:{c:512},j:1E3,g:0,d:[119],f:[4095]},"html:li":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{LI:1,"html:li":1},c:264},j:1E3,g:3,d:[119],f:[4095]},"html:ol":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},
c:3460},j:1E3,g:1,d:[40],f:[4095]},"html:pre":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:276},j:1E3,g:1,d:[113],f:[4095]},"html:rb":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:256},j:1E3,g:7,d:[113],f:[4095]},"html:rp":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,
"html:strong":1,"html:u":1},v:{"html:rb":1,"html:rp":1,"html:rtc":1},c:256},j:1E3,g:7,d:[113],f:[4095]},"html:rt":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:rb":1,"html:rp":1,"html:rt":1},c:256},j:1E3,g:8,d:[113],f:[4095]},"html:rtc":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:256},j:1E3,g:7,d:[369],
f:[4095]},"html:ruby":{b:[L],i:10,e:{c:0},j:1E3,g:0,d:[497],f:[4095]},"html:span":{l:{"class":{k:!1}},b:[L],i:10,e:{c:0},j:1E3,g:0,d:[113],f:[4095]},"html:strong":{b:[L],i:10,e:{c:2},j:1E3,g:0,d:[113],f:[4095]},"html:sub":{b:[L],i:10,e:{c:0},j:1E3,g:0,d:[113],f:[4095]},"html:sup":{b:[L],i:10,e:{c:0},j:1E3,g:0,d:[113],f:[4095]},"html:table":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},j:1E3,g:1,d:[2592],f:[4095]},"html:tbody":{b:[L],
i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:tbody":1,"html:tfoot":1,"html:thead":1},c:3456},j:1E3,g:9,d:[2080],f:[4095]},"html:td":{l:{colspan:{k:!1},rowspan:{k:!1}},b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:td":1,"html:th":1},c:264},j:1E3,g:10,d:[119],f:[4095]},"html:tfoot":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,
"html:i":1,"html:strong":1,"html:u":1},v:{"html:tbody":1,"html:thead":1},c:3456},j:1E3,g:9,d:[2080],f:[4095]},"html:th":{l:{colspan:{k:!1},rowspan:{k:!1},scope:{k:!1}},b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:td":1,"html:th":1},c:264},j:1E3,g:10,d:[115],f:[4091]},"html:thead":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3456},j:1E3,g:9,d:[2080],f:[4095]},
"html:tr":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},v:{"html:tr":1},c:3456},j:1E3,g:11,d:[1056],f:[4095]},"html:u":{b:[L],i:10,e:{c:2},j:1E3,g:0,d:[113],f:[4095]},"html:ul":{b:[L],i:10,e:{n:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},j:1E3,g:1,d:[40],f:[4095]},MEDIA:{b:[Ia],i:10,e:{c:577},j:1E3,g:5,d:[0],f:[0]},BANDCAMP:{l:{url:{b:[M],k:!1},album_id:{b:[R],k:!1},track_num:{b:[R],
k:!1},track_id:{b:[R],k:!1}},b:[Ja,L,Ka],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},DAILYMOTION:{l:{url:{b:[M],k:!1},id:{b:[La],k:!0}},x:[["url",/dailymotion\.com\/(?:live\/|user\/[^#]+#video=|video\/)([A-Za-z0-9]+)/,["","id"]],["url",/^([A-Za-z0-9]+)$/,["","id"]]],b:[U,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},FACEBOOK:{l:{url:{b:[M],k:!1},id:{b:[R],k:!0}},x:[["url",/(?:m|www)\.facebook\.com\/(?:[\w\/]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,["","id"]],["url",/^(\d+)$/,
["","id"]]],b:[U,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},LIVELEAK:{l:{url:{b:[M],k:!1},id:{b:[Oa],k:!0}},x:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,["","id"]],["url",/^([a-f_0-9]+)$/,["","id"]]],b:[U,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},SOUNDCLOUD:{l:{url:{b:[M],k:!1},playlist_id:{b:[R],k:!1},track_id:{b:[R],k:!1},id:{b:[Pa],k:!0},secret_token:{b:[Qa],k:!1}},x:[["url",/(https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)/,
["","id","secret_token"]],["url",/^(https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)$/,["","id","secret_token"]]],b:[U,Ra,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},SPOTIFY:{l:{url:{b:[M],k:!1},uri:{b:[Sa],k:!1},path:{b:[Ta],k:!1}},x:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[\/\w]+)/,
["","path"]]],b:[U,L,Ka],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},TWITCH:{l:{url:{b:[M],k:!1},channel:{b:[Ua],k:!1},archive_id:{b:[R],k:!1},chapter_id:{b:[R],k:!1},video_id:{b:[R],k:!1}},x:[["url",/twitch\.tv\/((?!m\/)\w+)(?:\/b\/(\d+)|\/c\/(\d+)|\/v\/(\d+))?/,["","channel","archive_id","chapter_id","video_id"]]],b:[U,Va,L,Ka],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},VIMEO:{l:{url:{b:[M],k:!1},id:{b:[R],k:!0}},x:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,["","id"]],["url",/^(\d+)$/,["",
"id"]]],b:[U,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},VINE:{l:{url:{b:[M],k:!1},id:{b:[Wa],k:!0}},x:[["url",/vine\.co\/v\/([^\/]+)/,["","id"]],["url",/^([^\/]+)$/,["","id"]]],b:[U,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]},YOUTUBE:{l:{url:{b:[M],k:!1},id:{b:[Qa],k:!0},h:{b:[R],k:!1},m:{b:[R],k:!1},s:{b:[R],k:!1},t:{b:[R],k:!1},list:{b:[Qa],k:!1}},x:[["url",/youtube\.com\/(?:watch.*?v=|v\/)([-\w]+)/,["","id"]],["url",/youtu\.be\/([-\w]+)/,["","id"]],["url",/[#&?]t=(?:(?:(\d+)h)?(\d+)m(\d+)|(\d+))/,
["","h","m","s","t"]],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,["","id"]]],b:[U,L],i:10,e:{c:3137},j:1E3,g:4,d:[0],f:[0]}},W,Xa,X,Ya,Za=0,Z;
function $a(a){a=a.replace(/\r\n?/g,"\n",a);a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"",a);xa={};Aa={};x=0;y=null;Ba=!1;Da={};B=[];C="";K=0;W=[];Xa=!0;X=a;Ya=X.length;Z=0;u=Fa;u.G=!1;++Za;a=Za;for(var b in I)if(!I[b].J)a:{var c=b,d=I[c];if(!(d.A&&0>X.indexOf(d.A))){var e=[];if(d.B){e=d.B;d=d.F;e.lastIndex=0;for(var g=[],f=0,m=void 0;++f<=d&&(m=e.exec(X));){for(var k=+m.index,r=[[m[0],k]],p=0;++p<m.length;){var D=m[p];void 0===D?r.push(["",-1]):(r.push([D,X.indexOf(D,k)]),k+=D.length)}g.push(r)}e=
g;if(!e.length)break a}(0,I[c].y)(X,e)}}ab();bb(Ya,0,!0);do b=C,C=C.replace(/<(?!\/)[^>]+><\/[\w:]+>/g,"");while(C!==b);C=C.replace(/<\/i><i>/g,"",C);C=C.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cb);c=Ba?"r":"t";b="<"+c;for(var w in Da)b+=" xmlns:"+w+'="urn:s9e:TextFormatter:'+w+'"';C=b+">"+C+"</"+c+">";if(Za!==a)throw"The parser has been reset during execution";return C}
function db(a,b){b.x&&b.x.forEach(function(b){var d=b[0],e=b[1];b=b[2];if(d in a.l){var g;(g=e.exec(a.l[d]))&&b.forEach(function(b,c){if(""!==b&&"string"===typeof g[c]){var e=g[c];b!==d&&b in a.l||a.q(b,e)}})}});return!0}function cb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function eb(a){Ba=!0;var b=a.p,c=a.o,d=a.w,e=a.c,g=0,f=0;e&256&&(g=1,f=a.r&2?2:1);var m=!1;a.r&1?e&4&&(m=!0):m=!0;bb(c,g,m);g=d?ca(X.substr(c,d)):"";if(a.r&1){e&4||fb(c);e=b.indexOf(":");0<e&&(Da[b.substr(0,e)]=0);C+="<"+b;var k=ta(a),e=[],r;for(r in k)e.push(r);e.sort(function(a,b){return a>b?1:-1});e.forEach(function(a){C+=" "+a+'="'+ba(k[a].toString())+'"'});C=3===a.r?d?C+(">"+g+"</"+b+">"):C+"/>":d?C+("><s>"+g+"</s>"):C+">"}else d&&(C+="<e>"+g+"</e>"),C+="</"+b+">";for(Z=K=c+d;f&&Z<Ya&&"\n"===
X.charAt(Z);)--f,++Z}
function bb(a,b,c){c&&(u.c&8?b=-1:c=!1);K>=a&&c&&gb();if(Z>K){var d=Math.min(a,Z);C+=X.substr(K,d-K);K=d;K>=a&&c&&gb()}if(u.c&128)d=a-K,b=X.substr(K,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),C+=b,K=a,c&&gb();else{for(var e=a,d=0;b&&--e>=K;){var g=X.charAt(e);if(" "!==g&&"\n"!==g&&"\t"!==g)break;"\n"===g&&--b;++d}a-=d;if(u.c&8)for(u.G||(hb(a),a>K&&fb(a)),b=X.indexOf("\n\n",K);-1<b&&b<a;)bb(b,0,!0),fb(a),b=X.indexOf("\n\n",K);a>K&&(b=ca(X.substr(K,a-K)),C+=b);c&&gb();d&&(C+=X.substr(a,d));K=a+d}}
function ib(a){var b=a.o;a=a.w;var c=X.substr(b,a);bb(b,0,!1);C+="<i>"+ca(c)+"</i>";Ba=!0;K=b+a}function fb(a){!u.G&&u.c&8&&(hb(a),K<Ya&&(C+="<p>",u.G=!0))}function gb(){u.G&&(C+="</p>",u.G=!1)}function hb(a){for(;K<a&&-1<" \n\t".indexOf(X.charAt(K));)C+=X.charAt(K),++K}function jb(a,b){var c=a.p;a.c&256&&(b=kb(b));q(F(2,c,b,0),a)}function kb(a){for(;a>K&&-1<" \n\t".indexOf(X.charAt(a-1));)--a;return a}
function ab(){if(W.length){for(var a in V)xa[a]=0,Aa[a]=0;do{for(;W.length;)Xa||(W.sort(lb),Xa=!0),y=W.pop(),u.c&64&&!ua(y,B[B.length-1])&&!va(y)||mb();B.forEach(function(a){jb(a,Ya)})}while(W.length)}}
function mb(){if(!y.H){var a=y.o,b=y.w;if(K>a){var c;if((c=y.I)&&0<=B.indexOf(c))a=Math.max(0,a+b-K),a=F(2,c.p,K,a),q(a,c);else{if("i"===y.p&&(c=a+b-K,0<c)){F(3,"i",K,c);return}n(y)}}else if("i"===y.p)ib(y);else if("br"===y.p)u.c&1024||(bb(y.o,0,!1),C+="<br/>");else if("pb"===y.p)bb(y.o,0,!0);else if(y.r&1)if(c=y,a=c.p,b=V[a],Aa[a]>=b.j)n(c);else{var d=c,e=V[d.p],g=!0;if(e.b)for(var f=0;f<e.b.length;++f)if(!e.b[f](d,e)){g=!1;break}if(g){a:{d=c;if(B.length&&(g=d.p,f=V[g],f.e.n)){var e=B[B.length-1],
m=e.p;if(f.e.n[m]){m!==g&&1E3>x&&(g=nb(e,d.o+d.w),oa(d,g));++x;W.push(d);jb(e,d.o);d=!0;break a}}d=!1}if(!d)a:{d=c;if(B.length&&(e=V[d.p],e.e.v&&(g=B[B.length-1],e.e.v[g.p]))){W.push(d);jb(g,d.o);d=!0;break a}d=!1}d||(xa[a]>=b.i?n(c):(b=V[a].g,u.d[b>>5]&1<<(b&31)?(!(c.c&1)||c.E||W.length&&ua(W[W.length-1],c)||(a=new l(3,a,c.o,c.w),wa(a,ta(c)),a.c=c.c,c=a),c.c&4096&&!c.E&&"\n"===X.charAt(c.o+c.w)&&F(3,"i",c.o+c.w,1),eb(c),ob(c)):n(c)))}else n(c)}else pb()}}
function pb(){var a=y;if(xa[a.p]){for(var b=[],c=B.length;0<=--c;){var d=B[c];if(ua(a,d))break;b.push(d);++x}if(!(0>c)){var e=1E3>x,g=[];b.forEach(function(b){var c=b.p;e&&(b.c&2?g.push(b):e=!1);var d=a.o;b.c&256&&(d=kb(d));c=new l(2,c,d,0);c.c=b.c;eb(c);qb()});eb(a);qb();if(b.length&&1E3>x){d=K;for(c=W.length;0<=--c&&1E3>++x;){var f=W[c];if(f.o>d||f.r&1)break;for(var m=b.length;0<=--m&&1E3>++x;)if(ua(f,b[m])){b.splice(m,1);g[m]&&g.splice(m,1);d=Math.max(d,f.o+f.w);break}}d>K&&ib(new l(3,"i",K,d-
K))}g.forEach(function(a){var b=nb(a,K);(a=a.E)&&q(b,a)})}}}function qb(){var a=B.pop();--xa[a.p];u=u.U}function ob(a){function b(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=a[c]&b[c];return e}var c=a.p,d=a.c,e=V[c];++Aa[c];3!==a.r&&(++xa[c],B.push(a),a=b(e.d,e.d),d&512&&(a=b(a,u.d)),e=b(u.f,e.f),a=b(a,e),d|=u.c&32,d&16&&(d&=-33),u={d:a,f:e,c:d,U:u})}function nb(a,b){var c=F(a.r,a.p,b,0);wa(c,ta(a));c.u=a.u;return c}
function F(a,b,c,d){a=new l(a,b,c,d);V[b]&&(a.c=V[b].e.c);V[b]||va(a)?V[b]&&V[b].J?n(a):0>d||0>c||c+d>Ya?n(a):(Xa&&W.length&&a.o>=W[W.length-1].o&&(Xa=!1),W.push(a)):n(a);return a}function H(a,b,c,d,e){b=F(1,a,b,c);q(b,F(2,a,d,e));return b}function lb(a,b){var c=a.o,d=b.o;if(c!==d)return d-c;if(a.u!==b.u)return b.u-a.u;c=a.w;d=b.w;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.r]-c[a.r])}var rb="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;
function sb(a,b){if(rb){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}function tb(a,b){if(rb){var c=b.createElement("div"),d=b.createDocumentFragment();ub.input=sb(a,"MSXML2.DOMDocument.6.0");ub.transform();for(c.innerHTML=ub.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(ub.transformToFragment(sb(a),b),!0)}
var ub,vb=sb('<?xml version="1.0" encoding="utf-8"?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/><xsl:template match="BANDCAMP"><iframe width="400" height="400" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<xsl:choose><xsl:when test="@album_id">album=<xsl:value-of select="@album_id"/><xsl:if test="@track_num">/t=<xsl:value-of select="@track_num"/></xsl:if></xsl:when><xsl:otherwise>track=<xsl:value-of select="@track_id"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="C"><code><xsl:apply-templates/></code></xsl:template><xsl:template match="CODE"><pre><code class="{@lang}"><xsl:apply-templates/></code></pre></xsl:template><xsl:template match="DAILYMOTION"><iframe width="560" height="315" src="//www.dailymotion.com/embed/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="DEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|html:b|html:br|html:code|html:del|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element name="{translate(local-name(),\'DEGHILMNOPRSTU\',\'deghilmnoprstu\')}"><xsl:apply-templates/></xsl:element></xsl:template><xsl:template match="EMAIL"><a href="mailto:{@email}"><xsl:apply-templates/></a></xsl:template><xsl:template match="ESC"><xsl:apply-templates/></xsl:template><xsl:template match="FACEBOOK"><iframe width="560" height="315" src="//s9e.github.io/iframe/facebook.min.html#{@id}" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,src.substr(0,src.indexOf(\'/\',8)))" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="FP|HE"><xsl:value-of select="@char"/></xsl:template><xsl:template match="HC"><xsl:comment><xsl:value-of select="@content"/></xsl:comment></xsl:template><xsl:template match="HR"><hr/></xsl:template><xsl:template match="IMG"><img src="{@src}"><xsl:copy-of select="@alt"/><xsl:copy-of select="@title"/></img></xsl:template><xsl:template match="LIST"><xsl:choose><xsl:when test="not(@type)"><ul><xsl:apply-templates/></ul></xsl:when><xsl:otherwise><ol><xsl:apply-templates/></ol></xsl:otherwise></xsl:choose></xsl:template><xsl:template match="LIVELEAK"><iframe width="640" height="360" src="http://www.liveleak.com/ll_embed?i={@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="QUOTE"><blockquote><xsl:apply-templates/></blockquote></xsl:template><xsl:template match="SOUNDCLOUD"><iframe width="100%" height="166" style="max-width:900px" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://w.soundcloud.com/player/?url=<xsl:choose><xsl:when test="@secret_token and@playlist_id">https://api.soundcloud.com/playlists/<xsl:value-of select="@playlist_id"/>&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:when><xsl:when test="@secret_token and@track_id">https://api.soundcloud.com/tracks/<xsl:value-of select="@track_id"/>&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:when><xsl:otherwise><xsl:if test="not(contains(@id,\'://\'))">https://soundcloud.com/</xsl:if><xsl:value-of select="@id"/><xsl:if test="@secret_token">&amp;secret_token=<xsl:value-of select="@secret_token"/></xsl:if></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="SPOTIFY"><iframe width="400" height="480" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://embed.spotify.com/?view=coverart&amp;uri=<xsl:choose><xsl:when test="@uri"><xsl:value-of select="@uri"/></xsl:when><xsl:otherwise>spotify:<xsl:value-of select="translate(@path,\'/\',\':\')"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="TWITCH"><iframe width="620" height="378" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//s9e.github.io/iframe/twitch.min.html#channel=<xsl:value-of select="@channel"/><xsl:choose><xsl:when test="@archive_id">&amp;videoId=a<xsl:value-of select="@archive_id"/></xsl:when><xsl:when test="@chapter_id">&amp;videoId=c<xsl:value-of select="@chapter_id"/></xsl:when><xsl:when test="@video_id">&amp;videoId=v<xsl:value-of select="@video_id"/></xsl:when></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="URL"><a href="{@url}"><xsl:copy-of select="@title"/><xsl:apply-templates/></a></xsl:template><xsl:template match="VIMEO"><iframe width="560" height="315" src="//player.vimeo.com/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="VINE"><iframe width="480" height="480" src="https://vine.co/v/{@id}/embed/simple" allowfullscreen="" frameborder="0" scrolling="no"/><script async="" src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"/></xsl:template><xsl:template match="YOUTUBE"><iframe width="560" height="315" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//www.youtube.com/embed/<xsl:value-of select="@id"/><xsl:if test="@list">?list=<xsl:value-of select="@list"/></xsl:if><xsl:if test="@t or@m"><xsl:choose><xsl:when test="@list">&amp;</xsl:when><xsl:otherwise>?</xsl:otherwise></xsl:choose>start=<xsl:choose><xsl:when test="@t"><xsl:value-of select="@t"/></xsl:when><xsl:when test="@h"><xsl:value-of select="@h*3600+@m*60+@s"/></xsl:when><xsl:otherwise><xsl:value-of select="@m*60+@s"/></xsl:otherwise></xsl:choose></xsl:if></xsl:attribute></iframe></xsl:template><xsl:template match="br"><br/></xsl:template><xsl:template match="e|i|s"/><xsl:template match="html:abbr"><abbr><xsl:copy-of select="@title"/><xsl:apply-templates/></abbr></xsl:template><xsl:template match="html:div"><div><xsl:copy-of select="@class"/><xsl:apply-templates/></div></xsl:template><xsl:template match="html:img"><img><xsl:copy-of select="@alt"/><xsl:copy-of select="@height"/><xsl:copy-of select="@src"/><xsl:copy-of select="@title"/><xsl:copy-of select="@width"/><xsl:apply-templates/></img></xsl:template><xsl:template match="html:span"><span><xsl:copy-of select="@class"/><xsl:apply-templates/></span></xsl:template><xsl:template match="html:td"><td><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:apply-templates/></td></xsl:template><xsl:template match="html:th"><th><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:copy-of select="@scope"/><xsl:apply-templates/></th></xsl:template></xsl:stylesheet>',"MSXML2.FreeThreadedDOMDocument.6.0");
if(rb){var wb=new ActiveXObject("MSXML2.XSLTemplate.6.0");wb.stylesheet=vb;ub=wb.createProcessor()}else ub=new XSLTProcessor,ub.importStylesheet(vb);function L(a,b){var c;a:{if(b.l){var d,e=ta(a);for(c in e){var g=e[c];if(b.l[c]){if(d=b.l[c],d.b){Ca.q(c);for(var f=0;f<d.b.length;++f)if(g=d.b[f](g,c),!1===g){delete a.l[c];break}!1!==g&&a.q(c,g)}}else delete a.l[c]}for(c in b.l)if(d=b.l[c],!(c in a.l)&&d.k){c=!1;break a}}else wa(a,{});c=!0}return c}function Ga(a){return/^[-\w+., ]+$/.test(a)?a:!1}
function M(a){var b=Ea.urlConfig,c=ga(a.replace(/^\s+/,"").replace(/\s+$/,""));ma(b,c)?(Ca&&(c.attrValue=a),a=!1):a=la(c);return a}function Ha(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}
function Ia(a){var b=Ea.mediasites,c;if("media"in a.l)c=a.l.media,!("id"in a.l)&&"url"in a.l&&-1===a.l.url.indexOf("://")&&a.q("id",a.l.url);else if("url"in a.l){var d=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.l.url);if(d[1]&&b[d[1]+":"])c=b[d[1]+":"];else if(d[2]){d=d[2];do{if(b[d]){c=b[d];break}var e=d.indexOf(".");if(-1==e)break;d=d.substr(1+e)}while(""<d)}}c&&(b=a.E||a,d=a.o,c=F(3,c.toUpperCase(),d,b.o+b.w-d),wa(c,ta(a)),c.u=a.u);return!1}function Ja(){return!0}
function Ka(a){a:{for(var b in ta(a))if("url"!==b){a=!0;break a}a=!1}return a}function R(a){return h(a,/^(?:\d+)$/)}function U(a,b){return db(a,b)}function La(a){return h(a,/^(?:[A-Za-z0-9]+)$/)}function Oa(a){return h(a,/^(?:[a-f_0-9]+)$/)}function Ra(){return!0}function Pa(a){return h(a,/^(?:https?:\/\/(?:(?:api\.soundcloud\.com\/(?:playlist|track)s\/\d+)|soundcloud\.com\/[^\/]+\/(?:sets\/)?[^\/]+)(?:(?:\?secret_token=|\/(?=s-))([-\w]+))?|^[^\/]+\/[^\/]+$)$/)}
function Qa(a){return h(a,/^(?:[-\w]+)$/)}function Sa(a){return h(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)$/)}function Ta(a){return h(a,/^(?:(?:album|artist|track|user)\/[\/\w]+)$/)}function Va(){return!0}function Ua(a){return h(a,/^(?:(?!m\/)\w+)$/)}function Wa(a){return h(a,/^(?:[^\/]+)$/)}
window.s9e={TextFormatter:{disablePlugin:function(a){I[a]&&(I[a].J=!0)},enablePlugin:function(a){I[a]&&(I[a].J=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,g=b.childNodes,p=c.length,D=g.length,w,J,v=0,z=0;v<p&&v<D;){w=c[v];J=g[v];if(!d(w,J))break;++v}for(var t=Math.min(p-v,D-v);z<t;){w=c[p-(z+1)];J=g[D-(z+1)];if(!d(w,J))break;++z}w=e.createDocumentFragment();for(t=v;t<D-z;)J=g[t].cloneNode(!0),w.appendChild(J),++t;for(t=p-z;--t>=v;)a.removeChild(c[t]);z?a.insertBefore(w,a.childNodes[v]):
a.appendChild(w)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,g=e.length,D=d.length;0<=--D;){var w=d[D],J=w.namespaceURI,w=w.name;b.hasAttributeNS(J,w)||a.removeAttributeNS(J,w)}for(D=g;0<=--D;)d=e[D],J=d.namespaceURI,w=d.name,d=d.value,d!==a.getAttributeNS(J,w)&&a.setAttributeNS(J,w,d);c(a,
b);return!0}var e=b.ownerDocument,g=tb($a(a),e);c(b,g)}}};
		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		window.setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.0.0/punycode.min.js"></script>
</body>
</html>