<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Fatdown/JS Demo</title>
	<base href="http://s9e.github.io/TextFormatter/fatdown.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
		}
		code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%;max-width:800px">
		<form>
			<textarea style="width:99%" rows="15">The Fatdown bundle includes the following plugins:

 - **Autoemail** --- email addresses such as example@example.org are automatically turned into links
 - **Autolink** --- URLs such as http://github.com are automatically turned into links
 - **Escaper** --- special characters can be escaped with a backslash like \*this\*
 - **FancyPants** --- some typography is enhanced, e.g. (c) (tm) and "quotes"
 - **HTMLComments** --- you can use HTML comments <!-- like this one -->
 - **HTMLElements** --- several HTML elements such as <sub>sub</sub> and <sup>sup</sup> are allowed
 - **HTMLEntities** --- HTML entities such as &amp;hearts; are decoded
 - **Litedown** --- a Markdown*-like* syntax
 - **MediaEmbed** --- URLs from media sites are automatically embedded:  
   http://youtu.be/QH2-TGUlwu4

The parser/renderer used on this page page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateFatdownDemo.php). It's been minified with Google Closure Compiler to 36.8 KB (12.2 KB compressed)

***

[![Build Status](https://travis-ci.org/s9e/TextFormatter.png?branch=master)](https://travis-ci.org/s9e/TextFormatter)
[![Coverage Status](https://coveralls.io/repos/s9e/TextFormatter/badge.png)](https://coveralls.io/r/s9e/TextFormatter)
[![Scrutinizer Quality Score](https://scrutinizer-ci.com/g/s9e/TextFormatter/badges/quality-score.png?s=3942dab3c410fb9ce02001e7446d1083fa91172c)](https://scrutinizer-ci.com/g/s9e/TextFormatter/)</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">function aa(a){var b=document.createElement("b");b.innerHTML=a.replace(/</g,"&lt;");return b.textContent}function da(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function ea(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}function fa(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}
function h(a,b){return b.test(a)?a:!1}
function ga(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,e){c[a]=""<b[e+1]?b[e+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&punycode&&(c.host=punycode.toASCII(c.host));return c}
function ja(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=fa(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+fa(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path;""!==a.query&&(c+="?"+a.query);""!==a.fragment&&(c+="#"+a.fragment);c=c.replace(/%.?[a-f]/,function(a){return a[0].toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z]/g,
escape);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A",b));return b}
function ka(a,b){if(""!==b.scheme&&!a.N.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,e=c.split(".");0<=--d;){if("0"===e[d].charAt(0)||255<e[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(c)&&
c)}if(c)return"URL host is invalid";if(a.P&&a.P.test(b.host)||a.V&&!a.V.test(b.host))return"URL host is not allowed"}}function pa(){}pa.prototype={p:function(){}};function qa(a,b,c,d){this.q=a;this.o=b;this.n=c;this.v=d;this.k={};this.G=[];isNaN(a+c+d)&&m(this)}qa.prototype.E=!1;qa.prototype.u=0;function ra(a,b){a.G.push(b);a.E&&m(b)}function m(a){a.E||(a.E=!0,a.G.forEach(function(a){m(a)}))}
function p(a,b){a.o===b.o&&(1===a.q&&2===b.q&&b.n>=a.n?(a.y=b,b.F=a,ra(a,b)):2===a.q&&1===b.q&&b.n<=a.n&&(a.F=b,b.y=a))}function sa(a){a.u=1E3}function ta(a){var b={},c;for(c in a.k)b[c]=a.k[c];return b}function ua(a,b){return a.E||a.o!==b.o||1!==b.q||2!==a.q||a.n<b.n||a.F&&a.F!==b||b.y&&b.y!==a?!1:!0}function ya(a){return"br"===a.o||"i"===a.o||"pb"===a.o}qa.prototype.p=function(a,b){this.k[a]=b};function za(a,b){a.k={};for(var c in b)a.k[c]=b[c]}
var Aa,Ba,Ca,q,u,w,Ea,Fa=new pa,Ga,x,A,E={Litedown:{x:function(a){function b(a,c){p(B(2,"LIST",c,0),a.S);p(B(2,"LI",c,0),a.I);a.M&&a.J.forEach(function(a){a.c&=-9})}function c(a){a=a.replace(/[\\\x1A]/g,"");k&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":")","\u001b3":"*","\u001b4":"[","\u001b5":"\\","\u001b6":"]","\u001b7":"^","\u001b8":"_","\u001b9":"`","\u001bA":"~"}[a]}));return a}function d(a){return a.replace(/\\[!")*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",
'\\"':"\u001b1","\\)":"\u001b2","\\*":"\u001b3","\\[":"\u001b4","\\\\":"\u001b5","\\]":"\u001b6","\\^":"\u001b7","\\_":"\u001b8","\\`":"\u001b9","\\~":"\u001bA"}[a]})}function e(){var c={};if(-1===a.indexOf("-")&&-1===a.indexOf("="))return c;for(var b,d=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=d.exec(a);){var e=b[0];b=b.index;for(var g=b-1;0<g&&" "===a[g-1];)--g;c[b-1]={Q:b+e.length-g,R:g,U:e.length-e.replace(/>/g,"").length,K:"="===e.charAt(0)?"H1":"H2"}}return c}function f(c,b){var d=a.indexOf(c);
if(-1!==d)for(var e=0,d=a.indexOf("\u0017",d),g,f,l,k;f=b.exec(a);){var n=f.index,t=f[0].length;n>d&&(e=0,d=a.indexOf("\u0017",n));if(3<=t){var r=t;3>e?k=f=n:g<l?(k=n,f=n+2):(k=n+1,f=n,l===g&&(g+=2));e&2&&(C("STRONG",l,2,k,2),r-=2);e&1&&(C("EM",g,1,f,1),--r);r?(e=Math.min(r,3),e&1&&(g=n+t-e),e&2&&(l=n+t-e)):e=0}else 2===t?3===e&&l===g?(C("STRONG",g+1,2,n,2),e=1):e&2?(C("STRONG",l,2,n,2),e-=2):(e+=2,l=n):"_"===c&&0<n&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(n-
1))&&0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(n+1))||(3===e&&l===g?(C("EM",l+2,1,n,1),e=2):e&1?(C("EM",g,1,n,1),--e):(++e,g=n))}}function g(c,b){a=a.substr(0,c)+Array(1+b).join("\u001a")+a.substr(c+b)}var k,l,r,n,t;0>a.indexOf("\\")?k=!1:(k=!0,a=d(a));a+="\n\n\u0017";(function(){for(var c=[],d,f=4,k,y=!0,N=[],F=0,la=!1,Pa=[],ma=0,na=e(),O=0,oa,U,ha,P,J,z,Da,va,ca,Q,Y,Qa=[],ia,wa=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#+[ \t]+(?=\S)|```+.*|~~~+.*)?)?/gm;ia=
wa.exec(a);)Qa.push(ia),ia.index===wa.lastIndex&&++wa.lastIndex;Qa.forEach(function(e){var K=e.index,xa=e[0].length;P=0;U=!y;J=a.indexOf("\n",K);y=J===K+xa&&!e[3]&&!e[4]&&!e[5];xa||++wa.lastIndex;oa=y&&U;e[1]?(ca=e[1].length-e[1].replace(/>/g,"").length,P=e[1].length):ca=0;if(ca<ma&&!U&&!y){la=!0;do p(B(2,"QUOTE",O,0),Pa.pop());while(ca<--ma)}if(ca>ma&&!y){la=!0;do{var D=B(1,"QUOTE",K,0);D.u=ma;Pa.push(D)}while(ca>++ma)}var V=D=0,S,ia;if(e[2]){S=e[2];ia=S.length;do" "===S.charAt(V)?++D:D=D+4&-4;while(++V<
ia&&D<f)}k&&!d&&D<f&&!y&&(la=!0);la&&(la=!1,k&&(g(k.n,O-k.n),ha=B(2,"CODE",O,0),p(ha,k),ha.u=-1,d=k=null),N.forEach(function(a){b(a,O)}),N=[],F=0,K&&c.push(K-1));if(D>=f){if(k||!U)P=(e[1]||"").length+V,k||(k=B(1,"CODE",K+P,0)),e={}}else{S=!!e[4];if(D||U||S||y)if(U&&!S)z=F-1;else if(F)for(z=0;z<F&&D>N[z].L;)++z;else z=!U&&S?0:-1;else z=-1;for(;z<F-1;)b(N.pop(),O),--F;z!==F||S||--z;S&&0<=z&&(oa=!0,Q=K+P+V,Y=e[4].length,V=B(1,"LI",Q,Y),g(Q,Y),z<F?(p(B(2,"LI",O,0),N[z].I),N[z].I=V,N[z].J.push(V)):(++F,
z?(va=N[z-1].L+1,Da=Math.max(va,4*z)):(va=0,Da=D),D=B(1,"LIST",Q,0),-1<e[4].indexOf(".")&&D.p("type","decimal"),N.push({S:D,I:V,J:[V],W:va,L:Da,M:!0})));!F||U||y||(1<N[0].J.length||!S)&&N.forEach(function(a){a.M=!1});f=4*(F+1)}if(e[5])if("#"===e[5].charAt(0)){l=e[5].length;r=K+xa-l;n=J;for(t=0;0<n&&-1<" #\t".indexOf(a.charAt(n-1));)--n,++t;C("H"+/#{1,6}/.exec(e[5])[0].length,r,l,n,t);c.push(r);c.push(n);U&&(oa=!0)}else{if("`"===e[5].charAt(0)||"~"===e[5].charAt(0))Q=K+P,Y=J-Q,k&&e[5].charAt(0)===
d?(ha=B(2,"CODE",Q,Y),p(ha,k),ha.u=-1,B(3,"i",O,Q-O),g(k.n,Q+Y),d=k=null):k||(k=B(1,"CODE",Q,Y),d=e[5].charAt(0),B(3,"i",Q+Y,1),e=e[5].replace(/^[`~]*/,""),""!==e&&k.p("lang",e))}else e[3]&&!F?(B(3,"HR",K+P,xa-P),oa=!0,g(J,1)):!na[J]||na[J].U!==ca||y||F||k||(C(na[J].K,K+P,0,na[J].R,na[J].Q),g(J,1));oa&&(B(3,"pb",O,0),c.push(O));y||(O=J);P&&sa(B(3,"i",K,P))});c.forEach(function(c){a=a.substr(0,c)+"\u0017"+a.substr(1+c)})})();(function(){if(-1!==a.indexOf("`"))for(var c,b=/(``?)[^\x17]*?[^`]\1(?!`)/g;c=
b.exec(a);){var d=c.index,e=c[0].length;c=c[1].length;C("C",d,c,d+e-c,c);g(d,e)}})();(function(){if(-1!==a.indexOf("!["))for(var b,d=/!\[([^\x17\]]*)] ?\(([^\x17 ")]+)(?: "([^\x17"]*)")?\)/g;b=d.exec(a);){var e=b.index,f=b[0].length,l=b[1].length,k=e,l=C("IMG",k,2,k+2+l,f-2-l);l.p("alt",c(b[1]));l.p("src",c(b[2]));""<b[3]&&l.p("title",c(b[3]));g(e,f)}})();(function(){if(-1!==a.indexOf("["))for(var b,d=/\[([^\x17\]]+)] ?\(([^\x17)]+)\)/g;b=d.exec(a);){var e=b[1].length,f=b.index,l=f+1+e,e=b[0].length-
1-e,k=b[2],n="";if(b=/^(.+?) "(.*?)"$/.exec(k))k=b[1],n=b[2];b=C("URL",f,1,l,e);b.p("url",c(k));""!==n&&b.p("title",c(n));g(f,1);g(l,e)}})();(function(){if(-1!==a.indexOf("~~"))for(var c,b=/~~[^\x17]+?~~/g;c=b.exec(a);){var d=c.index;C("DEL",d,2,d+c[0].length-2,2)}})();(function(){if(-1!==a.indexOf("^"))for(var c,b=/\^[^\x17\s]+/g;c=b.exec(a);){var d=c[0],e=c=c.index,g=c+d.length,d=d.split("^");d.shift();d.forEach(function(a){C("SUP",e,1,g,0);e+=1+a.length})}})();f("*",/\*+/g);f("_",/_+/g);(function(){for(var c=
a.indexOf("  \n");-1!==c;)B(3,"br",c+2,0),c=a.indexOf("  \n",c+3)})()}},Autoemail:{z:"@",A:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,B:1E4,x:function(a,b){b.forEach(function(a){var b=B(1,"EMAIL",a[0][1],0);b.p("email",a[0][0]);a=B(2,"EMAIL",a[0][1]+a[0][0].length,0);p(b,a)})}},Autolink:{A:/(?:ftp|https?):\/\/\S(?:[^\s\[\]]*(?:\[\w*\])?)+/ig,z:"://",B:1E4,x:function(a,b){b.forEach(function(c){var b=c[0][1];if(!(0<b&&-1<"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a.charAt(b-
1)))){for(c=c[0][0];;)if(c=c.replace(/[\s!"',.<>?]+$/,""),")"===c.substr(-1)&&c.replace(/[^(]+/g,"").length<c.replace(/[^)]+/g,"").length)c=c.substr(0,c.length-1);else break;if(/^www\.|^[^:]+:/i.test(c)){var e=B(2,"URL",b+c.length,0);"."===c.charAt(3)&&(c="http://"+c);b=B(1,"URL",b,0);b.p("url",c);p(b,e)}}})}},Escaper:{z:"\\",A:/\\[-!#()*+.:<>@[\\\]^_`{}]/g,B:1E4,x:function(a,b){b.forEach(function(a){C("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})}},FancyPants:{x:function(a){function b(a,c,b){a=B(3,
k.K,a,c);a.p(k.O,b);return a}function c(){for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,e;e=d.exec(a);)b(+e.index,e[0].length,c[e[0]])}function d(c,d,e,g){for(var f;f=d.exec(a);){var l=b(+f.index+f[0].indexOf(c),1,e);f=b(+f.index+f[0].length-1,1,g);ra(l,f)}}function e(a){for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019").u=10}function f(a){for(var c,d,e=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=e.exec(a);)if("x"===d[0].charAt(d[0].length-
1)&&b(+d.index+d[0].length-1,1,"\u00d7"),c=d[0].charAt(1),"'"===c||'"'===c)c="'s"===d[0].substr(1,2)?"\u2019":"'"===c?"\u2032":"\u2033",b(+d.index+1,1,c)}function g(){for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,e;e=d.exec(a);)b(+e.index,e[0].length,c[e[0].toLowerCase()])}var k={O:"char",K:"FP"},l=0<=a.indexOf("'"),r=0<=a.indexOf('"');l&&e(a);(l||r||0<=a.indexOf("x"))&&f(a);l&&d("'",/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019");r&&d('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c",
"\u201d");(0<=a.indexOf("...")||0<=a.indexOf("--"))&&c();0<=a.indexOf("(")&&g()}},HTMLComments:{z:"\x3c!--",A:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,B:1E4,x:function(a,b){b.forEach(function(a){var b=aa(a[0][0].substr(4,a[0][0].length-7)),b=b.replace(/[<>]/g,""),b=b.replace(/--/g,"");B(3,"HC",a[0][1],a[0][0].length).p("content",b)})}},HTMLEntities:{z:"&",A:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,B:1E4,x:function(a,b){b.forEach(function(a){var b=a[0][0],e=aa(b);e!==b&&B(3,"HE",a[0][1],b.length).p("char",
e)})}},HTMLElements:{z:"<",A:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,B:1E4,x:function(a,b){var c={a:{"":"URL",href:"url"},hr:{"":"HR"},em:{"":"EM"},
s:{"":"S"},strong:{"":"STRONG"},sup:{"":"SUP"}};b.forEach(function(b){var e="/"===a.charAt(b[0][1]+1),f=b[0][1],g=b[0][0].length,k=b[2-e][0].toLowerCase(),l=c&&c[k]&&c[k][""]?c[k][""]:"html:"+k;if(e)B(2,l,f,g);else{e="/>"===b[0][0].substr(g-2)?C(l,f,g,f+g,0):B(1,l,f,g);b=b[3][0];for(var f=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi,r;l=f.exec(b);)r=l[0].indexOf("="),0>r&&(r=l[0].length,l[0]+="="+l[0].toLowerCase()),g=l[0].substr(0,r).toLowerCase().replace(/^\s+/,"").replace("/s+$/",
""),l=l[0].substr(1+r).replace(/^\s+/,"").replace("/s+$/",""),c&&c[k]&&c[k][g]&&(g=c[k][g]),/^["']/.test(l)&&(l=l.substr(1,l.length-2)),e.p(g,aa(l))}})}},MediaEmbed:{z:":",A:/\b(?:spotify:|https?:\/\/(?:[-.\w]+\.)?(?:twitch\.tv|vi(?:meo\.com|ne\.co)|youtu(?:\.be|be\.com)|(?:bandcamp|dailymotion|liveleak|soundcloud|www\.facebook|(?:open|play)\.spotify)\.com)\/)[^["'\s]+(?!\S)/g,B:1E4,x:function(a,b){b.forEach(function(a){var b=a[0][0];a=B(3,"MEDIA",a[0][1],b.length);a.p("url",b);a.u=-10})}}},G,Ha=
{urlConfig:{N:/^(?:ftp|https?)$/i},mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion","www.facebook.com":"facebook","liveleak.com":"liveleak","soundcloud.com":"soundcloud","open.spotify.com":"spotify","play.spotify.com":"spotify","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtube.com":"youtube","youtu.be":"youtube"}},Ia={d:[65399,7936],c:8},W={C:{b:[H],g:10,e:{c:66},i:1E3,f:0,d:[0,0]},CODE:{k:{lang:{b:[Ja],j:!1}},b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,
URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:4436},i:1E3,f:1,d:[0,0]},DEL:{b:[H],g:10,e:{c:512},i:1E3,f:0,d:[65399,7936]},EM:{b:[H],g:10,e:{c:2},i:1E3,f:0,d:[65393,7936]},H1:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},i:1E3,f:2,d:[65393,7936]},H2:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},i:1E3,f:2,d:[65393,7936]},
H3:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},i:1E3,f:2,d:[65393,7936]},H4:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},i:1E3,f:2,d:[65393,7936]},H5:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},i:1E3,f:2,d:[65393,7936]},H6:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,
"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:260},i:1E3,f:2,d:[65393,7936]},HR:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3333},i:1E3,f:1,d:[65376,7936]},IMG:{k:{alt:{j:!1},src:{b:[L],j:!0},title:{j:!1}},b:[H],g:10,e:{c:3073},i:1E3,f:0,d:[65376,7936]},LI:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{LI:1,"html:li":1},c:264},i:1E3,f:3,
d:[65399,7936]},LIST:{k:{type:{b:[Ja],j:!1}},b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},i:1E3,f:1,d:[65320,7936]},QUOTE:{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:268},i:1E3,f:1,d:[65399,7936]},STRONG:{b:[H],g:10,e:{c:2},i:1E3,f:0,d:[65393,7936]},SUP:{b:[H],g:10,e:{c:0},i:1E3,f:0,d:[65393,7936]},URL:{k:{title:{j:!1},url:{b:[L],j:!0}},b:[H],g:10,e:{c:514},
i:1E3,f:4,d:[61287,7936]},EMAIL:{k:{email:{b:[Ka],j:!0}},b:[H],g:10,e:{c:514},i:1E3,f:4,d:[61287,7936]},ESC:{b:[H],g:10,e:{c:1616},i:1E3,f:5,d:[0,0]},FP:{k:{"char":{j:!0}},b:[H],g:10,e:{c:3073},i:1E3,f:6,d:[65376,7936]},HC:{k:{content:{j:!0}},b:[H],g:10,e:{c:3137},i:1E3,f:5,d:[0,0]},HE:{k:{"char":{j:!0}},b:[H],g:10,e:{c:3073},i:1E3,f:6,d:[65376,7936]},"html:abbr":{k:{title:{j:!1}},b:[H],g:10,e:{c:0},i:1E3,f:0,d:[65393,7936]},"html:b":{b:[H],g:10,e:{c:2},i:1E3,f:0,d:[65393,7936]},"html:br":{b:[H],
g:10,e:{c:3201},i:1E3,f:0,d:[65312,7936]},"html:code":{b:[H],g:10,e:{c:66},i:1E3,f:0,d:[0,0]},"html:dd":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:dd":1,"html:dt":1},c:256},i:1E3,f:7,d:[65399,7936]},"html:del":{b:[H],g:10,e:{c:512},i:1E3,f:0,d:[65399,7936]},"html:div":{k:{"class":{j:!1}},b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:268},i:1E3,f:1,d:[65399,
7936]},"html:dl":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},i:1E3,f:1,d:[65440,7936]},"html:dt":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:dd":1,"html:dt":1},c:256},i:1E3,f:7,d:[64371,7936]},"html:i":{b:[H],g:10,e:{c:2},i:1E3,f:0,d:[65393,7936]},"html:img":{k:{alt:{j:!1},height:{j:!1},src:{b:[L],j:!1},title:{j:!1},width:{j:!1}},b:[H],g:10,e:{c:3201},
i:1E3,f:0,d:[65312,7936]},"html:ins":{b:[H],g:10,e:{c:512},i:1E3,f:0,d:[65399,7936]},"html:li":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{LI:1,"html:li":1},c:264},i:1E3,f:3,d:[65399,7936]},"html:ol":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},i:1E3,f:1,d:[65320,7936]},"html:pre":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,
"html:i":1,"html:strong":1,"html:u":1},c:276},i:1E3,f:1,d:[65393,7936]},"html:rb":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:256},i:1E3,f:8,d:[65393,7936]},"html:rp":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:rb":1,"html:rp":1,"html:rtc":1},c:256},i:1E3,f:8,d:[65393,7936]},"html:rt":{b:[H],g:10,
e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:rb":1,"html:rp":1,"html:rt":1},c:256},i:1E3,f:9,d:[65393,7936]},"html:rtc":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:rb":1,"html:rp":1,"html:rt":1,"html:rtc":1},c:256},i:1E3,f:8,d:[65393,7938]},"html:ruby":{b:[H],g:10,e:{c:0},i:1E3,f:0,d:[65393,7939]},"html:span":{k:{"class":{j:!1}},b:[H],g:10,e:{c:0},i:1E3,
f:0,d:[65393,7936]},"html:strong":{b:[H],g:10,e:{c:2},i:1E3,f:0,d:[65393,7936]},"html:sub":{b:[H],g:10,e:{c:0},i:1E3,f:0,d:[65393,7936]},"html:sup":{b:[H],g:10,e:{c:0},i:1E3,f:0,d:[65393,7936]},"html:table":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},i:1E3,f:1,d:[65312,7956]},"html:tbody":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:tbody":1,"html:tfoot":1,
"html:thead":1},c:3456},i:1E3,f:10,d:[65312,7952]},"html:td":{k:{colspan:{j:!1},rowspan:{j:!1}},b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:td":1,"html:th":1},c:264},i:1E3,f:11,d:[65399,7936]},"html:tfoot":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:tbody":1,"html:thead":1},c:3456},i:1E3,f:10,d:[65312,7952]},"html:th":{k:{colspan:{j:!1},rowspan:{j:!1},
scope:{j:!1}},b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:td":1,"html:th":1},c:264},i:1E3,f:11,d:[64371,7936]},"html:thead":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3456},i:1E3,f:10,d:[65312,7952]},"html:tr":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},r:{"html:tr":1},c:3456},i:1E3,
f:12,d:[65312,7944]},"html:u":{b:[H],g:10,e:{c:2},i:1E3,f:0,d:[65393,7936]},"html:ul":{b:[H],g:10,e:{l:{C:1,EM:1,STRONG:1,URL:1,EMAIL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},c:3460},i:1E3,f:1,d:[65320,7936]},MEDIA:{b:[La],g:10,e:{c:577},i:1E3,f:5,d:[0,0]},BANDCAMP:{k:{url:{b:[L],j:!1},album_id:{b:[M],j:!1},track_num:{b:[M],j:!1},track_id:{b:[M],j:!1}},b:[Ma,H,Na],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},DAILYMOTION:{k:{url:{b:[L],j:!1},id:{b:[Oa],j:!0}},w:[["url",/dailymotion\.com\/(?:live\/|user\/[^#]+#video=|video\/)([A-Za-z0-9]+)/g,
["","id"]],["url",/^([A-Za-z0-9]+)$/g,["","id"]]],b:[T,H],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},FACEBOOK:{k:{url:{b:[L],j:!1},id:{b:[M],j:!0}},w:[["url",/(?:m|www)\.facebook\.com\/(?:[\w\/]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/g,["","id"]],["url",/^(\d+)$/g,["","id"]]],b:[T,H],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},LIVELEAK:{k:{url:{b:[L],j:!1},id:{b:[Ra],j:!0}},w:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/g,["","id"]],["url",/^([a-f_0-9]+)$/g,["","id"]]],b:[T,H],g:10,
e:{c:3137},i:1E3,f:4,d:[0,0]},SOUNDCLOUD:{k:{url:{b:[L],j:!1},playlist_id:{b:[M],j:!1},id:{b:[Sa],j:!0},track_id:{b:[M],j:!1}},w:[["url",/(https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)[-\w\/]+\/[-\w\/]+|^[^\/]+\/[^\/]+$)/g,["","id"]],["url",/api.soundcloud.com\/playlists\/(\d+)/g,["","playlist_id"]],["url",/api.soundcloud.com\/tracks\/(\d+)/g,["","track_id"]],["url",/^(https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)[-\w\/]+\/[-\w\/]+|^[^\/]+\/[^\/]+$)$/g,["","id"]]],b:[T,Ta,H],g:10,e:{c:3137},
i:1E3,f:4,d:[0,0]},SPOTIFY:{k:{url:{b:[L],j:!1},uri:{b:[Ua],j:!1},path:{b:[Va],j:!1}},w:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)/g,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[\/\w]+)/g,["","path"]]],b:[T,H,Na],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},TWITCH:{k:{url:{b:[L],j:!1},channel:{b:[Wa],j:!1},archive_id:{b:[M],j:!1},chapter_id:{b:[M],j:!1},video_id:{b:[M],j:!1}},w:[["url",/twitch\.tv\/((?!m\/)\w+)(?:\/b\/(\d+)|\/c\/(\d+)|\/v\/(\d+))?/g,["",
"channel","archive_id","chapter_id","video_id"]]],b:[T,Xa,H,Na],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},VIMEO:{k:{url:{b:[L],j:!1},id:{b:[M],j:!0}},w:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/g,["","id"]],["url",/^(\d+)$/g,["","id"]]],b:[T,H],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},VINE:{k:{url:{b:[L],j:!1},id:{b:[Ya],j:!0}},w:[["url",/vine\.co\/v\/([^\/]+)/g,["","id"]],["url",/^([^\/]+)$/g,["","id"]]],b:[T,H],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]},YOUTUBE:{k:{url:{b:[L],j:!1},id:{b:[Za],j:!0},
h:{b:[M],j:!1},m:{b:[M],j:!1},s:{b:[M],j:!1},t:{b:[M],j:!1},list:{b:[Za],j:!1}},w:[["url",/youtube\.com\/(?:watch.*?v=|v\/)([-\w]+)/g,["","id"]],["url",/youtu\.be\/([-\w]+)/g,["","id"]],["url",/[#&?]t=(?:(?:(\d+)h)?(\d+)m(\d+)|(\d+))/g,["","h","m","s","t"]],["url",/&list=([-\w]+)/g,["","list"]],["url",/^([-\w]+)$/g,["","id"]]],b:[T,H],g:10,e:{c:3137},i:1E3,f:4,d:[0,0]}},X,$a,Z,ab,bb=0,cb;
function db(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Ba={};Ca={};Aa=[];u=0;w=null;Ea=!1;Ga={};x=[];A="";G=0;X=[];$a=!0;Z=a;ab=Z.length;cb=0;q=Ia;q.D=!1;++bb;a=bb;for(var b in E)if(!E[b].H)a:{var c=b,d=E[c];if(!(d.z&&0>Z.indexOf(d.z))){var e=[];if(d.A){e=d.A;d=d.B;e.lastIndex=0;for(var f=[],g=0,k=void 0;++g<=d&&(k=e.exec(Z));){for(var l=+k.index,r=[[k[0],l]],n=0;++n<k.length;){var t=k[n];void 0===t?r.push(["",-1]):(r.push([t,Z.indexOf(t,l)]),l+=t.length)}f.push(r)}e=
f;if(!e.length)break a}(0,E[c].x)(Z,e)}}eb();fb();gb(ab,0,!0);do b=A,A=A.replace(/<(?!\/)[^>]+><\/[\w:]+>/g,"");while(A!==b);A=A.replace(/<\/i><i>/g,"",A);A=A.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hb);c=Ea?"r":"t";b="<"+c;for(var v in Ga)b+=" xmlns:"+v+'="urn:s9e:TextFormatter:'+v+'"';A=b+">"+A+"</"+c+">";if(bb!==a)throw"The parser has been reset during execution";return A}function fb(){Aa.forEach(function(a){a.G=[];delete a.y;delete a.F});Aa=[]}
function ib(a,b){b.w&&b.w.forEach(function(b){var d=b[0],e=b[1];b=b[2];if(d in a.k){var e=jb(a.k[d],e,b),f;for(f in e)f!==d&&f in a.k||a.p(f,e[f])}});return!0}function jb(a,b,c){var d=b.exec(a);if(!d)return[];var e={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(e[a]=d[b])});return e}function hb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function kb(a){Ea=!0;var b=a.o,c=a.n,d=a.v,e=a.c,f=0,g=0;e&256&&(f=1,g=a.q&2?2:1);var k=!1;a.q&1?e&4&&(k=!0):k=!0;gb(c,f,k);f=d?ea(Z.substr(c,d)):"";if(a.q&1){e&4||lb(c);e=b.indexOf(":");0<e&&(Ga[b.substr(0,e)]=0);A+="<"+b;var l=ta(a),e=[],r;for(r in l)e.push(r);e.sort(function(a,b){return a>b?1:-1});e.forEach(function(a){A+=" "+a+'="'+da(l[a].toString())+'"'});A=3===a.q?d?A+(">"+f+"</"+b+">"):A+"/>":d?A+("><s>"+f+"</s>"):A+">"}else d&&(A+="<e>"+f+"</e>"),A+="</"+b+">";for(cb=G=c+d;g&&cb<ab&&"\n"===
Z.charAt(cb);)--g,++cb}
function gb(a,b,c){c&&(q.c&8?b=-1:c=!1);G>=a&&c&&mb();if(cb>G){var d=Math.min(a,cb);A+=Z.substr(G,d-G);G=d;G>=a&&c&&mb()}if(q.c&128)d=a-G,b=Z.substr(G,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),A+=b,G=a,c&&mb();else{for(var e=a,d=0;b&&--e>=G;){var f=Z.charAt(e);if(" "!==f&&"\n"!==f&&"\t"!==f)break;"\n"===f&&--b;++d}a-=d;if(q.c&8)for(q.D||(nb(a),a>G&&lb(a)),b=Z.indexOf("\n\n",G);-1<b&&b<a;)gb(b,0,!0),lb(a),b=Z.indexOf("\n\n",G);a>G&&(b=ea(Z.substr(G,a-G)),A+=b);c&&mb();d&&(A+=Z.substr(a,d));G=a+d}}
function ob(a){var b=a.n;a=a.v;var c=Z.substr(b,a);gb(b,0,!1);A+="<i>"+ea(c)+"</i>";Ea=!0;G=b+a}function lb(a){!q.D&&q.c&8&&(nb(a),G<ab&&(A+="<p>",q.D=!0))}function mb(){q.D&&(A+="</p>",q.D=!1)}function nb(a){for(;G<a&&-1<" \n\t".indexOf(Z.charAt(G));)A+=Z.charAt(G),++G}function pb(a,b){var c=a.o;a.c&256&&(b=qb(b));p(B(2,c,b,0),a)}function qb(a){for(;a>G&&-1<" \n\t".indexOf(Z.charAt(a-1));)--a;return a}
function eb(){if(X.length){for(var a in W)Ba[a]=0,Ca[a]=0;do{for(;X.length;)$a||(X.sort(rb),$a=!0),w=X.pop(),q.c&64&&!ua(w,x[x.length-1])&&!ya(w)||sb();x.forEach(function(a){pb(a,ab)})}while(X.length)}}
function sb(){if(!w.E){var a=w.n,b=w.v;if(G>a){var c;if((c=w.F)&&0<=x.indexOf(c))a=Math.max(0,a+b-G),a=B(2,c.o,G,a),p(a,c);else{if("i"===w.o&&(c=a+b-G,0<c)){B(3,"i",G,c);return}m(w)}}else if("i"===w.o)ob(w);else if("br"===w.o)q.c&1024||(gb(w.n,0,!1),A+="<br/>");else if("pb"===w.o)gb(w.n,0,!0);else if(w.q&1)if(c=w,a=c.o,b=W[a],Ca[a]>=b.i)m(c);else{var d=c,e=W[d.o],f=!0;if(e.b)for(var g=0;g<e.b.length;++g)if(!e.b[g](d,e)){f=!1;break}if(f){a:{d=c;if(x.length&&(f=d.o,g=W[f],g.e.l)){var e=x[x.length-1],
k=e.o;if(g.e.l[k]){k!==f&&1E3>u&&(f=tb(e,d.n+d.v),ra(d,f));++u;X.push(d);pb(e,d.n);d=!0;break a}}d=!1}if(!d)a:{d=c;if(x.length&&(e=W[d.o],e.e.r&&(f=x[x.length-1],e.e.r[f.o]))){X.push(d);pb(f,d.n);d=!0;break a}d=!1}d||(Ba[a]>=b.g?m(c):(b=W[a].f,q.d[b>>3]&1<<(b&7)?(!(c.c&1)||c.y||X.length&&ua(X[X.length-1],c)||(a=new qa(3,a,c.n,c.v),za(a,ta(c)),a.c=c.c,c=a),c.c&4096&&!c.y&&"\n"===Z.charAt(c.n+c.v)&&B(3,"i",c.n+c.v,1),kb(c),ub(c)):m(c)))}else m(c)}else vb()}}
function vb(){var a=w;if(Ba[a.o]){for(var b=[],c=x.length;0<=--c;){var d=x[c];if(ua(a,d))break;b.push(d);++u}if(!(0>c)){var e=1E3>u,f=[];b.forEach(function(b){var c=b.o;e&&(b.c&2?f.push(b):e=!1);var d=a.n;b.c&256&&(d=qb(d));c=new qa(2,c,d,0);c.c=b.c;kb(c);wb()});kb(a);wb();if(b.length&&1E3>u){d=G;for(c=X.length;0<=--c&&1E3>++u;){var g=X[c];if(g.n>d||g.q&1)break;for(var k=b.length;0<=--k&&1E3>++u;)if(ua(g,b[k])){b.splice(k,1);f[k]&&f.splice(k,1);d=Math.max(d,g.n+g.v);break}}d>G&&ob(new qa(3,"i",G,
d-G))}f.forEach(function(a){var b=tb(a,G);(a=a.y)&&p(b,a)})}}}function wb(){var a=x.pop();--Ba[a.o];q=q.T}function ub(a){var b=a.o,c=a.c,d=W[b];++Ca[b];if(3!==a.q){var e=[];c&512?q.d.forEach(function(a,b){e.push(d.d[b]&a)}):q.d.forEach(function(a,b){e.push(d.d[b]&(a&65280|a>>8))});c|=q.c&32;c&16&&(c&=-33);++Ba[b];x.push(a);q={d:e,c:c,T:q}}}function tb(a,b){var c=B(a.q,a.o,b,0);za(c,ta(a));c.u=a.u;return c}
function B(a,b,c,d){a=new qa(a,b,c,d);Aa.push(a);W[b]&&(a.c=W[b].e.c);W[b]||ya(a)?W[b]&&W[b].H?m(a):0>d||0>c||c+d>ab?m(a):($a&&X.length&&a.n>=X[X.length-1].n&&($a=!1),X.push(a)):m(a);return a}function C(a,b,c,d,e){b=B(1,a,b,c);p(b,B(2,a,d,e));return b}function rb(a,b){var c=a.n,d=b.n;if(c!==d)return d-c;if(a.u!==b.u)return b.u-a.u;c=a.v;d=b.v;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.q]-c[a.q])}var xb="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;
function yb(a,b){if(xb){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}function zb(a,b){if(xb){var c=b.createElement("div"),d=b.createDocumentFragment();Ab.input=yb(a,"MSXML2.DOMDocument.6.0");Ab.transform();for(c.innerHTML=Ab.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(Ab.transformToFragment(yb(a),b),!0)}
var Ab,Bb=yb('<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/><xsl:template match="BANDCAMP"><iframe width="400" height="400" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<xsl:choose><xsl:when test="@album_id">album=<xsl:value-of select="@album_id"/><xsl:if test="@track_num">/t=<xsl:value-of select="@track_num"/></xsl:if></xsl:when><xsl:otherwise>track=<xsl:value-of select="@track_id"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="C"><code><xsl:apply-templates/></code></xsl:template><xsl:template match="CODE"><pre><code class="{@lang}"><xsl:apply-templates/></code></pre></xsl:template><xsl:template match="DAILYMOTION"><iframe width="560" height="315" src="//www.dailymotion.com/embed/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="DEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUP|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element name="{translate(local-name(),\'DEGHILMNOPRSTU\',\'deghilmnoprstu\')}"><xsl:apply-templates/></xsl:element></xsl:template><xsl:template match="EMAIL"><a href="mailto:{@email}"><xsl:apply-templates/></a></xsl:template><xsl:template match="ESC"><xsl:apply-templates/></xsl:template><xsl:template match="FACEBOOK"><iframe width="560" height="315" src="//s9e.github.io/iframe/facebook.min.html#{@id}" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,src.substr(0,src.indexOf(\'/\',8)))" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="FP|HE"><xsl:value-of select="@char"/></xsl:template><xsl:template match="HC"><xsl:comment><xsl:value-of select="@content"/></xsl:comment></xsl:template><xsl:template match="HR"><hr/></xsl:template><xsl:template match="IMG"><img src="{@src}"><xsl:copy-of select="@alt"/><xsl:copy-of select="@title"/></img></xsl:template><xsl:template match="LIST"><xsl:choose><xsl:when test="not(@type)"><ul><xsl:apply-templates/></ul></xsl:when><xsl:otherwise><ol><xsl:apply-templates/></ol></xsl:otherwise></xsl:choose></xsl:template><xsl:template match="LIVELEAK"><iframe width="640" height="360" src="http://www.liveleak.com/ll_embed?i={@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="QUOTE"><blockquote><xsl:apply-templates/></blockquote></xsl:template><xsl:template match="SOUNDCLOUD"><iframe width="100%" style="max-width:900px" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="height"><xsl:choose><xsl:when test="@playlist_id">450</xsl:when><xsl:otherwise>166</xsl:otherwise></xsl:choose></xsl:attribute><xsl:attribute name="src">https://w.soundcloud.com/player/?url=<xsl:choose><xsl:when test="@playlist_id">https%3A//api.soundcloud.com/playlists/<xsl:value-of select="@playlist_id"/></xsl:when><xsl:when test="@track_id">https%3A//api.soundcloud.com/tracks/<xsl:value-of select="@track_id"/></xsl:when><xsl:otherwise><xsl:if test="not(contains(@id,\'://\'))">https%3A//soundcloud.com/</xsl:if><xsl:value-of select="@id"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="SPOTIFY"><iframe width="400" height="480" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">https://embed.spotify.com/?view=coverart&amp;uri=<xsl:choose><xsl:when test="@uri"><xsl:value-of select="@uri"/></xsl:when><xsl:otherwise>spotify:<xsl:value-of select="translate(@path,\'/\',\':\')"/></xsl:otherwise></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="TWITCH"><iframe width="620" height="378" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//s9e.github.io/iframe/twitch.min.html#channel=<xsl:value-of select="@channel"/><xsl:choose><xsl:when test="@archive_id">&amp;videoId=a<xsl:value-of select="@archive_id"/></xsl:when><xsl:when test="@chapter_id">&amp;videoId=c<xsl:value-of select="@chapter_id"/></xsl:when><xsl:when test="@video_id">&amp;videoId=v<xsl:value-of select="@video_id"/></xsl:when></xsl:choose></xsl:attribute></iframe></xsl:template><xsl:template match="URL"><a href="{@url}"><xsl:copy-of select="@title"/><xsl:apply-templates/></a></xsl:template><xsl:template match="VIMEO"><iframe width="560" height="315" src="//player.vimeo.com/video/{@id}" allowfullscreen="" frameborder="0" scrolling="no"/></xsl:template><xsl:template match="VINE"><iframe width="480" height="480" src="https://vine.co/v/{@id}/embed/simple" allowfullscreen="" frameborder="0" scrolling="no"/><script async="" src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"/></xsl:template><xsl:template match="YOUTUBE"><iframe width="560" height="315" allowfullscreen="" frameborder="0" scrolling="no"><xsl:attribute name="src">//www.youtube.com/embed/<xsl:value-of select="@id"/><xsl:if test="@list">?list=<xsl:value-of select="@list"/></xsl:if><xsl:if test="@t or@m"><xsl:choose><xsl:when test="@list">&amp;</xsl:when><xsl:otherwise>?</xsl:otherwise></xsl:choose>start=<xsl:choose><xsl:when test="@t"><xsl:value-of select="@t"/></xsl:when><xsl:when test="@h"><xsl:value-of select="@h*3600+@m*60+@s"/></xsl:when><xsl:otherwise><xsl:value-of select="@m*60+@s"/></xsl:otherwise></xsl:choose></xsl:if></xsl:attribute></iframe></xsl:template><xsl:template match="br"><br/></xsl:template><xsl:template match="e|i|s"/><xsl:template match="html:abbr"><abbr><xsl:copy-of select="@title"/><xsl:apply-templates/></abbr></xsl:template><xsl:template match="html:div"><div><xsl:copy-of select="@class"/><xsl:apply-templates/></div></xsl:template><xsl:template match="html:img"><img><xsl:copy-of select="@alt"/><xsl:copy-of select="@height"/><xsl:copy-of select="@src"/><xsl:copy-of select="@title"/><xsl:copy-of select="@width"/><xsl:apply-templates/></img></xsl:template><xsl:template match="html:span"><span><xsl:copy-of select="@class"/><xsl:apply-templates/></span></xsl:template><xsl:template match="html:td"><td><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:apply-templates/></td></xsl:template><xsl:template match="html:th"><th><xsl:copy-of select="@colspan"/><xsl:copy-of select="@rowspan"/><xsl:copy-of select="@scope"/><xsl:apply-templates/></th></xsl:template></xsl:stylesheet>',"MSXML2.FreeThreadedDOMDocument.6.0");
if(xb){var Cb=new ActiveXObject("MSXML2.XSLTemplate.6.0");Cb.stylesheet=Bb;Ab=Cb.createProcessor()}else Ab=new XSLTProcessor,Ab.importStylesheet(Bb);function H(a,b){var c;a:{if(b.k){var d,e=ta(a);for(c in e){var f=e[c];if(b.k[c]){if(d=b.k[c],d.b){Fa.p(c);for(var g=0;g<d.b.length;++g)if(f=d.b[g](f,c),!1===f){delete a.k[c];break}!1!==f&&a.p(c,f)}}else delete a.k[c]}for(c in b.k)if(d=b.k[c],!(c in a.k)&&d.j){c=!1;break a}}else za(a,{});c=!0}return c}function Ja(a){return/^[-\w+., ]+$/.test(a)?a:!1}
function L(a){var b=Ha.urlConfig,c=ga(a.replace(/^\s+/,"").replace(/\s+$/,""));ka(b,c)?(Fa&&(c.attrValue=a),a=!1):a=ja(c);return a}function Ka(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}
function La(a){var b=Ha.mediasites,c;if("media"in a.k)c=a.k.media,!("id"in a.k)&&"url"in a.k&&-1===a.k.url.indexOf("://")&&a.p("id",a.k.url);else if("url"in a.k){var d=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.k.url);if(d[1]&&b[d[1]+":"])c=b[d[1]+":"];else if(d[2]){d=d[2];do{if(b[d]){c=b[d];break}var e=d.indexOf(".");if(-1==e)break;d=d.substr(1+e)}while(""<d)}}c&&(b=a.y||a,d=a.n,c=B(3,c.toUpperCase(),d,b.n+b.v-d),za(c,ta(a)),c.u=a.u);return!1}function Ma(){return!0}
function Na(a){a:{for(var b in ta(a))if("url"!==b){a=!0;break a}a=!1}return a}function M(a){return h(a,/^(?:\d+)$/)}function T(a,b){return ib(a,b)}function Oa(a){return h(a,/^(?:[A-Za-z0-9]+)$/)}function Ra(a){return h(a,/^(?:[a-f_0-9]+)$/)}function Ta(){return!0}function Sa(a){return h(a,/^(?:https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)[-\w\/]+\/[-\w\/]+|^[^\/]+\/[^\/]+$)$/)}function Ua(a){return h(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[,:\w]+)$/)}
function Va(a){return h(a,/^(?:(?:album|artist|track|user)\/[\/\w]+)$/)}function Xa(){return!0}function Wa(a){return h(a,/^(?:(?!m\/)\w+)$/)}function Ya(a){return h(a,/^(?:[^\/]+)$/)}function Za(a){return h(a,/^(?:[-\w]+)$/)}
window.s9e={TextFormatter:{disablePlugin:function(a){E[a]&&(E[a].H=!0)},enablePlugin:function(a){E[a]&&(E[a].H=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,f=b.childNodes,n=c.length,t=f.length,v,I,R=0,ba=0;R<n&&R<t;){v=c[R];I=f[R];if(!d(v,I))break;++R}for(var y=Math.min(n-R,t-R);ba<y;){v=c[n-(ba+1)];I=f[t-(ba+1)];if(!d(v,I))break;++ba}v=e.createDocumentFragment();for(y=R;y<t-ba;)I=f[y].cloneNode(!0),v.appendChild(I),++y;for(y=n-ba;--y>=R;)a.removeChild(c[y]);ba?a.insertBefore(v,
a.childNodes[R]):a.appendChild(v)}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,f=e.length,t=d.length;0<=--t;){var v=d[t],I=v.namespaceURI,v=v.name;b.hasAttributeNS(I,v)||a.removeAttributeNS(I,v)}for(t=f;0<=--t;)d=e[t],I=d.namespaceURI,v=d.name,d=d.value,d!==a.getAttributeNS(I,v)&&a.setAttributeNS(I,
v,d);c(a,b);return!0}var e=b.ownerDocument,f=zb(db(a),e);c(b,f)}}};
		var text,
			textareaEl = document.getElementsByTagName('textarea')[0],
			previewEl = document.getElementById('preview');

		window.setInterval(function()
		{
			if (textareaEl.value === text)
			{
				return;
			}

			text = textareaEl.value;
			s9e.TextFormatter.preview(text, previewEl);
		}, 20);

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/punycode/1.0.0/punycode.min.js"></script>
</body>
</html>