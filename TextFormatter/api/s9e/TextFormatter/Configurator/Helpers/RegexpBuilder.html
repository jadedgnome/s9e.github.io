<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>s9e\TextFormatter\Configurator\Helpers\RegexpBuilder | API</title>

            <link rel="stylesheet" type="text/css" href="../../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../css/sami.css">
        <script src="../../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../../js/bootstrap.min.js"></script>
        <script src="../../../../js/typeahead.min.js"></script>
        <script src="../../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:s9e_TextFormatter_Configurator_Helpers_RegexpBuilder" data-root-path="../../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../../classes.html">Classes</a></li>
                                            <li><a href="../../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../../traits.html">Traits</a></li>
                    <li><a href="../../../../doc-index.html">Index</a></li>
                    <li><a href="../../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../../s9e.html">s9e</a></li><li class="backslash">\</li><li><a href="../../../../s9e/TextFormatter.html">TextFormatter</a></li><li class="backslash">\</li><li><a href="../../../../s9e/TextFormatter/Configurator.html">Configurator</a></li><li class="backslash">\</li><li><a href="../../../../s9e/TextFormatter/Configurator/Helpers.html">Helpers</a></li><li class="backslash">\</li><li>RegexpBuilder</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            RegexpBuilder
                
        </h1>
    </div>

    <p>    class
    <strong>RegexpBuilder</strong>
</p>

        
    

    
    
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_characterClassBuilder">
                    static                    protected                                        <a href="../../../../s9e/TextFormatter/Configurator/Helpers/CharacterClassBuilder.html"><abbr title="s9e\TextFormatter\Configurator\Helpers\CharacterClassBuilder">CharacterClassBuilder</abbr></a>
                </td>
                <td>$characterClassBuilder</td>
                <td class="last"></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_fromList">fromList</a>(array $words, array $options = [])
        
                                            <p>Create a regexp pattern that matches a list of words</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_mergeChains">mergeChains</a>(array $chains, bool $preventRemerge = false)
        
                                            <p>Merge a 2D array of split words into a 1D array of expressions</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8 type">
                    <a href="#method_mergeTails">mergeTails</a>(array $chains)
        
                                            <p>Merge the tails of an array of chains wherever applicable</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8 type">
                    <a href="#method_mergeTailsCC">mergeTailsCC</a>(array $chains)
        
                                            <p>Merge the tails of an array of chains if their head can become a character class</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8 type">
                    <a href="#method_mergeTailsAltern">mergeTailsAltern</a>(array $chains)
        
                                            <p>Merge the tails of an array of chains if it makes the end result shorter</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_removeLongestCommonPrefix">removeLongestCommonPrefix</a>(array $chains)
        
                                            <p>Remove the longest common prefix from an array of chains</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_removeLongestCommonSuffix">removeLongestCommonSuffix</a>(array $chains)
        
                                            <p>Remove the longest common suffix from an array of chains</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_assemble">assemble</a>(array $chains)
        
                                            <p>Assemble an array of chains into one expression</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_makeRegexpOptional">makeRegexpOptional</a>(string $regexp)
        
                                            <p>Make an entire regexp optional through the use of the ? quantifier</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_generateCharacterClass">generateCharacterClass</a>(array $chars)
        
                                            <p>Generate a character class from an array of characters</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_canBeUsedInCharacterClass">canBeUsedInCharacterClass</a>(string $char)
        
                                            <p>Test whether a given expression (usually one character) can be used in a character class</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_optimizeDotChains">optimizeDotChains</a>(array $chains)
        
                                            <p>Remove chains that overlap with dot chains</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_optimizeCatchallChains">optimizeCatchallChains</a>(array $chains)
        
                                            <p>Remove chains that overlap with chains that contain a catchall expression such as .*</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_matchesAtLeastOneCharacter">matchesAtLeastOneCharacter</a>(string $expr)
        
                                            <p>Test whether a given expression can never match an empty space</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_canUseAtomicGrouping">canUseAtomicGrouping</a>(string $expr)
        
                                            <p>Test whether given expression can be safely used with atomic grouping</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_fromList">
        <div class="location">at         line 26</div>
        <code>        static            string
    <strong>fromList</strong>(array $words, array $options = [])
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Create a regexp pattern that matches a list of words</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$words</td>
                <td>Words to sort (must be UTF-8)</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$options</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_mergeChains">
        <div class="location">at         line 164</div>
        <code>        static    protected        array
    <strong>mergeChains</strong>(array $chains, bool $preventRemerge = false)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Merge a 2D array of split words into a 1D array of expressions</p>                    <p>Each element in the passed array is called a "chain". It starts as an array where each element
is a character (a sort of UTF-8 aware str_split()) but successive iterations replace
individual characters with an equivalent expression.</p>

<p>How it works:</p>

<ol>
<li>Remove the longest prefix shared by all the chains</li>
<li>Remove the longest suffix shared by all the chains</li>
<li>Group each chain by their first element, e.g. all the chains that start with "a" (or in
some cases, "[xy]") are grouped together</li>
<li>If no group has more than 1 chain, we assemble them in a regexp, such as (aa|bb). If any
group has more than 1 chain, for each group we merge the chains from that group together so
that no group has more than 1 chain. When we're done, we remerge all the chains together.</li>
</ol>
</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td></td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$preventRemerge</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_mergeTails">
        <div class="location">at         line 308</div>
        <code>        static    protected        
    <strong>mergeTails</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Merge the tails of an array of chains wherever applicable</p>                    <p>This method optimizes (a[xy]|b[xy]|c) into ([ab][xy]|c). The expression [xy] is not a suffix
to every branch of the alternation (common suffix), so it's not automatically removed. What we
do here is group chains by their last element (their tail) and then try to merge them together
group by group. This method should only be called AFTER chains have been group-merged by head.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_mergeTailsCC">
        <div class="location">at         line 325</div>
        <code>        static    protected        
    <strong>mergeTailsCC</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Merge the tails of an array of chains if their head can become a character class</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_mergeTailsAltern">
        <div class="location">at         line 366</div>
        <code>        static    protected        
    <strong>mergeTailsAltern</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Merge the tails of an array of chains if it makes the end result shorter</p>                    <p>This kind of merging used to be specifically avoided due to performance concerns but some
light benchmarking showed that there isn't any measurable difference in performance between
  (?:c|a(?:xx|yy)|bb(?:xx|yy))
and
  (?:c|(?:a|bb)(?:xx|yy))</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_removeLongestCommonPrefix">
        <div class="location">at         line 415</div>
        <code>        static    protected        array
    <strong>removeLongestCommonPrefix</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Remove the longest common prefix from an array of chains</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>Removed elements</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_removeLongestCommonSuffix">
        <div class="location">at         line 477</div>
        <code>        static    protected        array
    <strong>removeLongestCommonSuffix</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Remove the longest common suffix from an array of chains</p>                    <p>NOTE: this method is meant to be called after removeLongestCommonPrefix(). If it's not, then
      the longest match return may be off by 1.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>Removed elements</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_assemble">
        <div class="location">at         line 546</div>
        <code>        static    protected        string
    <strong>assemble</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Assemble an array of chains into one expression</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_makeRegexpOptional">
        <div class="location">at         line 619</div>
        <code>        static    protected        string
    <strong>makeRegexpOptional</strong>(string $regexp)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Make an entire regexp optional through the use of the ? quantifier</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$regexp</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_generateCharacterClass">
        <div class="location">at         line 712</div>
        <code>        static    protected        string
    <strong>generateCharacterClass</strong>(array $chars)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Generate a character class from an array of characters</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chars</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_canBeUsedInCharacterClass">
        <div class="location">at         line 723</div>
        <code>        static    protected        bool
    <strong>canBeUsedInCharacterClass</strong>(string $char)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Test whether a given expression (usually one character) can be used in a character class</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$char</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_optimizeDotChains">
        <div class="location">at         line 766</div>
        <code>        static    protected        void
    <strong>optimizeDotChains</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Remove chains that overlap with dot chains</p>                    <p>Will remove chains that are made redundant by the use of the dot metacharacter, e.g.
["a","b","c"] and ["a",".","c"] or ["a","b","c"], ["a","c"] and ["a",".?","c"]</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_optimizeCatchallChains">
        <div class="location">at         line 864</div>
        <code>        static    protected        void
    <strong>optimizeCatchallChains</strong>(array $chains)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Remove chains that overlap with chains that contain a catchall expression such as .*</p>                    <p>NOTE: cannot handle possessive expressions such as .++ because we don't know whether that
      chain had its suffix/tail stashed by an earlier iteration</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$chains</td>
                <td>&amp;$chains</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_matchesAtLeastOneCharacter">
        <div class="location">at         line 1025</div>
        <code>        static    protected        bool
    <strong>matchesAtLeastOneCharacter</strong>(string $expr)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Test whether a given expression can never match an empty space</p>                    <p>Only basic checks are performed and it only returns true if we're certain the expression
will always match/consume at least one character. For instance, it doesn't properly recognize
the expression [ab]+ as matching at least one character.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$expr</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_canUseAtomicGrouping">
        <div class="location">at         line 1062</div>
        <code>        static    protected        bool
    <strong>canUseAtomicGrouping</strong>(string $expr)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Test whether given expression can be safely used with atomic grouping</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$expr</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
