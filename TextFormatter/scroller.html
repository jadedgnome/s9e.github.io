<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Scroller Demo</title>
	<base href="https://s9e.github.io/TextFormatter/scroller.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
			max-height: 40vh;
			overflow: auto;
		}
		div
		{
			max-width:800px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
	</style>

</head>
<body>
	<div style="float:left;width:80%">
		<form>
			<textarea style="width:99%" rows="15">This is a demo for an experimental live preview scroller.

Here's the list of ingredients for a traditional BLT sandwich:

 - [Bananas](https://en.wikipedia.org/wiki/Bulbasaur)
 - [Lettuce](https://en.wikipedia.org/wiki/Lettuce)
 - [Tomatos](https://en.wikipedia.org/wiki/Dan_Quayle)

All links courtesy of Wikipedia.

![Wikipedia logo](https://upload.wikimedia.org/wikipedia/commons/b/b3/Wikipedia-logo-v2-en.svg)

***

Editing this part of the text should scroll the preview area unless you just happen to have a really tall screen.

***

The parser/renderer used on this page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateScrollerDemo.php). It's been minified with Google Closure Compiler to 36.5 KB (15.0 KB compressed)
</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[0,0],ba=["","t"],ca={d:0},p=["","id"],da={d:514},r={d:3089},ha={d:3201},ia=[53191,32576],ja=[65527,32576],t=[49360,16384],ka=[65521,32576],la=[65344,32580],ma=[64499,32576],na=[65344,32576],v={l:!1},oa=[65352,32576],pa=[49344,16448],qa={l:!0},ra={"class":v},sa=["url",/^(\d+)$/,p],w={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1};function ta(a,b){return wa(a,b)}var xa=[function(a){return x(a,/^\d+$/)}],ya=[function(a){return x(a,/^[-\w]+$/)}];
function za(a,b){a:{var c=Aa;if(b.i){var d,h=Ba(a);for(d in h){var e=h[d];if(b.i[d]){var f=b.i[d];if(f.b){c.n(d);for(var g=0;g<f.b.length;++g)if(e=f.b[g](e,d),!1===e){delete a.i[d];break}!1!==e&&a.n(d,e)}}else delete a.i[d]}for(d in b.i)if(f=b.i[d],!(d in a.i)&&f.l){c=!1;break a}}else Ca(a,{});c=!0}return c}
var y=[za],Ka=[function(a){var b=Da.urlConfig,c=Aa,d=Ea(a.replace(/^\s+/,"").replace(/\s+$/,""));Fa(b,d)?(c&&(d.attrValue=a),a=!1):a=Ja(d);return a}],La={b:xa,l:!1},Ma={b:xa,l:!0},Na={b:[function(a){return x(a,/^\w+$/)}],l:!1},Oa={b:ya,l:!1},Pa={b:[function(a){return x(a,/^[- +,.0-9A-Za-z_]+$/)}],l:!1},z={b:Ka,l:!1},Qa={b:Ka,l:!0},Ra={c:aa,f:0,b:y,g:10,e:{d:66},h:5E3},Wa={c:ka,f:0,b:y,g:10,e:ca,h:5E3},Xa={c:ka,f:0,b:y,g:10,e:{d:2},h:5E3},Ya={c:ja,f:0,b:y,g:10,e:{d:512},h:5E3},Za={o:w,d:256,q:w},$a=
{o:w,d:268,q:w},ab={o:w,d:3460,q:w},bb={o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},d:256,q:w},cb={c:pa,i:{"char":qa},f:7,b:y,g:10,e:r,h:5E3},db={o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},d:256,q:w},fb=[ta,eb,za],gb={align:{b:[function(a){return a.toLowerCase()},function(a){return x(a,/^(?:center|justify|left|right)$/)}],l:!1}};
function hb(a){a:{for(var b in Ba(a))if("url"!==b){a=!0;break a}a=!1}return a}
var ib={c:ka,f:2,b:y,g:10,e:{o:w,d:260,q:w},h:5E3},jb={c:[65344,32581],f:1,b:y,g:10,e:ab,h:5E3},kb={c:la,f:8,b:y,g:10,e:{o:w,d:3456,q:w},h:5E3},lb={c:oa,f:1,b:y,g:10,e:ab,h:5E3},mb={c:ja,f:3,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:li":1,"html:strong":1,"html:u":1},d:264,q:w},h:5E3},nb={c:ka,f:13,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},d:256,q:w},h:5E3},
ob={c:[65344,32578],f:10,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},pb={c:la,f:8,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:tfoot":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},qb=[ta,eb,za,hb],rb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$s$ibandcamp"$k$g400px"><$s$k$b100%">$h$k$e><$l$qsrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$o><$p$m@album_id">album=$c@album_id"/><$r$m@track_num">/t=$c@track_num"/></$r></$p><$n>track=$c@track_id"/></$n></$o></$l></iframe></$s></$s>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$m@lang"><$l$qclass">language-$c@lang"/></$l></$r>$f</code></pre>$d$aDAILYMOTION"><$s$idailymotion"$k$g640px"><$s$k$b56.25%">$h$t//www.dailymotion.com/embed/video/{@id}"$k$e/></$s></$s>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUB|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$q{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook" allowfullscreen="" data-s9e-livepreview-ignore-attrs="style" onload="var a=Math.random();window.addEventListener(\'message\',function(b){{if(b.data.id==a)style.height=b.data.height+\'px\'}});contentWindow.postMessage(\'s9e:\'+a,\'https://s9e.github.io\')" scrolling="no"$thttps://s9e.github.io/iframe/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$c@char"/>$d$aHC"><xsl:comment>$c@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img$t{@src}">$jalt|@title"/></img>$d$aLIST"><$o><$p$mnot(@type)"><ul>$f</ul></$p><$n><ol>$jstart"/>$f</ol></$n></$o>$d$aLIVELEAK"><$s$iliveleak"$k$g640px"><$s$k$b56.25%">$h$t//www.liveleak.com/ll_embed?i={@id}"$k$e/></$s></$s>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud" allowfullscreen="" scrolling="no"><$l$qsrc">https://w.soundcloud.com/player/?url=<$o><$p$m$u">https%3A//api.soundcloud.com/playlists/$c$u"/></$p><$p$m@track_id">https%3A//api.soundcloud.com/tracks/$c@track_id"/>&amp;secret_token=$c@secret_token"/></$p><$n><$r$mnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$c@id"/></$n></$o></$l><$l$qstyle">border:0;height:<$o><$p$m$u or contains(@id,\'/sets/\')">450</$p><$n>166</$n></$o>px;max-width:900px;width:100%</$l></iframe>$d$aSPOTIFY"><$s$ispotify"$k$g400px"><$s$k$b120%">$h$k$e><$l$qsrc">https://embed.spotify.com/?view=coverart&amp;uri=<$o><$p$m@uri">$c@uri"/></$p><$n>spotify:$ctranslate(@path,\'/\',\':\')"/></$n></$o></$l></iframe></$s></$s>$d$aTD"><td><$r$m@align"><$l$qstyle">text-align:$c@align"/></$l></$r>$f</td>$d$aTH"><th><$r$m@align"><$l$qstyle">text-align:$c@align"/></$l></$r>$f</th>$d$aTWITCH"><$s$itwitch"$k$g640px"><$s$k$b56.25%">$h$k$e><$l$qsrc">//<$o><$p$m@clip_id">clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$m@channel">$c@channel"/>/</$r>$c@clip_id"/></$p><$n>player.twitch.tv/?autoplay=false&amp;<$o><$p$m@video_id">video=v$c@video_id"/></$p><$n>channel=$c@channel"/></$n></$o><$r$m@t">&amp;time=$c@t"/></$r></$n></$o></$l></iframe></$s></$s>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$s$ivimeo"$k$g640px"><$s$k$b56.25%">$h$t//player.vimeo.com/video/{@id}"$k$e/></$s></$s>$d$aVINE"><$s$ivine"$k$g480px"><$s$k$b100%">$h$thttps://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$s></$s>$d$aYOUTUBE"><$s$iyoutube"$k$g640px"><$s$k$b56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$l$qsrc">https://www.youtube.com/embed/$c@id"/><$r$m@list">?list=$c@list"/></$r><$r$m@t"><$o><$p$m@list">&amp;</$p><$n>?</$n></$o>start=$c@t"/></$r></$l></iframe></$s></$s>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$s"><$s>$jclass"/>$f</$s>$d$ahtml:td"><td>$jcol$s|@row$s"/>$f</td>$d$ahtml:th"><th>$jcol$s|@row$s|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-u]/g,
function(a){return{$a:'<xsl:template match="',$b:"display:block;overflow:hidden;position:relative;padding-bottom:",$c:'<xsl:value-of select="',$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:"xsl:attribute",$m:' test="',$n:"xsl:otherwise",$o:"xsl:choose",$p:"xsl:when",
$q:' name="',$r:"xsl:if",$s:"span",$t:' src="',$u:"@playlist_id"}[a]});function sb(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}function x(a,b){return b.test(a)?a:!1}
function Ea(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,h){c[a]=""<b[h+1]?b[h+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Ja(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=tb(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+tb(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/g,function(a){return a.toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A",
b));return b}
function Fa(a,b){if(""!==b.scheme&&!a.S.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,h=c.split(".");0<=--d;){if("0"===h[d][0]||255<h[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^([\da-f]{0,4}:){2,7}(?:[\da-f]{0,4}|\d+\.\d+\.\d+\.\d+)$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.U&&a.U.test(b.host)||a.Y&&!a.Y.test(b.host))return"URL host is not allowed"}}function ub(a){var b=document.createElement("b");ub=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return ub(a)}function vb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function wb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}
function tb(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function eb(){return!0}function xb(){}xb.prototype={n:function(){}};function yb(a,b,c,d,h){this.p=+a;this.k=b;this.j=+c;this.m=+d;"undefined"!==typeof h&&(this.B=+h);this.i={};this.K=[];isNaN(a+c+d)&&A(this)}yb.prototype.A=!1;function zb(a,b){a.K.push(b);a.A&&A(b)}function A(a){a.A||(a.A=!0,a.K.forEach(function(a){A(a)}))}
function C(a,b){a.k===b.k&&(1===a.p&&2===b.p&&b.j>=a.j?(a.y=b,b.F=a,zb(a,b)):2===a.p&&1===b.p&&b.j<=a.j&&(a.F=b,b.y=a))}function Ba(a){var b={},c;for(c in a.i)b[c]=a.i[c];return b}function Ab(a,b){return a.A||a.k!==b.k||1!==b.p||2!==a.p||a.j<b.j||a.F&&a.F!==b||b.y&&b.y!==a?!1:!0}yb.prototype.n=function(a,b){this.i[a]=b};function Ca(a,b){a.i={};for(var c in b)a.i[c]=b[c]}
var Bb,Cb,G,I,J,Db,Aa=new xb,Eb,K,L,Gb={Autoemail:{v:function(a,b){b.forEach(function(a){var b=O(1,"EMAIL",a[0][1],0,0);b.n("email",a[0][0]);a=P("EMAIL",a[0][1]+a[0][0].length,0);C(b,a)})},w:"@",x:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,z:5E4},Autolink:{v:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=P("URL",b+a.length,0);"."===a[3]&&(a="http://"+a);b=O(1,"URL",b,0,1);b.n("url",a);C(b,c)}})},w:"://",x:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
z:5E4},Escaper:{v:function(a,b){b.forEach(function(a){Q("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},w:"\\",x:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,z:5E4},FancyPants:{v:function(a){function b(a,b,c,d){a=O(3,u,a,b,d||0);a.n(n,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,k;k=d.exec(a);)b(+k.index,k[0].length,c[k[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,k=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=k.exec(a);)b(+d.index,d[0].length,c[d[0]])}function h(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var k=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,
2,"\u00bb");zb(k,c)}}function e(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function f(c,d,k,h){for(var n;n=d.exec(a);){var f=b(+n.index+n[0].indexOf(c),1,k);n=b(+n.index+n[0].length-1,1,h);zb(f,n)}}function g(){if(D)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)}function l(){if(D||M||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,k=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=k.exec(a);){"x"===d[0][d[0].length-1]&&b(+d.index+d[0].length-1,1,"\u00d7");var n=d[0].substr(1,2);c[n]&&b(+d.index+1,1,c[n])}}function m(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,k;k=d.exec(a);)b(+k.index,k[0].length,c[k[0].toLowerCase()])}var k={T:"char",J:"FP"},n=k.T,D=0<=a.indexOf("'"),M=0<=a.indexOf('"'),u=k.J;k.ca||(g(),D&&f("'",
/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),M&&f('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));k.$||h();k.aa||(e(),l(),d());k.ba||c();k.da||m()}},HTMLComments:{v:function(a,b){b.forEach(function(a){var b=ub(a[0][0].substr(4,a[0][0].length-7));b=b.replace(/[<>]/g,"");b=b.replace(/--/g,"");O(3,"HC",a[0][1],a[0][0].length,0).n("content",b)})},w:"\x3c!--",x:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,z:5E4},HTMLElements:{v:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},s:{"":"S"},strong:{"":"STRONG"},
sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a[b[0][1]+1],e=b[0][1],f=b[0][0].length,g=b[2-d][0].toLowerCase(),l=c&&c[g]&&c[g][""]?c[g][""]:"html:"+g;if(d)P(l,e,f);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?Q(l,e,f,e+f,0):O(1,l,e,f,0);b=b[3][0];e=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;for(var m;l=e.exec(b);)m=l[0].indexOf("="),0>m&&(m=l[0].length,l[0]+="="+l[0].toLowerCase()),f=l[0].substr(0,m).toLowerCase().replace(/^\s+/,"").replace("/s+$/",""),l=l[0].substr(1+m).replace(/^\s+/,
"").replace("/s+$/",""),c&&c[g]&&c[g][f]&&(f=c[g][f]),/^["']/.test(l)&&(l=l.substr(1,l.length-2)),d.n(f,ub(l))}})},w:"<",x:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
z:5E4},HTMLEntities:{v:function(a,b){b.forEach(function(a){var b=a[0][0],c=ub(b);c===b||32>c.charCodeAt(0)||O(3,"HE",a[0][1],b.length,0).n("char",c)})},w:"&",x:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,z:5E4},Litedown:{v:function(a){function b(a){-1<a.indexOf("&")&&(a=ub(a));a=a.replace(/\x1A/g,"");g&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`",
"\u001bC":"~"}[a]}));return a}function c(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function d(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function h(b,c){0<c&&(a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c))}function e(b,c,d,f){function k(d){d=a.indexOf(c+"(",d);if(-1!==d){var n;for(f.lastIndex=d;n=f.exec(a);){var q=n[0];n=+n.index;var u=q.length;Q(b,n,2,n+u-1,1);h(n,u)}q&&k(d)}}var n=a.indexOf(c);-1!==n&&(function(k){var n;for(d.lastIndex=k;n=
d.exec(a);){k=n[0];n=+n.index;var f=k.substr(-1)===c?1:0;Q(b,n,1,n+k.length-f,f)}}(n),k(n))}function f(a,c,d){c=c.replace(/^\s*/,"").replace(/\s*$/,"");var k="",n=c.indexOf(" ");-1!==n&&(k=c.substr(n).replace(/^\s*\S/,"").replace(/\S\s*$/,""),c=c.substr(0,n));a.n(d,b(c));""<k&&a.n("title",b(k))}var g=!1,l=!1,m={};0<=a.indexOf("\\")&&(g=!0,a=a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6",
"\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]}));a+="\n\n\u0017";(function(){function b(a,b){C(P("LIST",b,0),a.V);C(P("LI",b,0),a.H);a.Q&&a.I.forEach(function(a){a.d&=-9})}function c(a,b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function f(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function e(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var b,c=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=c.exec(a);){var d=
b[0];b=b.index;for(var k=b-1;0<k&&" "===a[k-1];)--k;u[b-1]={M:b+d.length-k,N:k,X:d.length-d.replace(/>/g,"").length,J:"="===d[0]?"H1":"H2"}}}var u={};(function(){e();for(var k,n=4,g,m=!0,D=[],l=0,M=!1,Ob=[],ua=0,R=0,va,ea,Ga,N,Ta,Pb,H,E,Ua,Ha,W,X,fa,Qb=[],Va,Ia=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Va=Ia.exec(a);)Qb.push(Va),Va.index===Ia.lastIndex&&++Ia.lastIndex;
Qb.forEach(function(e){var q=e.index,F=e[0].length,B;W=N=0;ea=!m;H=a.indexOf("\n",q);m=H===q+F&&!e[3]&&!e[4]&&!e[5];F||++Ia.lastIndex;va=m&&ea;e[1]&&(W=e[1].length-e[1].replace(/>/g,"").length,N=e[1].length,g&&"quoteDepth"in g.i&&(W=Math.min(W,g.i.quoteDepth),N=c(e[1],W)),h(q,N));if(W<ua&&!ea){M=!0;do C(P("QUOTE",R,0),Ob.pop());while(W<--ua)}if(W>ua&&!m){M=!0;do{var V=O(1,"QUOTE",q,0,ua-999||0);Ob.push(V)}while(W>++ua)}var S=B=0;if(e[2]&&!k){Ta=e[2];Pb=Ta.length;do" "===Ta[S]?++B:B=B+4&-4;while(++S<
Pb&&B<n)}g&&!k&&B<n&&!m&&(M=!0);M&&(M=!1,g&&(R>g.j?(h(g.j,R-g.j),Ga=P("CODE",R,0,-1),C(Ga,g)):A(g),k=g=null),D.forEach(function(a){b(a,R)}),D=[],l=0,q&&d(q-1));if(B>=n){if(g||!ea)N=(e[1]||"").length+S,g||(g=O(1,"CODE",q+N,0,-999)),e={}}else{V=!!e[4];if(B||ea||V)if(ea&&!V)E=l-1;else if(l)for(E=0;E<l&&B>D[E].O;)++E;else E=V?0:-1;else E=-1;for(;E<l-1;)b(D.pop(),R),--l;E!==l||V||--E;if(V&&0<=E)if(va=!0,X=q+N+S,fa=e[4].length,S=O(1,"LI",X,fa,0),h(X,fa),E<l)C(P("LI",R,0),D[E].H),D[E].H=S,D[E].I.push(S);
else{++l;E?(Ha=D[E-1].O+1,Ua=Math.max(Ha,4*E)):(Ha=0,Ua=B);B=O(1,"LIST",X,0,0);if(-1<e[4].indexOf(".")){B.n("type","decimal");var Nb=+e[4];1!==Nb&&B.n("start",Nb)}D.push({V:B,H:S,I:[S],fa:Ha,O:Ua,Q:!0})}!l||ea||m||(1<D[0].I.length||!V)&&D.forEach(function(a){a.Q=!1});n=4*(l+1)}if(e[5])if("#"===e[5][0])S=e[5].length,V=q+F-S,B=f(q+F,H),F=H-B,Q("H"+/#{1,6}/.exec(e[5])[0].length,V,S,F,B),d(V),d(H),ea&&(va=!0);else{if("`"===e[5][0]||"~"===e[5][0])X=q+N,fa=H-X,g&&e[5]===k?(Ga=P("CODE",X,fa,-1),C(Ga,g),
Fb(R,X-R),h(g.j,X+fa-g.j),k=g=null):g||(g=O(1,"CODE",X,fa,0),k=e[5].replace(/[^`~]+/,""),g.n("quoteDepth",W),Fb(X+fa,1),e=e[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==e&&g.n("lang",e))}else e[3]&&!l&&"\u0017"!==a[q+F]?(O(3,"HR",q+N,F-N,0),va=!0,d(H)):!u[H]||u[H].X!==W||m||l||g||(Q(u[H].J,q+N,0,u[H].N,u[H].M),d(u[H].N+u[H].M));va&&(O(3,"pb",R,0,0),d(R));m||(R=H);N&&Fb(q,N,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;b=
c.exec(a);){Fb(b.index,b[0].length,-2);var d=b[1].toLowerCase();m[d]||(l=!0,m[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,e=[],f=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(f);)e.push({j:b.index,m:b[1].length,R:d,Z:b[2].length,P:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=e}f=-1;for(d=c.length;++f<d-1;)for(b=c[f].P,e=f,"`"!==a[c[f].j]&&(++c[f].j,--c[f].m);++e<d&&c[e].j===b;){if(c[e].m===c[f].m){f=c[f];var g=
c[e];b=f.j;var m=g.j-g.R;g=g.m+g.R;Q("C",b,f.m+f.Z,m,g);h(b,m+g-b);f=e;break}b=c[e].P}})();(function(){function c(a,c,d,e,k){var g=Q("IMG",a,2,c,d);f(g,e,"src");g.n("alt",b(k));h(a,c+d-a)}(function(){var b=a.indexOf("![");if(-1!==b){if(0<a.indexOf("](",b))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=d.exec(a);){var f=b[1],e=b.index,k=3+f.length;c(e,e+b[0].length-k,k,f,b[0].substr(2,b[0].length-k-
2))}if(l)for(d=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;b=d.exec(a);){f=+b.index;e=f+2+b[1].length;k=1;var g=b[1],h=g;if(""<b[2]&&m[b[2]])k=b[0].length-g.length-2,h=b[2];else if(!m[h])continue;c(f,e,k,m[h],g)}}})()})();(function(){function b(a,b,c,d){var e=Q("URL",a,1,b,c,1===c?1:-1);f(e,d,"url");h(a,1);h(b,c)}function c(){for(var c,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=d.exec(a);){var f=
c[1],e=c.index,k=3+f.length;b(e,e+c[0].length-k,k,f)}}function d(){for(var c={},d,f=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=f.exec(a);)c[d.index]=d[1].toLowerCase();for(var e in c){d=c[e];f=+e+2+d.length;var k=f-1,g=1;" "===a[f]&&++f;""<c[f]&&m[c[f]]&&(d=c[f],g=f+2+d.length-k);m[d]&&b(+e,k,g,m[d])}}-1!==a.indexOf("](")&&c();l&&d()})();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~(?!~)/g;b=c.exec(a);){var d=b.index;b=d+b[0].length-2;Q("DEL",d,2,b,2);h(d,2);h(b,2)}})();e("SUB","~",
/~(?!\()[^\x17\s~()]+~?/g,/~\([^\x17()]+\)/g);e("SUP","^",/\^(?!\()[^\x17\s^()]+\^?/g,/\^\([^\x17()]+\)/g);(function(){function b(b,f){var e=a.indexOf(b);if(-1!==e){var g=[],k=[],h=a.indexOf("\u0017",e),m;for(f.lastIndex=e;m=f.exec(a);)e=m.index,m=m[0].length,e>h&&(k.push(g),g=[],h=a.indexOf("\u0017",e)),"_"===a.charAt(e)&&1===m&&0<e&&c(a[e-1])&&c(a[e+m])||g.push([e,m]);k.push(g);k.forEach(d)}}function d(b){l=g=null;b.forEach(function(b){var c=b[0];b=b[1];var d=!(-1<" \n\t".indexOf(a[c+b-1+1])),k=
0<c&&-1<" \n\t".indexOf(a.charAt(c-1))?0:Math.min(b,3);f=k&1&&null!==g;e=k&2&&null!==l;Sa=h=c;m=b;null!==g&&g===l&&(f?g+=2:++l);f&&e&&(g<l?h+=2:++Sa);f&&(--m,Q("EM",g,1,h,1),g=null);e&&(m-=2,Q("STRONG",l,2,Sa,2),l=null);m=d?Math.min(m,3):0;c+=b;m&1&&(g=c-m);m&2&&(l=c-m)})}var f,e,g,h,m,l,Sa;b("*",/\*+/g);b("_",/_+/g)})();(function(){for(var b=a.indexOf("  \n");0<b;)O(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{v:function(a,b){b.forEach(function(a){var b=a[0][0];O(3,"MEDIA",a[0][1],b.length,
-10).n("url",b)})},w:":",x:/\b(?:spotify:|https?:\/\/)[^["'\s]+/ig,z:5E4},PipeTables:{v:function(a){function b(a,b){e=b.j;b.E.split("|").forEach(function(b,c){0<c&&(zb(g,Fb(e,1,1E3)),++e);var d=f.L[c]?f.L[c]:"",h=e,k=h+b.length;e=k;var m=/^( *).*?( *)$/.exec(b);if(m[1]){var n=m[1].length;zb(g,Fb(h,n,1E3));h+=n}m[2]&&(n=m[2].length,zb(g,Fb(k-n,n,1E3)),k-=n);k=h===k?O(3,a,h,0,-101):Q(a,h,0,k,0,-101);d&&k.n("align",d)});Q("TR",b.j,0,e,0,-102)}function c(){if(f&&2<f.r.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(f.r[1].E)){for(var a=
f,b=f.r[1].E,c=["","right","left","center"],d=[],e=/(:?)-+(:?)/g,g;g=e.exec(b);)d.push(c[(g[1]?2:0)+(g[2]?1:0)]);a.L=d;l.push(f)}f=null}function d(a){return a.replace(/>/g," ")}function h(a){return a.replace(/\|/g,".")}var e,f=null,g,l;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,h));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){f=null;l=[];e=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;f||(f={r:[]},
d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");f.r.push({E:b,j:e+d})}e+=1+a.length});c()})();(function(){for(var a=-1,c=l.length;++a<c;){f=l[a];var d=f.r[f.r.length-1];g=Q("TABLE",f.r[0].j,0,d.j+d.E.length,0,-104);b("TH",f.r[0]);Q("THEAD",f.r[0].j,0,e,0,-103);d=f.r[1];zb(g,Fb(d.j-1,1+d.E.length,1E3));d=1;for(var h=f.r.length;++d<h;)b("TD",f.r[d]);Q("TBODY",f.r[2].j,0,e,0,-103)}})()},w:"|"}},T,Da={mediasites:{"bandcamp.com":"bandcamp","dailymotion.com":"dailymotion",
"facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","spotify:":"spotify","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},urlConfig:{S:/^(?:ftp|https?)$/i}},Hb={c:ja,d:8},U={BANDCAMP:{c:t,i:{album_id:La,track_id:La,track_num:La,url:z},f:5,b:[eb,za,hb],g:10,e:r,h:5E3},C:Ra,CODE:{c:aa,i:{lang:Pa},f:1,b:y,g:10,e:{o:w,d:4436,q:w},h:5E3},DAILYMOTION:{c:t,u:[["url",
/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([A-Za-z0-9]+)/,p],["url",/^([A-Za-z0-9]+)$/,p]],i:{id:{b:[function(a){return x(a,/^[A-Za-z0-9]+$/)}],l:!0},url:z},f:5,b:fb,g:10,e:r,h:5E3},DEL:Ya,EM:Xa,EMAIL:{c:ia,i:{email:{b:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],l:!0}},f:5,b:y,g:10,e:da,h:5E3},ESC:{c:aa,f:6,b:y,g:10,e:{d:1616},h:5E3},FACEBOOK:{c:t,u:[["url",/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,
p],["url",/\/(video)s?\//,["","type"]],sa],i:{id:Ma,type:{b:[function(a){return x(a,/^video$/)}],l:!1},url:z},f:5,b:fb,g:10,e:r,h:5E3},FP:cb,H1:ib,H2:ib,H3:ib,H4:ib,H5:ib,H6:ib,HC:{c:aa,i:{content:qa},f:6,b:y,g:10,e:{d:3153},h:5E3},HE:cb,HR:{c:pa,f:1,b:y,g:10,e:{o:w,d:3349},h:5E3},IMG:{c:pa,i:{alt:v,src:Qa,title:v},f:0,b:y,g:10,e:r,h:5E3},LI:mb,LIST:{c:oa,i:{start:{b:[function(a){return sb(a)}],l:!1},type:Pa},f:1,b:y,g:10,e:ab,h:5E3},LIVELEAK:{c:t,u:[["url",/liveleak\.com\/view\?i=([a-f_0-9]+)/,p],
["url",/^([a-f_0-9]+)$/,p]],i:{id:{b:[function(a){return x(a,/^[a-f_0-9]+$/)}],l:!0},url:z},f:5,b:fb,g:10,e:r,h:5E3},MEDIA:{c:[65527,32512],f:14,b:[function(a){return function(a,c){function b(a,b){var c=a.y;if(c){var d=a.j,e=a.m,h=c.j;c=c.m}else d=a.j,e=0,h=a.j+a.m,c=0;Ca(Q(b.toUpperCase(),d,e,h,c,a.B),Ba(a))}return function(a,c){if("site"in a.i){var d=a.i.site.toLowerCase();a:{for(e in c)if(c[e]===d){var e=!0;break a}e=!1}e&&b(a,d)}else if("url"in a.i){e=/^(?:([^:]+):)?(?:\/\/([^\/]+))?/.exec(a.i.url);
if(e[1]&&c[e[1]+":"])d=c[e[1]+":"];else if(e[2])a:{d=e[2];do{if(c[d]){d=c[d];break a}e=d.indexOf(".");if(0>e)break;d=d.substr(1+e)}while(""<d);d=!1}d&&b(a,d)}return!1}(a,c)}(a,Da.mediasites)}],g:10,e:{d:513},h:5E3},QUOTE:{c:ja,f:1,b:y,g:10,e:$a,h:5E3},SOUNDCLOUD:{c:t,u:[["url",/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,p],["url",/api\.soundcloud\.com\/playlists\/(\d+)/,["","playlist_id"]],["url",/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,
["","track_id","secret_token"]],["url",/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]],["url",/^((?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$))$/i,p]],i:{id:{b:[function(a){return x(a,/^(?:[-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)$/i)}],l:!0},playlist_id:La,secret_token:Oa,track_id:La,url:z},f:5,b:fb,g:10,e:r,h:5E3},SPOTIFY:{c:t,u:[["url",/(spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)/,["","uri"]],["url",/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)\/[-\/\w]+)/,
["","path"]]],i:{path:{b:[function(a){return x(a,/^(?:(?:album|artist|track|user)\/[-\/\w]+)$/)}],l:!1},uri:{b:[function(a){return x(a,/^(?:spotify:(?:album|artist|user|track(?:set)?):[-,:\w]+)$/)}],l:!1},url:z},f:5,b:qb,g:10,e:r,h:5E3},STRONG:Xa,SUB:Wa,SUP:Wa,TABLE:jb,TBODY:pb,TD:{c:ja,i:gb,f:9,b:y,g:10,e:db,h:5E3},TH:{c:ma,i:gb,f:9,b:y,g:10,e:db,h:5E3},THEAD:kb,TR:ob,TWITCH:{c:t,u:[["url",/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],["url",/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],
["url",/t=((?:(?:\d+h)?\d+m)?\d+s)/,ba],["url",/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],i:{channel:Na,clip_id:Na,t:{b:[function(a){return x(a,/^(?:(?:\d+h)?\d+m)?\d+s$/)}],l:!1},url:z,video_id:La},f:5,b:qb,g:10,e:r,h:5E3},URL:{c:ia,i:{title:v,url:Qa},f:4,b:y,g:10,e:da,h:5E3},VIMEO:{c:t,u:[["url",/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,p],sa],i:{id:Ma,url:z},f:5,b:fb,g:10,e:r,h:5E3},VINE:{c:t,u:[["url",/vine\.co\/v\/([^\/]+)/,p],["url",/^([^\/]+)$/,p]],i:{id:{b:[function(a){return x(a,
/^[^\/]+$/)}],l:!0},url:z},f:5,b:fb,g:10,e:r,h:5E3},YOUTUBE:{c:t,u:[["url",/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,p],["url",/youtu\.be\/([-\w]+)/,p],["url",/[#&?]t=(\d[\dhms]*)/,ba],["url",/&list=([-\w]+)/,["","list"]],["url",/^([-\w]+)$/,p]],i:{id:{b:ya,l:!0},list:Oa,t:{b:[function(a){var b=/^(?=\d)(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/.exec(a);return b?3600*(b[1]||0)+60*(b[2]||0)+(+b[3]||0):sb(a)}],l:!1},url:z},f:5,b:fb,g:10,e:r,h:5E3},"html:abbr":{c:ka,i:{title:v},f:0,
b:y,g:10,e:ca,h:5E3},"html:b":Xa,"html:br":{c:na,f:0,b:y,g:10,e:ha,h:5E3},"html:code":Ra,"html:dd":{c:ja,f:11,b:y,g:10,e:bb,h:5E3},"html:del":Ya,"html:div":{c:ja,i:ra,f:1,b:y,g:10,e:$a,h:5E3},"html:dl":{c:[65344,32584],f:1,b:y,g:10,e:ab,h:5E3},"html:dt":{c:ma,f:11,b:y,g:10,e:bb,h:5E3},"html:i":Xa,"html:img":{c:na,i:{alt:v,height:v,src:z,title:v,width:v},f:0,b:y,g:10,e:ha,h:5E3},"html:ins":Ya,"html:li":mb,"html:ol":lb,"html:pre":{c:ka,f:1,b:y,g:10,e:{o:w,d:276,q:w},h:5E3},"html:rb":{c:ka,f:12,b:y,
g:10,e:Za,h:5E3},"html:rp":nb,"html:rt":nb,"html:rtc":{c:[65521,32608],f:12,b:y,g:10,e:Za,h:5E3},"html:ruby":{c:[65521,32624],f:0,b:y,g:10,e:ca,h:5E3},"html:span":{c:ka,i:ra,f:0,b:y,g:10,e:ca,h:5E3},"html:strong":Xa,"html:sub":Wa,"html:sup":Wa,"html:table":jb,"html:tbody":pb,"html:td":{c:ja,i:{colspan:v,rowspan:v},f:9,b:y,g:10,e:db,h:5E3},"html:tfoot":{c:la,f:8,b:y,g:10,e:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,
"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},d:3456,q:w},h:5E3},"html:th":{c:ma,i:{colspan:v,rowspan:v,scope:v},f:9,b:y,g:10,e:db,h:5E3},"html:thead":kb,"html:tr":ob,"html:u":Xa,"html:ul":lb},Y,Ib,Z,Jb,Kb=0,Lb;
function Mb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");Bb={};Cb={};I=0;J=null;Db=!1;Eb={};K=[];L="";T=0;Y=[];Ib=!1;Z=a;Jb=Z.length;Lb=0;G=Hb;G.D=!1;++Kb;a=Kb;for(var b in Gb)if(!Gb[b].G)a:{var c=b,d=Gb[c];if(!(d.w&&0>Z.indexOf(d.w))){var h=[];if(d.x){h=void 0;var e=d.x;d=d.z;e.lastIndex=0;for(var f=[],g=0;++g<=d&&(h=e.exec(Z));){for(var l=+h.index,m=[[h[0],l]],k=0;++k<h.length;){var n=h[k];void 0===n?m.push(["",-1]):(m.push([n,Z.indexOf(n,l)]),l+=n.length)}f.push(m)}h=
f;if(!h.length)break a}(0,Gb[c].v)(Z,h)}}Rb();Sb(Jb,0,!0);do b=L,L=L.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(L!==b);L=L.replace(/<\/i><i>/g,"",L);L=L.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tb);c=Db?"r":"t";b="<"+c;for(var D in Eb)b+=" xmlns:"+D+'="urn:s9e:TextFormatter:'+D+'"';L=b+">"+L+"</"+c+">";if(Kb!==a)throw"The parser has been reset during execution";return L}
function wa(a,b){b.u&&b.u.forEach(function(b){var c=b[0];if(c in a.i){b=Ub(a.i[c],b[1],b[2]);for(var h in b)h!==c&&h in a.i||a.n(h,b[h])}});return!0}function Ub(a,b,c){var d=b.exec(a);if(!d)return[];var h={};c.forEach(function(a,b){"string"===typeof d[b]&&""!==d[b]&&(h[a]=d[b])});return h}function Tb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Vb(a){Db=!0;var b=a.k,c=a.j,d=a.m,h=a.d,e=0,f=0;h&256&&(e=1,f=a.p&2?2:1);var g=!1;a.p&1?h&4&&(g=!0):g=!0;Sb(c,e,g);e=d?wb(Z.substr(c,d)):"";if(a.p&1){h&4||Wb(c);h=b.indexOf(":");0<h&&(Eb[b.substr(0,h)]=0);L+="<"+b;var l=Ba(a);h=[];for(var m in l)h.push(m);h.sort(function(a,b){return a>b?1:-1});h.forEach(function(a){L+=" "+a+'="'+vb(l[a].toString()).replace(/\n/g,"&#10;")+'"'});L=3===a.p?d?L+(">"+e+"</"+b+">"):L+"/>":d?L+("><s>"+e+"</s>"):L+">"}else d&&(L+="<e>"+e+"</e>"),L+="</"+b+">";for(Lb=
T=c+d;f&&Lb<Jb&&"\n"===Z[Lb];)--f,++Lb}
function Sb(a,b,c){c&&(G.d&8?b=-1:c=!1);T>=a&&c&&Xb();if(Lb>T){var d=Math.min(a,Lb);L+=Z.substr(T,d-T);T=d;T>=a&&c&&Xb()}if(G.d&128)d=a-T,b=Z.substr(T,d),/^[ \n\t]*$/.test(b)||(b="<i>"+b+"</i>"),L+=b,T=a,c&&Xb();else{var h=a;for(d=0;b&&--h>=T;){var e=Z[h];if(" "!==e&&"\n"!==e&&"\t"!==e)break;"\n"===e&&--b;++d}a-=d;if(G.d&8)for(G.D||(Yb(a),a>T&&Wb(a)),b=Z.indexOf("\n\n",T);-1<b&&b<a;)Sb(b,0,!0),Wb(a),b=Z.indexOf("\n\n",T);a>T&&(b=wb(Z.substr(T,a-T)),L+=b);c&&Xb();d&&(L+=Z.substr(a,d));T=a+d}}
function Zb(a){var b=a.j;a=a.m;var c=Z.substr(b,a);Sb(b,0,!1);L+="<i>"+wb(c)+"</i>";Db=!0;T=b+a}function Wb(a){!G.D&&G.d&8&&(Yb(a),T<Jb&&(L+="<p>",G.D=!0))}function Xb(){G.D&&(L+="</p>",G.D=!1)}function Yb(a){for(;T<a&&-1<" \n\t".indexOf(Z[T]);)L+=Z[T],++T}function $b(a,b){var c=a.k;(J.d|a.d)&256&&(b=ac(b));c=P(c,b,0);C(c,a)}function ac(a){for(;a>T&&-1<" \n\t".indexOf(Z[a-1]);)--a;return a}
function Rb(){if(Y.length){for(var a in U)Bb[a]=0,Cb[a]=0;do{for(;Y.length;)Ib||(Y.sort(bc),Ib=!0),J=Y.pop(),cc();K.forEach(function(a){$b(a,Jb)})}while(Y.length)}}
function cc(){G.d&64&&!Ab(J,K[K.length-1])&&!(-1<"br i pb v".indexOf(J.k))&&A(J);var a=J.j,b=J.m;if(T>a&&!J.A){var c;if((c=J.F)&&0<=K.indexOf(c)){C(P(c.k,T,Math.max(0,a+b-T)),c);return}if("i"===J.k&&(a=a+b-T,0<a)){Fb(T,a);return}A(J)}if(!J.A)if("i"===J.k)Zb(J);else if("br"===J.k)G.d&1024||(Sb(J.j,0,!1),L+="<br/>");else if("pb"===J.k)Sb(J.j,0,!0);else if("v"===J.k)a=G.d,G.d=J.d,Sb(J.j+J.m,0,!1),G.d=a;else if(J.p&1)if(a=J,b=a.k,c=U[b],Cb[b]>=c.h)A(a);else{var d=a,h=U[d.k],e=!0;if(h.b)for(var f=0;f<
h.b.length;++f)if(!h.b[f](d,h)){e=!1;break}if(e){if(d=1E4>I){a:{d=a;if(K.length&&(e=d.k,f=U[e],f.e.q)){h=K[K.length-1];var g=h.k;if(f.e.q[g]){if(g!==e&&1E4>I){e=d.j+d.m;Y.length?(f=Y[Y.length-1],f=f.j):f=Jb+1;for(;e<f&&-1<" \n\t".indexOf(Z[e]);)++e;e=dc(h,e);zb(d,e)}Y.push(d);$b(h,d.j);I+=4;d=!0;break a}}d=!1}if(!d)a:{d=a;if(K.length&&(h=U[d.k],h.e.o&&(e=K[K.length-1],h.e.o[e.k]))){++I;Y.push(d);$b(e,d.j);d=!0;break a}d=!1}d=d||!1}d||(Bb[b]>=c.g?A(a):(c=U[b].f,G.c[c>>3]&1<<(c&7)?(!(a.d&1)||a.y||Y.length&&
Ab(Y[Y.length-1],a)||(b=new yb(3,b,a.j,a.m),Ca(b,Ba(a)),b.d=a.d,a=b),a.d&4096&&!a.y&&"\n"===Z[a.j+a.m]&&Fb(a.j+a.m,1),Vb(a),ec(a)):A(a)))}else A(a)}else fc()}
function fc(){var a=J;if(Bb[a.k]){for(var b=[],c=K.length;0<=--c;){var d=K[c];if(Ab(a,d))break;b.push(d);++I}if(!(0>c)){var h=a.d;b.forEach(function(a){h|=a.d});var e=h&256,f=1E4>I,g=[];b.forEach(function(b){var c=b.k;f&&(b.d&2?g.push(b):f=!1);var d=a.j;e&&(d=ac(d));c=new yb(2,c,d,0);c.d=b.d;Vb(c);gc()});Vb(a);gc();if(b.length&&1E4>I){d=T;for(c=Y.length;0<=--c&&1E4>++I;){var l=Y[c];if(l.j>d||l.p&1)break;for(var m=b.length;0<=--m&&1E4>++I;)if(Ab(l,b[m])){b.splice(m,1);g[m]&&g.splice(m,1);d=Math.max(d,
l.j+l.m);break}}d>T&&Zb(new yb(3,"i",T,d-T))}g.forEach(function(a){var b=dc(a,T);(a=a.y)&&C(b,a)})}}}function gc(){var a=K.pop();--Bb[a.k];G=G.W}function ec(a){var b=a.k,c=a.d,d=U[b];++Cb[b];if(3!==a.p){var h=[];c&512?G.c.forEach(function(a,b){h.push(d.c[b]&a)}):G.c.forEach(function(a,b){h.push(d.c[b]&(a&65280|a>>8))});c|=G.d&32;c&16&&(c&=-33);++Bb[b];K.push(a);G={c:h,d:c,W:G}}}function P(a,b,c,d){return O(2,a,b,c,d||0)}function Fb(a,b,c){return O(3,"i",a,Math.min(b,Jb-a),c||0)}
function dc(a,b){var c=O(a.p,a.k,b,0,a.B);Ca(c,Ba(a));return c}function O(a,b,c,d,h){a=new yb(a,b,c,d,h||0);U[b]&&(a.d=U[b].e.d);if(U[b]||-1<"br i pb v".indexOf(a.k))if(U[b]&&U[b].G)A(a);else if(0>d||0>c||c+d>Jb)A(a);else if(Ib){for(b=Y.length;0<b&&0<bc(Y[b-1],a);)Y[b]=Y[b-1],--b;Y[b]=a}else Y.push(a);else A(a);return a}function Q(a,b,c,d,h,e){d=P(a,d,h,-e||0);a=O(1,a,b,c,e||0);C(a,d);return a}
function bc(a,b){var c=a.j,d=b.j;if(c!==d)return d-c;if(a.B!==b.B)return b.B-a.B;c=a.m;d=b.m;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.p]-c[a.p])}var hc="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function ic(a,b){if(hc){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function jc(a,b){if(hc){var c=b.createElement("div"),d=b.createDocumentFragment();kc.input=ic(a,"MSXML2.DOMDocument.6.0");kc.transform();for(c.innerHTML=kc.output;c.firstChild;)d.appendChild(c.removeChild(c.firstChild));return d}return b.importNode(kc.transformToFragment(ic(a),b),!0)}var kc,lc=ic(rb,"MSXML2.FreeThreadedDOMDocument.6.0");if(hc){var mc=new ActiveXObject("MSXML2.XSLTemplate.6.0");mc.stylesheet=lc;kc=mc.createProcessor()}else kc=new XSLTProcessor,kc.importStylesheet(lc);
window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){Gb[a]&&(Gb[a].G=!0)},enablePlugin:function(a){Gb[a]&&(Gb[a].G=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,e=b.childNodes,g=c.length,l=e.length,M,u,q=0,F=0;q<g&&q<l;){M=c[q];u=e[q];if(!d(M,u))break;++q}for(var B=Math.min(g-q,l-q);F<B;){M=c[g-(F+1)];u=e[l-(F+1)];if(!d(M,u))break;++F}for(g-=F;--g>=q;)a.removeChild(c[g]),f=a;l-=F;if(!(q>=l)){c=h.createDocumentFragment();g=q;do c.appendChild(e[g].cloneNode(!0));while(++g<l);F?(e=
a.childNodes[q],a.insertBefore(c,e),f=e.ga):(a.appendChild(c),f=a.ea)}}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue,f=a),!0;if(a.isEqualNode&&a.isEqualNode(b))return!0;for(var d=a.attributes,e=b.attributes,h=e.length,g=d.length,l=" "+d["data-s9e-livepreview-ignore-attrs"]+" ";0<=--g;){var u=d[g],q=u.namespaceURI;u=u.name;-1<l.indexOf(" "+u+" ")||b.hasAttributeNS(q,u)||(a.removeAttributeNS(q,
u),f=a)}for(g=h;0<=--g;)d=e[g],q=d.namespaceURI,u=d.name,d=d.value,-1<l.indexOf(" "+u+" ")||d===a.getAttributeNS(q,u)||(a.setAttributeNS(q,u,d),f=a);c(a,b);return!0}var h=b.ownerDocument,e=jc(Mb(a),h),f=b;c(b,e);return f}};})();

		var textarea = document.getElementsByTagName('textarea')[0],
			preview  = document.getElementById('preview'),
			text     = '';

		setInterval(function()
		{
			if (textarea.value === text)
			{
				return;
			}
			text = textarea.value;

			var lastUpdated = s9e.TextFormatter.preview(text, preview);
			if (!preview.isSameNode(lastUpdated))
			{
				scrollToNode(lastUpdated);
			}
		}, 20);

		function scrollToNode(target)
		{
			var nodes       = [target, target.previousSibling, target.parentNode],
				previewRect = preview.getBoundingClientRect(),
				i           = 0,
				node,
				rect;
			do
			{
				node = nodes[i];
				if (!node || !node.getBoundingClientRect || !node.scrollIntoView)
				{
					continue;
				}

				rect = node.getBoundingClientRect();
				if (rect.bottom > previewRect.bottom || rect.top < previewRect.top)
				{
					node.scrollIntoView();

					return;
				}
			}
			while (++i < 3);
		}

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>