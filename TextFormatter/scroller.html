<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>s9e\TextFormatter &bull; Scroller Demo</title>
	<base href="https://s9e.github.io/TextFormatter/scroller.html" />
	<style type="text/css">
		#preview
		{
			font-family: sans;
			padding: 5px;
			background-color: #f8f8f8;
			border: dashed 1px #ddd;
			border-radius: 5px;
			max-height: 40vh;
			overflow: auto;
		}
		div
		{
			max-width:800px;
		}
		pre, code
		{
			padding: 2px;
			background-color: #fff;
			border-radius: 3px;
			border: solid 1px #ddd;
		}
		pre code
		{
			border: 0;
		}
		blockquote
		{
			background-color: #fff;
			border: solid 1px #ddd;
			border-left-width: 4px;
			padding-left: 1em;
		}
		p
		{
			margin: 0;
		}
		td, th
		{
			border: solid 1px #ddd;
			background-color: #fff;
		}
		#outline
		{
			outline: solid 2px rgba(0, 0, 255, .4);
			position: fixed;
			width:  0;
			height: 0;
			left: -1000px;
			top: 0;
			transition: all .1s;
		}
	</style>

</head>
<body>
	<div id="outline"></div>
	<div style="float:left;width:80%">
		<form>
			<textarea style="width:99%" rows="15">This is a demo for an experimental live preview scroller.

Here's the list of ingredients for a traditional BLT sandwich:

 - [Bananas](https://en.wikipedia.org/wiki/Bulbasaur)
 - [Lettuce](https://en.wikipedia.org/wiki/Lettuce)
 - [Tomatos](https://en.wikipedia.org/wiki/Dan_Quayle)

All links courtesy of Wikipedia.

![Wikipedia logo](https://upload.wikimedia.org/wikipedia/commons/b/b3/Wikipedia-logo-v2-en.svg)

***

Editing this part of the text should scroll the preview area unless you just happen to have a really tall screen.

***

The parser/renderer used on this page has been generated by [this script](https://github.com/s9e/TextFormatter/blob/master/scripts/generateScrollerDemo.php). It's been minified with Google Closure Compiler to 35.7 KB (14.9 KB compressed)
</textarea>
		</form>
	</div>

	<div style="float:left;">
		<form><input type="checkbox" id="Autoemail" checked="checked" onchange="toggle(this)"><label for="Autoemail">&nbsp;Autoemail</label><br><input type="checkbox" id="Autolink" checked="checked" onchange="toggle(this)"><label for="Autolink">&nbsp;Autolink</label><br><input type="checkbox" id="Escaper" checked="checked" onchange="toggle(this)"><label for="Escaper">&nbsp;Escaper</label><br><input type="checkbox" id="FancyPants" checked="checked" onchange="toggle(this)"><label for="FancyPants">&nbsp;FancyPants</label><br><input type="checkbox" id="HTMLComments" checked="checked" onchange="toggle(this)"><label for="HTMLComments">&nbsp;HTMLComments</label><br><input type="checkbox" id="HTMLElements" checked="checked" onchange="toggle(this)"><label for="HTMLElements">&nbsp;HTMLElements</label><br><input type="checkbox" id="HTMLEntities" checked="checked" onchange="toggle(this)"><label for="HTMLEntities">&nbsp;HTMLEntities</label><br><input type="checkbox" id="Litedown" checked="checked" onchange="toggle(this)"><label for="Litedown">&nbsp;Litedown</label><br><input type="checkbox" id="MediaEmbed" checked="checked" onchange="toggle(this)"><label for="MediaEmbed">&nbsp;MediaEmbed</label><br><input type="checkbox" id="PipeTables" checked="checked" onchange="toggle(this)"><label for="PipeTables">&nbsp;PipeTables</label></form>
	</div>

	<div style="clear:both"></div>

	<div id="preview"></div>

	<script type="text/javascript">(function(){var aa=[""],da=[0,0],ea=["","t"],q=["","id"],fa={e:0},ha={e:514},r={e:3089},ia={e:3201},t=[49360,32768],u=[65521,65408],ja=[65527,65424],ka=[53191,65432],la=[49344,32896],ma=[65527,65432],na=[64499,65424],oa=[65344,65412],pa=[65352,65408],sa=[65344,65408],ta=["","track_id"],ua=["","album_id"],va=["","playlist_id"],wa={c:[],u:!0},w={c:[],u:!1},xa={"class":w},x={C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:u":1},z=[function(a,b){var c={},d;for(d in b.b){var g=
b.b[d],f=!1;if(d in a.b){f=g.c;var e=d,m=a.b[d];ya.m(e);for(var k=0;k<f.length&&(m=f[k](m,e),!1!==m);++k);f=m}!1!==f?c[d]=f:g.u&&y(a)}za(a,c)}],Ba={c:[function(a){var b=/^(?=\d)(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/.exec(a);return b?3600*(b[1]||0)+60*(b[2]||0)+(+b[3]||0):Aa(a)}],u:!1},Ja=[function(a){var b=Ca.urlConfig,c=ya,d=Da(a.replace(/^\s+/,"").replace(/\s+$/,""));Ha(b,d)?(c&&(d.attrValue=a),a=!1):a=Ia(d);return a}],La={c:[function(a){return Ka(a,/^[- +,.0-9A-Za-z_]+$/)}],u:!1},Ma={c:Ja,u:!0},Na=
{d:da,b:{},g:0,c:z,h:10,f:{e:66},i:5E3},Oa={o:x,e:268,p:x},Pa={o:x,e:256,p:x},Qa={o:x,e:3460,p:x},Ra={d:u,b:{},g:0,c:z,h:10,f:{e:2},i:5E3},Wa={d:u,b:{},g:0,c:z,h:10,f:fa,i:5E3},Xa={d:ma,b:{},g:0,c:z,h:10,f:{e:512},i:5E3},Ya={o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:dd":1,"html:dt":1,"html:i":1,"html:strong":1,"html:u":1},e:256,p:x},Za={o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:u":1},e:256,
p:x},$a={d:t,b:{id:w},g:5,c:z,h:10,f:r,i:5E3},ab={d:la,b:{"char":wa},g:7,c:z,h:10,f:r,i:5E3},bb={align:{c:[function(a){return a.toLowerCase()},function(a){return Ka(a,/^(?:center|justify|left|right)$/)}],u:!1}},cb={d:u,b:{},g:2,c:z,h:10,f:{o:x,e:260,p:x},i:5E3},db={d:pa,b:{},g:1,c:z,h:10,f:Qa,i:5E3},eb={d:[65344,65413],b:{},g:1,c:z,h:10,f:Qa,i:5E3},fb={d:oa,b:{},g:8,c:z,h:10,f:{o:x,e:3456,p:x},i:5E3},gb={d:ja,b:{},g:3,c:z,h:10,f:{o:{C:1,EM:1,EMAIL:1,LI:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,
"html:li":1,"html:strong":1,"html:u":1},e:264,p:x},i:5E3},hb={d:u,b:{},g:14,c:z,h:10,f:{o:{C:1,EM:1,EMAIL:1,STRONG:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:rp":1,"html:rt":1,"html:strong":1,"html:u":1},e:256,p:x},i:5E3},ib={d:[65344,65410],b:{},g:10,c:z,h:10,f:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TD:1,TH:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:td":1,"html:th":1,"html:tr":1,"html:u":1},e:3456,p:x},i:5E3},jb={d:oa,b:{},g:8,c:z,h:10,f:{o:{C:1,EM:1,EMAIL:1,STRONG:1,TBODY:1,
TD:1,TH:1,THEAD:1,TR:1,URL:1,"html:b":1,"html:code":1,"html:i":1,"html:strong":1,"html:tbody":1,"html:td":1,"html:th":1,"html:thead":1,"html:tr":1,"html:u":1},e:3456,p:x},i:5E3},kb='<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:html="urn:s9e:TextFormatter:html" exclude-result-prefixes="html"><xsl:output method="html" encoding="utf-8" indent="no"/>$aBANDCAMP"><$t$ibandcamp"$k$g400px"><$t$k$c100%">$h$k$e><$l$osrc">//bandcamp.com/EmbeddedPlayer/size=large/minimal=true/<$p><$q$m@album_id">album=$b@album_id"/><$r$m@track_num">/t=$b@track_num"/></$r></$q><$n>track=$b@track_id"/></$n></$p></$l></iframe></$t></$t>$d$aC"><code>$f</code>$d$aCODE"><pre><code><$r$m@lang"><$l$oclass">language-$b@lang"/></$l></$r>$f</code></pre>$d$aDAILYMOTION"><$t$idailymotion"$k$g640px"><$t$k$c56.25%">$h$k$e><$l$osrc">//www.dailymotion.com/embed/video/$b@id"/><$r$m@t">?start=$b@t"/></$r></$l></iframe></$t></$t>$d$aDEL|EM|H1|H2|H3|H4|H5|H6|LI|STRONG|SUB|SUP|TABLE|TBODY|THEAD|TR|html:b|html:br|html:code|html:dd|html:del|html:dl|html:dt|html:i|html:ins|html:li|html:ol|html:pre|html:rb|html:rp|html:rt|html:rtc|html:ruby|html:strong|html:sub|html:sup|html:table|html:tbody|html:tfoot|html:thead|html:tr|html:u|html:ul|p"><xsl:element$o{translate(local-name(),\'ABDEGHILMNOPRSTUY\',\'abdeghilmnoprstuy\')}">$f</xsl:element>$d$aEMAIL"><a href="mailto:{@email}">$f</a>$d$aESC">$f$d$aFACEBOOK"><iframe$ifacebook"$s" data-s9e-livepreview-ignore-attrs="style" onload="var c=new MessageChannel;c.port1.onmessage=function(e){{style.height=e.data+\'px\'}};contentWindow.postMessage(\'s9e:init\',\'https://s9e.github.io\',[c.port2])"$uno" src="https://s9e.github.io/iframe/2/facebook.min.html#{@type}{@id}"$kborder:0;height:360px;max-width:640px;width:100%"/>$d$aFP|HE">$b@char"/>$d$aHC"><xsl:comment>$b@content"/></xsl:comment>$d$aHR"><hr/>$d$aIMG"><img src="{@src}">$jalt|@title"/></img>$d$aLIST"><$p><$q$mnot(@type)"><ul>$f</ul></$q><$n><ol>$jstart"/>$f</ol></$n></$p>$d$aLIVELEAK"><$t$iliveleak"$k$g640px"><$t$k$c56.25%">$h src="//www.liveleak.com/e/{@id}"$k$e/></$t></$t>$d$aQUOTE"><blockquote>$f</blockquote>$d$aSOUNDCLOUD"><iframe$isoundcloud"$s"$uno"><$l$osrc">https://w.soundcloud.com/player/?url=<$p><$q$m$v">https%3A//api.soundcloud.com/playlists/$b$v"/></$q><$q$m@track_id">https%3A//api.soundcloud.com/tracks/$b@track_id"/>&amp;secret_token=$b@secret_token"/></$q><$n><$r$mnot(contains(@id,\'://\'))">https%3A//soundcloud.com/</$r>$b@id"/></$n></$p></$l><$l$ostyle">border:0;height:<$p><$q$m$v or contains(@id,\'/sets/\')">450</$q><$n>166</$n></$p>px;max-width:900px;width:100%</$l></iframe>$d$aSPOTIFY"><$t$ispotify"$k$g400px"><$t$k$c100%"><iframe allow="encrypted-media"$s"$uno" src="https://open.spotify.com/embed/{translate(@id,\':\',\'/\')}{@path}"$k$e/></$t></$t>$d$aTD"><td><$r$m@align"><$l$ostyle">text-align:$b@align"/></$l></$r>$f</td>$d$aTH"><th><$r$m@align"><$l$ostyle">text-align:$b@align"/></$l></$r>$f</th>$d$aTWITCH"><$t$itwitch"$k$g640px"><$t$k$c56.25%">$h$k$e><$l$osrc">//<$p><$q$m@clip_id">clips.twitch.tv/embed?autoplay=false&amp;clip=<$r$m@channel">$b@channel"/>/</$r>$b@clip_id"/></$q><$n>player.twitch.tv/?autoplay=false&amp;<$p><$q$m@video_id">video=v$b@video_id"/></$q><$n>channel=$b@channel"/></$n></$p><$r$m@t">&amp;time=$b@t"/></$r></$n></$p></$l></iframe></$t></$t>$d$aURL"><a href="{@url}">$jtitle"/>$f</a>$d$aVIMEO"><$t$ivimeo"$k$g640px"><$t$k$c56.25%">$h$k$e><$l$osrc">//player.vimeo.com/video/$b@id"/><$r$m@t">#t=$b@t"/></$r></$l></iframe></$t></$t>$d$aVINE"><$t$ivine"$k$g480px"><$t$k$c100%">$h src="https://vine.co/v/{@id}/embed/simple?audio=1"$k$e/></$t></$t>$d$aYOUTUBE"><$t$iyoutube"$k$g640px"><$t$k$c56.25%">$h$kbackground:url(https://i.ytimg.com/vi/{@id}/hqdefault.jpg) 50% 50% / cover;$e><$l$osrc">https://www.youtube.com/embed/$b@id"/><$r$m@list">?list=$b@list"/></$r><$r$m@t"><$p><$q$m@list">&amp;</$q><$n>?</$n></$p>start=$b@t"/></$r></$l></iframe></$t></$t>$d$abr"><br/>$d$ae|i|s"/>$ahtml:abbr"><abbr>$jtitle"/>$f</abbr>$d$ahtml:div"><div>$jclass"/>$f</div>$d$ahtml:img"><img>$jalt|@height|@src|@title|@width"/>$f</img>$d$ahtml:$t"><$t>$jclass"/>$f</$t>$d$ahtml:td"><td>$jcol$t|@row$t"/>$f</td>$d$ahtml:th"><th>$jcol$t|@row$t|@scope"/>$f</th>$d</xsl:stylesheet>'.replace(/\$[a-v]/g,
function(a){return{$a:'<xsl:template match="',$b:'<xsl:value-of select="',$c:"display:block;overflow:hidden;position:relative;padding-bottom:",$d:"</xsl:template>",$e:'border:0;height:100%;left:0;position:absolute;width:100%"',$f:"<xsl:apply-templates/>",$g:"display:inline-block;width:100%;max-width:",$h:'<iframe allowfullscreen="" scrolling="no"',$i:' data-s9e-mediaembed="',$j:'<xsl:copy-of select="@',$k:' style="',$l:"xsl:attribute",$m:' test="',$n:"xsl:otherwise",$o:' name="',$p:"xsl:choose",$q:"xsl:when",
$r:"xsl:if",$s:' allowfullscreen="',$t:"span",$u:' scrolling="',$v:"@playlist_id"}[a]});function Aa(a){return/^(?:0|[1-9]\d*)$/.test(a)?a:!1}function Ka(a,b){return b.test(a)?a:!1}
function Da(a){var b=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i.exec(a),c={};"scheme user pass host port path query fragment".split(" ").forEach(function(a,g){c[a]=""<b[g+1]?b[g+1]:""});c.scheme=c.scheme.toLowerCase();c.host=c.host.replace(/[\u3002\uff0e\uff61]/g,".").replace(/\.+$/g,"");/[^\x00-\x7F]/.test(c.host)&&"undefined"!==typeof punycode&&(c.host=punycode.toASCII(c.host));return c}
function Ia(a){var b="";""!==a.scheme&&(b+=a.scheme+":");""===a.host?"file"===a.scheme&&(b+="//"):(b+="//",""!==a.user&&(b+=lb(decodeURIComponent(a.user)),""!==a.pass&&(b+=":"+lb(decodeURIComponent(a.pass))),b+="@"),b+=a.host,""!==a.port&&(b+=":"+a.port));var c=a.path+a.query+a.fragment;c=c.replace(/%.?[a-f]/g,function(a){return a.toUpperCase()},c);b+=c.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape);a.scheme||(b=b.replace(/^([^\/]*):/,"$1%3A"));
return b}
function Ha(a,b){if(""!==b.scheme&&!a.T.test(b.scheme))return"URL scheme is not allowed";if(""===b.host){if("file"!==b.scheme&&""!==b.scheme)return"Missing host"}else{var c;if(c=!/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i.test(b.host)){a:if(c=b.host,/^\d+\.\d+\.\d+\.\d+$/.test(c))for(var d=4,g=c.split(".");0<=--d;){if("0"===g[d][0]||255<g[d]){c=!1;break a}}else c=!1;if(c=!c)c=b.host.replace(/^\[(.*)\]$/,"$1",b.host),c=!(/^([\da-f]{0,4}:){2,7}(?:[\da-f]{0,4}|\d+\.\d+\.\d+\.\d+)$/.test(c)&&c)}if(c)return"URL host is invalid";
if(a.V&&a.V.test(b.host)||a.$&&!a.$.test(b.host))return"URL host is not allowed"}}function mb(a){var b=document.createElement("b");mb=function(a){b.innerHTML=a.replace(/</g,"&lt;");return b.textContent};return mb(a)}function nb(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return a.replace(/[<>&"]/g,function(a){return b[a]})}function ob(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;"};return a.replace(/[<>&]/g,function(a){return b[a]})}
function lb(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function pb(){}pb.prototype={m:function(){}};function qb(a,b,c,d,g){this.n=+a;this.k=b;this.j=+c;this.l=+d;"undefined"!==typeof g&&(this.y=+g);this.b={};this.L=[];isNaN(a+c+d)&&y(this)}qb.prototype.w=!1;function rb(a,b){a.L.push(b);a.w&&y(b)}function y(a){a.w||(a.w=!0,a.L.forEach(function(a){y(a)}))}
function A(a,b){a.k===b.k&&(1===a.n&&2===b.n&&b.j>=a.j?(a.z=b,b.G=a,rb(a,b)):2===a.n&&1===b.n&&b.j<=a.j&&(a.G=b,b.z=a))}function sb(a){var b={},c;for(c in a.b)b[c]=a.b[c];return b}function tb(a,b){return a.w||a.k!==b.k||1!==b.n||2!==a.n||a.j<b.j||a.G&&a.G!==b||b.z&&b.z!==a?!1:!0}qb.prototype.m=function(a,b){this.b[a]=b};function za(a,b){a.b={};for(var c in b)a.b[c]=b[c]}
var ub,vb,B,E,H,wb,ya=new pb,xb,J,M,yb={Autoemail:{r:function(a,b){b.forEach(function(a){var b=N(1,"EMAIL",a[0][1],0,0);b.m("email",a[0][0]);a=O("EMAIL",a[0][1]+a[0][0].length,0);A(b,a)})},v:"@",x:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,A:5E4},Autolink:{r:function(a,b){b.forEach(function(a){var b=a[0][1];a=a[0][0].replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,"");if(/^www\.|^[^:]+:/i.test(a)){var c=O("URL",b+a.length,0);"."===a[3]&&(a="http://"+a);b=N(1,"URL",b,0,1);b.m("url",a);A(b,c)}})},v:"://",x:/\b(?:ftp|https?):\/\/\S(?:[^\s()\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\([^\s()]*\)|\[\w*\])+/ig,
A:5E4},Escaper:{r:function(a,b){b.forEach(function(a){R("ESC",a[0][1],1,a[0][1]+a[0][0].length,0)})},v:"\\",x:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,A:5E4},FancyPants:{r:function(a){function b(a,b,c,d){a=N(3,v,a,b,d||0);a.m(n,c);return a}function c(){if(!(0>a.indexOf("...")&&0>a.indexOf("--")))for(var c={"--":"\u2013","---":"\u2014","...":"\u2026"},d=/---?|\.\.\./g,l;l=d.exec(a);)b(+l.index,l[0].length,c[l[0]])}function d(){if(!(0>a.indexOf("/")))for(var c={"0/3":"\u2189","1/10":"\u2152","1/2":"\u00bd","1/3":"\u2153",
"1/4":"\u00bc","1/5":"\u2155","1/6":"\u2159","1/7":"\u2150","1/8":"\u215b","1/9":"\u2151","2/3":"\u2154","2/5":"\u2156","3/4":"\u00be","3/5":"\u2157","3/8":"\u215c","4/5":"\u2158","5/6":"\u215a","5/8":"\u215d","7/8":"\u215e"},d,l=/\b(?:0\/3|1\/(?:[2-9]|10)|2\/[35]|3\/[458]|4\/5|5\/[68]|7\/8)\b/g;d=l.exec(a);)b(+d.index,d[0].length,c[d[0]])}function g(){if(!(0>a.indexOf("<<")))for(var c,d=/<<( ?)(?! )[^\n<>]*?[^\n <>]\1>>(?!>)/g;c=d.exec(a);){var l=b(+c.index,2,"\u00ab");c=b(+c.index+c[0].length-2,
2,"\u00bb");rb(l,c)}}function f(){if(!(0>a.indexOf("!=")&&0>a.indexOf("=/=")))for(var c,d=/\b (?:!|=\/)=(?= \b)/g;c=d.exec(a);)b(+c.index+1,c[0].length-1,"\u2260")}function e(c,d,l,n){for(var p;p=d.exec(a);){var v=b(+p.index+p[0].indexOf(c),1,l);p=b(+p.index+p[0].length-1,1,n);rb(v,p)}}function m(){if(C)for(var c,d=/[a-z]'|(?:^|\s)'(?=[a-z]|[0-9]{2})/gi;c=d.exec(a);)b(+c.index+c[0].indexOf("'"),1,"\u2019",10)}function k(){if(C||K||!(0>a.indexOf("x")))for(var c={"'s":"\u2019","'":"\u2032","' ":"\u2032",
"'x":"\u2032",'"':"\u2033",'" ':"\u2033",'"x':"\u2033"},d,l=/[0-9](?:'s|["']? ?x(?= ?[0-9])|["'])/g;d=l.exec(a);){"x"===d[0][d[0].length-1]&&b(+d.index+d[0].length-1,1,"\u00d7");var n=d[0].substr(1,2);c[n]&&b(+d.index+1,1,c[n])}}function h(){if(!(0>a.indexOf("(")))for(var c={"(c)":"\u00a9","(r)":"\u00ae","(tm)":"\u2122"},d=/\((?:c|r|tm)\)/gi,l;l=d.exec(a);)b(+l.index,l[0].length,c[l[0].toLowerCase()])}var l={U:"char",K:"FP"},n=l.U,C=0<=a.indexOf("'"),K=0<=a.indexOf('"'),v=l.K;l.ea||(m(),C&&e("'",
/(?:^|\W)'.+?'(?!\w)/g,"\u2018","\u2019"),K&&e('"',/(?:^|\W)".+?"(?!\w)/g,"\u201c","\u201d"));l.ba||g();l.ca||(f(),k(),d());l.da||c();l.fa||h()}},HTMLComments:{r:function(a,b){b.forEach(function(a){var b=mb(a[0][0].substr(4,a[0][0].length-7));b=b.replace(/[<>]/g,"");b=b.replace(/-+$/,"");b=b.replace(/--/g,"");N(3,"HC",a[0][1],a[0][0].length,0).m("content",b)})},v:"\x3c!--",x:/\x3c!--(?!\[if)[\s\S]*?--\x3e/ig,A:5E4},HTMLElements:{r:function(a,b){var c={a:{"":"URL",href:"url"},em:{"":"EM"},hr:{"":"HR"},
s:{"":"S"},strong:{"":"STRONG"},sup:{"":"SUP"}};b.forEach(function(b){var d="/"===a[b[0][1]+1],f=b[0][1],e=b[0][0].length,m=b[2-d][0].toLowerCase(),k=c&&c[m]&&c[m][""]?c[m][""]:"html:"+m;if(d)O(k,f,e);else{d=/(<\S+|['"\s])\/>$/.test(b[0][0])?R(k,f,e,f+e,0):N(1,k,f,e,0);b=b[3][0];f=/[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?/gi;for(var h;k=f.exec(b);)h=k[0].indexOf("="),0>h&&(h=k[0].length,k[0]+="="+k[0].toLowerCase()),e=k[0].substr(0,h).toLowerCase().replace(/^\s+/,"").replace("/s+$/",
""),k=k[0].substr(1+h).replace(/^\s+/,"").replace("/s+$/",""),c&&c[m]&&c[m][e]&&(e=c[m][e]),/^["']/.test(k)&&(k=k.substr(1,k.length-2)),d.m(e,mb(k))}})},v:"<",x:/<(?:\/((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))|((?:a(?:bbr)?|br?|code|d(?:[dlt]|el|iv)|em|hr|i(?:mg|ns)?|li|ol|pre|r(?:[bp]|tc?|uby)|s(?:(?:pan|trong|u[bp]))?|t(?:[dr]|able|body|foot|h(?:ead)?)|ul?))((?:\s+[a-z][-a-z0-9]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)*)\s*\/?)\s*>/ig,
A:5E4},HTMLEntities:{r:function(a,b){b.forEach(function(a){var b=a[0][0],c=mb(b);c===b||32>c.charCodeAt(0)||N(3,"HE",a[0][1],b.length,0).m("char",c)})},v:"&",x:/&(?:[a-z]+|#(?:[0-9]+|x[0-9a-f]+));/ig,A:5E4},Litedown:{r:function(a){function b(a){-1<a.indexOf("&")&&(a=mb(a));a=a.replace(/\x1A/g,"");m&&(a=a.replace(/\x1B./g,function(a){return{"\u001b0":"!","\u001b1":'"',"\u001b2":"'","\u001b3":"(","\u001b4":")","\u001b5":"*","\u001b6":"[","\u001b7":"\\","\u001b8":"]","\u001b9":"^","\u001bA":"_","\u001bB":"`",
"\u001bC":"~"}[a]}));return a}function c(a){return 0<" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(a)}function d(b){a=a.substr(0,b)+"\u0017"+a.substr(b+1)}function g(b,c){0<c&&(a=a.substr(0,b)+Array(1+c).join("\u001a")+a.substr(b+c))}function f(b,c,d,f){function l(d){d=a.indexOf(c+"(",d);if(-1!==d){var n;for(f.lastIndex=d;n=f.exec(a);){var p=n[0];n=+n.index;var v=p.length;R(b,n,2,n+v-1,1);g(n,v)}p&&l(d)}}var n=a.indexOf(c);-1!==n&&(function(l){var n;for(d.lastIndex=l;n=
d.exec(a);){l=n[0];n=+n.index;var p=l.substr(-1)===c?1:0;R(b,n,1,n+l.length-p,p)}}(n),l(n))}function e(a,c,d){c=c.replace(/^\s*/,"").replace(/\s*$/,"");var l="",n=c.indexOf(" ");-1!==n&&(l=c.substr(n).replace(/^\s*\S/,"").replace(/\S\s*$/,""),c=c.substr(0,n));a.m(d,b(c));""<l&&a.m("title",b(l))}var m=!1,k=!1,h={};0<=a.indexOf("\\")&&(m=!0,a=a.replace(/\\[!"'()*[\\\]^_`~]/g,function(a){return{"\\!":"\u001b0",'\\"':"\u001b1","\\'":"\u001b2","\\(":"\u001b3","\\)":"\u001b4","\\*":"\u001b5","\\[":"\u001b6",
"\\\\":"\u001b7","\\]":"\u001b8","\\^":"\u001b9","\\_":"\u001bA","\\`":"\u001bB","\\~":"\u001bC"}[a]}));a+="\n\n\u0017";(function(){function b(a,b){A(O("LIST",b,0),a.X);A(O("LI",b,0),a.I);a.R&&a.J.forEach(function(a){a.e&=-9})}function c(a,b){for(var c=a;0<=--b;)c=c.replace(/^ *> ?/,"");return a.length-c.length}function f(b,c){return/[ \t]*#*[ \t]*$/.exec(a.substr(b,c-b))[0].length}function e(){if(-1!==a.indexOf("-")||-1!==a.indexOf("="))for(var b,c=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;b=c.exec(a);){var d=
b[0];b=+b.index;for(var l=b-1;0<l&&" "===a[l-1];)--l;v[b-1]={N:b+d.length-l,O:l,Z:d.length-d.replace(/>/g,"").length,K:"="===d[0]?"H1":"H2"}}}var v={};(function(){e();for(var l,n=4,h,m=!0,k=[],C=0,K=!1,Hb=[],qa=0,P=0,ra,ba,Ea,L,Ta,Ib,I,F,Ua,Fa,T,U,ca,Jb=[],Va,Ga=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;Va=Ga.exec(a);)Jb.push(Va),Va.index===Ga.lastIndex&&++Ga.lastIndex;
Jb.forEach(function(e){var p=+e.index,G=e[0].length,D;T=L=0;ba=!m;I=a.indexOf("\n",p);m=I===p+G&&!e[3]&&!e[4]&&!e[5];G||++Ga.lastIndex;ra=m&&ba;e[1]&&(T=e[1].length-e[1].replace(/>/g,"").length,L=e[1].length,h&&"quoteDepth"in h.b&&(T=Math.min(T,h.b.quoteDepth),L=c(e[1],T)),g(p,L));if(T<qa&&!ba){K=!0;do A(O("QUOTE",P,0),Hb.pop());while(T<--qa)}if(T>qa&&!m){K=!0;do{var S=N(1,"QUOTE",p,0,qa-999||0);Hb.push(S)}while(T>++qa)}var Q=D=0;if(e[2]&&!l){Ta=e[2];Ib=Ta.length;do" "===Ta[Q]?++D:D=D+4&-4;while(++Q<
Ib&&D<n)}h&&!l&&D<n&&!m&&(K=!0);K&&(K=!1,h&&(P>h.j?(g(h.j,P-h.j),Ea=O("CODE",P,0,-1),A(Ea,h)):y(h),l=h=null),k.forEach(function(a){b(a,P)}),k=[],C=0,p&&d(p-1));if(D>=n){if(h||!ba)L=(e[1]||"").length+Q,h||(h=N(1,"CODE",p+L,0,-999)),e={}}else{S=!!e[4];if(D||ba||S)if(ba&&!S)F=C-1;else if(C)for(F=0;F<C&&D>k[F].P;)++F;else F=S?0:-1;else F=-1;for(;F<C-1;)b(k.pop(),P),--C;F!==C||S||--F;if(S&&0<=F)if(ra=!0,U=p+L+Q,ca=e[4].length,Q=N(1,"LI",U,ca,0),g(U,ca),F<C)A(O("LI",P,0),k[F].I),k[F].I=Q,k[F].J.push(Q);
else{++C;F?(Fa=k[F-1].P+1,Ua=Math.max(Fa,4*F)):(Fa=0,Ua=D);D=N(1,"LIST",U,0,0);if(-1<e[4].indexOf(".")){D.m("type","decimal");var Gb=+e[4];1!==Gb&&D.m("start",Gb)}k.push({X:D,I:Q,J:[Q],ga:Fa,P:Ua,R:!0})}!C||ba||m||(1<k[0].J.length||!S)&&k.forEach(function(a){a.R=!1});n=4*(C+1)}if(e[5])if("#"===e[5][0])Q=e[5].length,S=p+G-Q,D=f(p+G,I),G=I-D,R("H"+/#{1,6}/.exec(e[5])[0].length,S,Q,G,D),d(S),d(I),ba&&(ra=!0);else{if("`"===e[5][0]||"~"===e[5][0])U=p+L,ca=I-U,h&&e[5]===l?(Ea=O("CODE",U,ca,-1),A(Ea,h),
V(P,U-P),g(h.j,U+ca-h.j),l=h=null):h||(h=N(1,"CODE",U,ca,0),l=e[5].replace(/[^`~]+/,""),h.m("quoteDepth",T),V(U+ca,1),e=e[5].replace(/^[`~\s]*/,"").replace(/\s+$/,""),""!==e&&h.m("lang",e))}else e[3]&&!C&&"\u0017"!==a[p+G]?(N(3,"HR",p+L,G-L,0),ra=!0,d(I)):!v[I]||v[I].Z!==T||m||C||h||(R(v[I].K,p+L,0,v[I].O,v[I].N),d(v[I].O+v[I].N));ra&&(N(3,"pb",P,0,0),d(P));m||(P=I);L&&V(p,L,1E3)})})()})();(function(){if(!(0>a.indexOf("]:")))for(var b,c=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^[\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?) *(?=$|\x17)\n?/gm;b=
c.exec(a);){V(+b.index,b[0].length);var d=b[1].toLowerCase();h[d]||(k=!0,h[d]=b[2])}})();(function(){var b=a.indexOf("`");if(0>b)var c=[];else{c=/(`+)(\s*)[^\x17`]*/g;var d=0,e=[],h=a.replace(/\x1BB/g,"\\`");for(c.lastIndex=b;b=c.exec(h);)e.push({j:+b.index,l:b[1].length,S:d,aa:b[2].length,Q:b.index+b[0].length}),d=b[0].length-b[0].replace(/\s+$/,"").length;c=e}h=-1;for(d=c.length;++h<d-1;)for(b=c[h].Q,e=h,"`"!==a[c[h].j]&&(++c[h].j,--c[h].l);++e<d&&c[e].j===b;){if(c[e].l===c[h].l){h=c[h];var f=c[e];
b=h.j;var m=f.j-f.S;f=f.l+f.S;R("C",b,h.l+h.aa,m,f);g(b,m+f-b);h=e;break}b=c[e].Q}})();(function(){function c(a,c,d,h,l){var n=R("IMG",a,2,c,d);e(n,h,"src");n.m("alt",b(l));g(a,c+d-a)}(function(){var b=a.indexOf("![");if(-1!==b){if(0<a.indexOf("](",b))for(var d=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;b=d.exec(a);){var e=b[1],l=+b.index,f=3+e.length;c(l,l+b[0].length-f,f,e,b[0].substr(2,b[0].length-f-2))}if(k)for(d=
/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;b=d.exec(a);){e=+b.index;l=e+2+b[1].length;f=1;var m=b[1],g=m;if(""<b[2]&&h[b[2]])f=b[0].length-m.length-2,g=b[2];else if(!h[g])continue;c(e,l,f,h[g],m)}}})()})();(function(){function b(a,b,c,d){var h=R("URL",a,1,b,c,1===c?1:-1);e(h,d,"url");g(a,1);g(b,c)}function c(){for(var c,d=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;c=d.exec(a);){var e=
c[1],h=+c.index,l=3+e.length;b(h,h+c[0].length-l,l,e)}}function d(){for(var c={},d,e=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;d=e.exec(a);)c[d.index]=d[1].toLowerCase();for(var l in c){d=c[l];e=+l+2+d.length;var f=e-1,n=1;" "===a[e]&&++e;""<c[e]&&h[c[e]]&&(d=c[e],n=e+2+d.length-f);h[d]&&b(+l,f,n,h[d])}}-1!==a.indexOf("](")&&c();k&&d()})();(function(){if(-1!==a.indexOf("~~"))for(var b,c=/~~[^\x17]+?~~(?!~)/g;b=c.exec(a);){var d=+b.index;b=d+b[0].length-2;R("DEL",d,2,b,2);g(d,2);g(b,2)}})();f("SUB",
"~",/~(?!\()[^\x17\s~()]+~?/g,/~\([^\x17()]+\)/g);f("SUP","^",/\^(?!\()[^\x17\s^()]+\^?/g,/\^\([^\x17()]+\)/g);(function(){function b(b,e){var h=a.indexOf(b);if(-1!==h){var f=[],l=[],n=a.indexOf("\u0017",h),g;for(e.lastIndex=h;g=e.exec(a);)h=+g.index,g=g[0].length,h>n&&(l.push(f),f=[],n=a.indexOf("\u0017",h)),"_"===a.charAt(h)&&1===g&&0<h&&c(a[h-1])&&c(a[h+g])||f.push([h,g]);l.push(f);l.forEach(d)}}function d(b){k=f=null;b.forEach(function(b){var c=b[0];b=b[1];var d=!(-1<" \n\t".indexOf(a[c+b-1+1])),
l=0<c&&-1<" \n\t".indexOf(a.charAt(c-1))?0:Math.min(b,3);e=l&1&&null!==f;h=l&2&&null!==k;Sa=m=c;g=b;null!==f&&f===k&&(e?f+=2:++k);e&&h&&(f<k?m+=2:++Sa);e&&(--g,R("EM",f,1,m,1),f=null);h&&(g-=2,R("STRONG",k,2,Sa,2),k=null);g=d?Math.min(g,3):0;c+=b;g&1&&(f=c-g);g&2&&(k=c-g)})}var e,h,f,m,g,k,Sa;b("*",/\*+/g);b("_",/_+/g)})();(function(){for(var b=a.indexOf("  \n");0<b;)N(3,"br",b+2,0,0),b=a.indexOf("  \n",b+3)})()}},MediaEmbed:{r:function(a,b){b.forEach(function(a){var b=a[0][0];N(3,"MEDIA",a[0][1],
b.length,-10).m("url",b)})},v:"://",x:/\bhttps?:\/\/[^["'\s]+/ig,A:5E4},PipeTables:{r:function(a){function b(a,b){f=b.j;b.E.split("|").forEach(function(b,c){0<c&&(rb(m,V(f,1,1E3)),++f);var d=e.M[c]?e.M[c]:"",h=f,l=h+b.length;f=l;var g=/^( *).*?( *)$/.exec(b);if(g[1]){var n=g[1].length;rb(m,V(h,n,1E3));h+=n}g[2]&&(n=g[2].length,rb(m,V(l-n,n,1E3)),l-=n);l=h===l?N(3,a,h,0,-101):R(a,h,0,l,0,-101);d&&l.m("align",d)});R("TR",b.j,0,f,0,-102)}function c(){if(e&&2<e.q.length&&/^ *:?-+:?(?:(?:\+| *\| *):?-+:?)+ */.test(e.q[1].E)){for(var a=
e,b=e.q[1].E,c=["","right","left","center"],d=[],f=/(:?)-+(:?)/g,g;g=f.exec(b);)d.push(c[(g[1]?2:0)+(g[2]?1:0)]);a.M=d;k.push(e)}e=null}function d(a){return a.replace(/>/g," ")}function g(a){return a.replace(/\|/g,".")}var f,e=null,m,k;-1<a.indexOf("`")&&(a=a.replace(/`[^`]*`/g,g));-1<a.indexOf(">")&&(a=a.replace(/^(?:> ?)+/gm,d));-1<a.indexOf("\\|")&&(a=a.replace(/\\[\\|]/g,".."));(function(){e=null;k=[];f=0;a.split("\n").forEach(function(a){if(0>a.indexOf("|"))c();else{var b=a,d=0;e||(e={q:[]},
d=/^ */.exec(b)[0].length,b=b.substr(d));b=b.replace(/^( *)\|/,"$1 ").replace(/\|( *)$/," $1");e.q.push({E:b,j:f+d})}f+=1+a.length});c()})();(function(){for(var a=-1,c=k.length;++a<c;){e=k[a];var d=e.q[e.q.length-1];m=R("TABLE",e.q[0].j,0,d.j+d.E.length,0,-104);b("TH",e.q[0]);R("THEAD",e.q[0].j,0,f,0,-103);d=e.q[1];rb(m,V(d.j-1,1+d.E.length,1E3));d=1;for(var g=e.q.length;++d<g;)b("TD",e.q[d]);R("TBODY",e.q[2].j,0,f,0,-103)}})()},v:"|"}},W,Ca={"MediaEmbed.hosts":{"bandcamp.com":"bandcamp","dai.ly":"dailymotion",
"dailymotion.com":"dailymotion","facebook.com":"facebook","liveleak.com":"liveleak","open.spotify.com":"spotify","play.spotify.com":"spotify","soundcloud.com":"soundcloud","twitch.tv":"twitch","vimeo.com":"vimeo","vine.co":"vine","youtu.be":"youtube","youtube.com":"youtube"},"MediaEmbed.sites":{bandcamp:[[],[{B:[[/\/album=(\d+)/,ua]],F:[[/bandcamp\.com\/album\/./,aa]]},{B:[[/"album_id":(\d+)/,ua],[/"track_num":(\d+)/,["","track_num"]],[/\/track=(\d+)/,ta]],F:[[/bandcamp\.com\/track\/./,aa]]}]],dailymotion:[[[/dai\.ly\/([a-z0-9]+)/i,
q],[/dailymotion\.com\/(?:live\/|swf\/|user\/[^#]+#video=|(?:related\/\d+\/)?video\/)([a-z0-9]+)/i,q],[/start=(\d+)/,ea]],[]],facebook:[[[/\/(?!(?:apps|developers|graph)\.)[-\w.]*facebook\.com\/(?:[\/\w]+\/permalink|(?!pages\/|groups\/).*?)(?:\/|fbid=|\?v=)(\d+)(?=$|[\/?&#])/,q],[/facebook\.com\/(\w+)\/(post|video)s?\//,["","user","type"]],[/facebook\.com\/video\/(post|video)\.php/,["","type"]]],[]],liveleak:[[[/liveleak\.com\/(?:e\/|view\?i=)(\w+)/,q]],[{B:[[/liveleak\.com\/e\/(\w+)/,q]],F:[[/liveleak\.com\/view\?t=/,
aa]]}]],soundcloud:[[[/https?:\/\/(?:api\.)?soundcloud\.com\/(?!pages\/)([-\/\w]+\/[-\/\w]+|^[^\/]+\/[^\/]+$)/i,q],[/api\.soundcloud\.com\/playlists\/(\d+)/,va],[/api\.soundcloud\.com\/tracks\/(\d+)(?:\?secret_token=([-\w]+))?/,["","track_id","secret_token"]],[/soundcloud\.com\/(?!playlists|tracks)[-\w]+\/[-\w]+\/(?=s-)([-\w]+)/,["","secret_token"]]],[{B:[[/soundcloud:tracks:(\d+)/,ta]],W:"User-agent: PHP (not Mozilla)",F:[[/soundcloud\.com\/(?!playlists\/\d|tracks\/\d)[-\w]+\/[-\w]/,aa]]},{B:[[/soundcloud:\/\/playlists:(\d+)/,
va]],W:"User-agent: PHP (not Mozilla)",F:[[/soundcloud\.com\/\w+\/sets\//,aa]]}]],spotify:[[[/(?:open|play)\.spotify\.com\/((?:album|artist|track|user)(?:[:\/][-.\w]+)+)/,q]],[]],twitch:[[[/twitch\.tv\/(?:videos|\w+\/v)\/(\d+)?/,["","video_id"]],[/www\.twitch\.tv\/(?!videos\/)(\w+)/,["","channel"]],[/t=((?:(?:\d+h)?\d+m)?\d+s)/,ea],[/clips\.twitch\.tv\/(?:(\w+)\/)?(\w+)/,["","channel","clip_id"]]],[]],vimeo:[[[/vimeo\.com\/(?:channels\/[^\/]+\/|video\/)?(\d+)/,q],[/#t=([\dhms]+)/,ea]],[]],vine:[[[/vine\.co\/v\/([^\/]+)/,
q]],[]],youtube:[[[/youtube\.com\/(?:watch.*?v=|v\/|attribution_link.*?v%3D)([-\w]+)/,q],[/youtu\.be\/([-\w]+)/,q],[/[#&?]t=(\d[\dhms]*)/,ea],[/[&?]list=([-\w]+)/,["","list"]]],[{B:[[/\/vi\/([-\w]+)/,q]],F:[[/\/shared\?ci=/,aa]]}]]},urlConfig:{T:/^(?:ftp|https?)$/i}},zb={d:ma,e:8},X={BANDCAMP:{d:t,b:{album_id:w,track_id:w,track_num:w},g:5,c:z,h:10,f:r,i:5E3},C:Na,CODE:{d:da,b:{lang:La},g:1,c:z,h:10,f:{o:x,e:4436,p:x},i:5E3},DAILYMOTION:{d:t,b:{id:w,t:w},g:5,c:z,h:10,f:r,i:5E3},DEL:Xa,EM:Ra,EMAIL:{d:ka,
b:{email:{c:[function(a){return/^[-\w.+]+@[-\w.]+$/.test(a)?a:!1}],u:!0}},g:5,c:z,h:10,f:ha,i:5E3},ESC:{d:da,b:{},g:6,c:z,h:10,f:{e:1616},i:5E3},FACEBOOK:{d:t,b:{id:w,type:w,user:w},g:5,c:z,h:10,f:r,i:5E3},FP:ab,H1:cb,H2:cb,H3:cb,H4:cb,H5:cb,H6:cb,HC:{d:da,b:{content:wa},g:6,c:z,h:10,f:{e:3153},i:5E3},HE:ab,HR:{d:la,b:{},g:1,c:z,h:10,f:{o:x,e:3349},i:5E3},IMG:{d:la,b:{alt:w,src:Ma,title:w},g:0,c:z,h:10,f:r,i:5E3},LI:gb,LIST:{d:pa,b:{start:{c:[function(a){return Aa(a)}],u:!1},type:La},g:1,c:z,h:10,
f:Qa,i:5E3},LIVELEAK:$a,MEDIA:{d:[65527,65304],b:{},g:15,c:[function(a){return function(a,c,d){function b(a,b,c){var d=!1;c.forEach(function(c){var e=c[1],h=c[0].exec(b);h&&(d=!0,e.forEach(function(b,c){""<h[c]&&""<b&&(a[b]=h[c])}))});return d}(function(a,c,d){y(a);if("url"in a.b){var e=a.b.url,h;a:{for(h=/^https?:\/\/([^\/]+)/.exec(e.toLowerCase())[1]||"";""<h;){if(c[h]){h=c[h];break a}h=h.replace(/^[^.]*./,"")}h=""}if(d[h]){c={};b(c,e,d[h][0]);a:{for(var f in c){d=!1;break a}d=!0}if(!d){d=a.j;var g=
a.z;g?(e=a.l,f=g.j,g=g.l):(e=0,f=a.j+a.l,g=0);a=R(h.toUpperCase(),d,e,f,g,a.y);za(a,c)}}}})(a,c,d)}(a,Ca["MediaEmbed.hosts"],Ca["MediaEmbed.sites"],Ca.cacheDir)}],h:10,f:{e:513},i:5E3},QUOTE:{d:ja,b:{},g:1,c:z,h:10,f:Oa,i:5E3},SOUNDCLOUD:{d:t,b:{id:w,playlist_id:w,secret_token:w,track_id:w},g:5,c:z,h:10,f:r,i:5E3},SPOTIFY:$a,STRONG:Ra,SUB:Wa,SUP:Wa,TABLE:eb,TBODY:jb,TD:{d:ja,b:bb,g:9,c:z,h:10,f:Za,i:5E3},TH:{d:na,b:bb,g:9,c:z,h:10,f:Za,i:5E3},THEAD:fb,TR:ib,TWITCH:{d:t,b:{channel:w,clip_id:w,t:w,
video_id:w},g:5,c:z,h:10,f:r,i:5E3},URL:{d:ka,b:{title:w,url:Ma},g:4,c:z,h:10,f:ha,i:5E3},VIMEO:{d:t,b:{id:w,t:Ba},g:5,c:z,h:10,f:r,i:5E3},VINE:$a,YOUTUBE:{d:t,b:{id:{c:[function(a){return Ka(a,/^[-0-9A-Za-z_]+$/)}],u:!1},list:w,t:Ba},g:5,c:z,h:10,f:r,i:5E3},"html:abbr":{d:u,b:{title:w},g:0,c:z,h:10,f:fa,i:5E3},"html:b":Ra,"html:br":{d:sa,b:{},g:0,c:z,h:10,f:ia,i:5E3},"html:code":Na,"html:dd":{d:ja,b:{},g:11,c:z,h:10,f:Ya,i:5E3},"html:del":Xa,"html:div":{d:ma,b:xa,g:12,c:z,h:10,f:Oa,i:5E3},"html:dl":{d:[65344,
65432],b:{},g:1,c:z,h:10,f:Qa,i:5E3},"html:dt":{d:na,b:{},g:11,c:z,h:10,f:Ya,i:5E3},"html:i":Ra,"html:img":{d:sa,b:{alt:w,height:w,src:{c:Ja,u:!1},title:w,width:w},g:0,c:z,h:10,f:ia,i:5E3},"html:ins":Xa,"html:li":gb,"html:ol":db,"html:pre":{d:u,b:{},g:1,c:z,h:10,f:{o:x,e:276,p:x},i:5E3},"html:rb":{d:u,b:{},g:13,c:z,h:10,f:Pa,i:5E3},"html:rp":hb,"html:rt":hb,"html:rtc":{d:[65521,65472],b:{},g:13,c:z,h:10,f:Pa,i:5E3},"html:ruby":{d:[65521,65504],b:{},g:0,c:z,h:10,f:fa,i:5E3},"html:span":{d:u,b:xa,g:0,
c:z,h:10,f:fa,i:5E3},"html:strong":Ra,"html:sub":Wa,"html:sup":Wa,"html:table":eb,"html:tbody":jb,"html:td":{d:ja,b:{colspan:w,rowspan:w},g:9,c:z,h:10,f:Za,i:5E3},"html:tfoot":jb,"html:th":{d:na,b:{colspan:w,rowspan:w,scope:w},g:9,c:z,h:10,f:Za,i:5E3},"html:thead":fb,"html:tr":ib,"html:u":Ra,"html:ul":db},Y,Ab,Z,Bb,Cb=0,Db;
function Eb(a){a=a.replace(/\r\n?/g,"\n");a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,"");ub={};vb={};E=0;H=null;wb=!1;xb={};J=[];M="";W=0;Y=[];Ab=!1;Z=a;Bb=Z.length;Db=0;B=zb;B.D=!1;++Cb;a=Cb;for(var b in yb)if(!yb[b].H)a:{var c=b,d=yb[c];if(!(d.v&&0>Z.indexOf(d.v))){var g=[];if(d.x){g=void 0;var f=d.x;d=d.A;f.lastIndex=0;for(var e=[],m=0;++m<=d&&(g=f.exec(Z));){for(var k=+g.index,h=[[g[0],k]],l=0;++l<g.length;){var n=g[l];void 0===n?h.push(["",-1]):(h.push([n,Z.indexOf(n,k)]),k+=n.length)}e.push(h)}g=
e;if(!g.length)break a}(0,yb[c].r)(Z,g)}}Fb();Kb(Bb,0,!0);do b=M,M=M.replace(/<([^ />]+)[^>]*><\/\1>/g,"");while(M!==b);M=M.replace(/<\/i><i>/g,"");M=M.replace(/[\x00-\x08\x0B-\x1F]/g,"");M=M.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lb);c=wb?"r":"t";b="<"+c;for(var C in xb)b+=" xmlns:"+C+'="urn:s9e:TextFormatter:'+C+'"';M=b+">"+M+"</"+c+">";if(Cb!==a)throw"The parser has been reset during execution";return M}function Lb(a){return"&#"+((a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888)+";"}
function Mb(a){wb=!0;var b=a.k,c=a.j,d=a.l,g=a.e,f=0,e=0;g&256&&(f=1,e=a.n&2?2:1);var m=!1;a.n&1?g&4&&(m=!0):m=!0;Kb(c,f,m);f=d?ob(Z.substr(c,d)):"";if(a.n&1){g&4||Nb(c);g=b.indexOf(":");0<g&&(xb[b.substr(0,g)]=0);M+="<"+b;var k=sb(a);g=[];for(var h in k)g.push(h);g.sort(function(a,b){return a>b?1:-1});g.forEach(function(a){M+=" "+a+'="'+nb(k[a].toString()).replace(/\n/g,"&#10;")+'"'});M=3===a.n?d?M+(">"+f+"</"+b+">"):M+"/>":d?M+("><s>"+f+"</s>"):M+">"}else d&&(M+="<e>"+f+"</e>"),M+="</"+b+">";for(Db=
W=c+d;e&&Db<Bb&&"\n"===Z[Db];)--e,++Db}
function Kb(a,b,c){c&&(B.e&8?b=-1:c=!1);W>=a&&c&&Ob();if(Db>W){var d=Math.min(a,Db);M+=Z.substr(W,d-W);W=d;W>=a&&c&&Ob()}if(B.e&128)d=a-W,b=Z.substr(W,d),/^[ \n\t]*$/.test(b)||(b="<i>"+ob(b)+"</i>"),M+=b,W=a,c&&Ob();else{var g=a;for(d=0;b&&--g>=W;){var f=Z[g];if(" "!==f&&"\n"!==f&&"\t"!==f)break;"\n"===f&&--b;++d}a-=d;if(B.e&8)for(B.D||(Pb(a),a>W&&Nb(a)),b=Z.indexOf("\n\n",W);-1<b&&b<a;)Kb(b,0,!0),Nb(a),b=Z.indexOf("\n\n",W);a>W&&(b=ob(Z.substr(W,a-W)),M+=b);c&&Ob();d&&(M+=Z.substr(a,d));W=a+d}}
function Qb(a){var b=a.j;a=a.l;var c=Z.substr(b,a);Kb(b,0,!1);M+="<i>"+ob(c)+"</i>";wb=!0;W=b+a}function Nb(a){!B.D&&B.e&8&&(Pb(a),W<Bb&&(M+="<p>",B.D=!0))}function Ob(){B.D&&(M+="</p>",B.D=!1)}function Pb(a){for(;W<a&&-1<" \n\t".indexOf(Z[W]);)M+=Z[W],++W}function Rb(a,b,c){var d=a.k;(H.e|a.e)&256&&(b=Sb(b));b=O(d,b,0,c||0);A(b,a)}function Sb(a){for(;a>W&&-1<" \n\t".indexOf(Z[a-1]);)--a;return a}
function Fb(){if(Y.length){for(var a in X)ub[a]=0,vb[a]=0;do{for(;Y.length;)Ab||(Y.sort(Tb),Ab=!0),H=Y.pop(),Ub();J.forEach(function(a){Rb(a,Bb)})}while(Y.length)}}
function Ub(){B.e&64&&!tb(H,J[J.length-1])&&!(-1<"br i pb v".indexOf(H.k))&&y(H);var a=H.j,b=H.l;if(W>a&&!H.w){var c;if((c=H.G)&&0<=J.indexOf(c)){A(O(c.k,W,Math.max(0,a+b-W)),c);return}if("i"===H.k&&(a=a+b-W,0<a)){V(W,a);return}y(H)}if(!H.w)if("i"===H.k)Qb(H);else if("br"===H.k)B.e&1024||(Kb(H.j,0,!1),M+="<br/>");else if("pb"===H.k)Kb(H.j,0,!0);else if("v"===H.k)a=B.e,B.e=H.e,Kb(H.j+H.l,0,!1),B.e=a;else if(H.n&1)if(a=H,b=a.k,c=X[b],vb[b]>=c.i)y(a);else{for(var d=a,g=X[d.k],f=0;f<g.c.length&&!d.w;++f)g.c[f](d,
g);if(!(d=a.w)&&(d=1E4>E)){a:{d=a;if(J.length){f=d.k;var e=X[f];if(e.f.p){g=J[J.length-1];var m=g.k;if(e.f.p[m]){if(m!==f&&1E4>E){f=d.j+d.l;Y.length?(e=Y[Y.length-1],e=e.j):e=Bb+1;for(;f<e&&-1<" \n\t".indexOf(Z[f]);)++f;f=Vb(g,f);rb(d,f)}Y.push(d);Rb(g,d.j,d.y-1);E+=4;d=!0;break a}}}d=!1}if(!d)a:{d=a;if(J.length&&(g=X[d.k],g.f.o&&(f=J[J.length-1],g.f.o[f.k]))){++E;Y.push(d);Rb(f,d.j,d.y-1);d=!0;break a}d=!1}d=d||!1}d||(ub[b]>=c.h?y(a):(c=X[b].g,B.d[c>>3]&1<<(c&7)?(!(a.e&1)||a.z||Y.length&&tb(Y[Y.length-
1],a)||(b=new qb(3,b,a.j,a.l),za(b,sb(a)),b.e=a.e,a=b),a.e&4096&&!a.z&&"\n"===Z[a.j+a.l]&&V(a.j+a.l,1),Mb(a),Wb(a)):y(a)))}else Xb()}
function Xb(){var a=H;if(ub[a.k]){for(var b=[],c=J.length;0<=--c;){var d=J[c];if(tb(a,d))break;b.push(d);++E}if(!(0>c)){var g=a.e;b.forEach(function(a){g|=a.e});var f=g&256,e=1E4>E,m=[];b.forEach(function(b){var c=b.k;e&&(b.e&2?m.push(b):e=!1);var d=a.j;f&&(d=Sb(d));c=new qb(2,c,d,0);c.e=b.e;Mb(c);Yb()});Mb(a);Yb();if(b.length&&1E4>E){d=W;for(c=Y.length;0<=--c&&1E4>++E;){var k=Y[c];if(k.j>d||k.n&1)break;for(var h=b.length;0<=--h&&1E4>++E;)if(tb(k,b[h])){b.splice(h,1);m[h]&&m.splice(h,1);d=Math.max(d,
k.j+k.l);break}}d>W&&Qb(new qb(3,"i",W,d-W))}m.forEach(function(a){var b=Vb(a,W);(a=a.z)&&A(b,a)})}}}function Yb(){var a=J.pop();--ub[a.k];B=B.Y}function Wb(a){var b=a.k,c=a.e,d=X[b];++vb[b];if(3!==a.n){var g=[];c&512?B.d.forEach(function(a,b){g.push(d.d[b]&a)}):B.d.forEach(function(a,b){g.push(d.d[b]&(a&65280|a>>8))});c|=B.e&32;c&16&&(c&=-33);++ub[b];J.push(a);B={d:g,e:c,Y:B}}}function O(a,b,c,d){return N(2,a,b,c,d||0)}function V(a,b,c){return N(3,"i",a,Math.min(b,Bb-a),c||0)}
function Vb(a,b){var c=N(a.n,a.k,b,0,a.y);za(c,sb(a));return c}function N(a,b,c,d,g){a=new qb(a,b,c,d,g||0);X[b]&&(a.e=X[b].f.e);if(!(X[b]||-1<"br i pb v".indexOf(a.k))||0>d||0>c||c+d>Bb||/[\uDC00-\uDFFF]/.test(Z.substr(c,1)+Z.substr(c+d,1)))y(a);else if(X[b]&&X[b].H)y(a);else if(Ab){for(b=Y.length;0<b&&0<Tb(Y[b-1],a);)Y[b]=Y[b-1],--b;Y[b]=a}else Y.push(a);return a}function R(a,b,c,d,g,f){d=O(a,d,g,-f||0);a=N(1,a,b,c,f||0);A(a,d);return a}
function Tb(a,b){var c=a.j,d=b.j;if(c!==d)return d-c;if(a.y!==b.y)return b.y-a.y;c=a.l;d=b.l;return c&&d?c-d:c||d?c?-1:1:(c={2:0,3:1,1:2},c[b.n]-c[a.n])}var Zb="undefined"===typeof DOMParser||"undefined"===typeof XSLTProcessor;function $b(a,b){if(Zb){var c=new ActiveXObject(b);c.async=!1;c.validateOnParse=!1;c.loadXML(a);return c}return(new DOMParser).parseFromString(a,"text/xml")}
function ac(a,b){if(Zb){var c=b.createElement("div"),d=b.createDocumentFragment();bc.input=$b(a,"MSXML2.DOMDocument.6.0");bc.transform();for(c.innerHTML=bc.output;c.firstChild;)d.appendChild(c.firstChild);return d}return b.importNode(bc.transformToFragment($b(a),b),!0)}var bc,cc=$b(kb,"MSXML2.FreeThreadedDOMDocument.6.0");if(Zb){var dc=new ActiveXObject("MSXML2.XSLTemplate.6.0");dc.stylesheet=cc;bc=dc.createProcessor()}else bc=new XSLTProcessor,bc.importStylesheet(cc);window.s9e||(window.s9e={});
window.s9e.TextFormatter={disablePlugin:function(a){yb[a]&&(yb[a].H=!0)},enablePlugin:function(a){yb[a]&&(yb[a].H=!1)},preview:function(a,b){function c(a,b){for(var c=a.childNodes,f=b.childNodes,k=c.length,m=f.length,K,v,p=0,G=0;p<k&&p<m;){K=c[p];v=f[p];if(!d(K,v))break;++p}for(var D=Math.min(k-p,m-p);G<D;){K=c[k-(G+1)];v=f[m-(G+1)];if(!d(K,v))break;++G}for(k-=G;--k>=p;)a.removeChild(c[k]),e=a;c=m-G;if(!(p>=c)){m=g.createDocumentFragment();k=p;do e=m.appendChild(f[k]);while(k<--c);G?a.insertBefore(m,
a.childNodes[p]):a.appendChild(m)}}function d(a,b){if(a.nodeName!==b.nodeName||a.nodeType!==b.nodeType)return!1;if(3===a.nodeType||8===a.nodeType)return a.nodeValue!==b.nodeValue&&(a.nodeValue=b.nodeValue,e=a),!0;if(!a.isEqualNode||!a.isEqualNode(b)){for(var d=a.attributes,f=b.attributes,g=f.length,k=d.length,m=" "+d["data-s9e-livepreview-ignore-attrs"]+" ";0<=--k;){var v=d[k],p=v.namespaceURI;v=v.name;-1<m.indexOf(" "+v+" ")||b.hasAttributeNS(p,v)||(a.removeAttributeNS(p,v),e=a)}for(k=g;0<=--k;)d=
f[k],p=d.namespaceURI,v=d.name,d=d.value,-1<m.indexOf(" "+v+" ")||d===a.getAttributeNS(p,v)||(a.setAttributeNS(p,v,d),e=a);c(a,b)}return!0}var g=b.ownerDocument,f=ac(Eb(a).replace(/<[eis]>.*?<\/[eis]>/g,""),g),e=b;c(b,f);return e}};})();

		var textarea = document.getElementsByTagName('textarea')[0],
			preview  = document.getElementById('preview'),
			outline  = document.getElementById('outline'),
			text     = '';

		setInterval(function()
		{
			if (textarea.value === text)
			{
				return;
			}

			var lastUpdated = s9e.TextFormatter.preview(textarea.value, preview);
			if (text !== '' && !preview.isSameNode(lastUpdated))
			{
				scrollToNode(lastUpdated);
				highlightNode(lastUpdated);
			}
			text = textarea.value;
		}, 20);

		function scrollToNode(target)
		{
			var nodes       = [target, target.previousSibling, target.parentNode],
				previewRect = preview.getBoundingClientRect(),
				i           = 0;
			do
			{
				var node = nodes[i];
				if (!node || !node.getBoundingClientRect || !node.scrollIntoView)
				{
					continue;
				}

				var rect = node.getBoundingClientRect();
				if (rect.bottom > previewRect.bottom || rect.top < previewRect.top)
				{
					node.scrollIntoView();
				}
				break;
			}
			while (++i < 3);
		}

		function highlightNode(target)
		{
			var nodes = [target, target.parentNode],
				i     = 0;
			do
			{
				var node = nodes[i];
				if (!node || !node.getBoundingClientRect)
				{
					continue;
				}

				var rect  = node.getBoundingClientRect(),
					style = outline.style;
				style.height = rect.height + 'px';
				style.width  = rect.width + 'px';
				style.top    = rect.y + 'px';
				style.left   = rect.x + 'px';

				break;
			}
			while (++i < 2);

			if (i > 1)
			{
				outline.style.width = outline.style.height = 0;
				outline.style.left = '-10px';
			}
		}

		function toggle(el)
		{
			(el.checked) ? s9e.TextFormatter.enablePlugin(el.id)
			             : s9e.TextFormatter.disablePlugin(el.id);

			text = '';
		}
	</script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/punycode/1.4.1/punycode.min.js"></script>
</body>
</html>